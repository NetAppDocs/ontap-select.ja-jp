<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="f601b21fb8e0d97eaf4f9b6866a264f6" category="summary">ONTAP Select 9.6 パフォーマンスに関するパフォーマンス情報 - HA 直接接続型のプレミアム SSD ストレージ。</block>
  <block id="40bfcfb823eef6d953345bec6901d94b" category="doc">ONTAP Select 9.6 パフォーマンス： Premium HA 直接接続 SSD ストレージ</block>
  <block id="2d1e1ff5065ae8a1f3c889ed2101b09c" category="paragraph">リファレンスプラットフォームのパフォーマンス情報。</block>
  <block id="e4491605377fcc65eaedf127cb13bb15" category="section-title">リファレンス・プラットフォーム</block>
  <block id="e4a309f15020053335305c42e7ab8866" category="paragraph">ONTAP Select 9.6 （ Premium XL ）ハードウェア（ノードあたり）</block>
  <block id="bb0064a43bb00378129d1ac5e83e43bf" category="list-text">Fujitsu PRIMERGY RX2540 M4 ：</block>
  <block id="9dbfeafb0252249e9084dd194033f966" category="list-text">Intel （ R ） Xeon （ R ） Gold 6142b CPU 、 2.6GHz</block>
  <block id="1412e1f8c4d7128be7fcb48c7ef515ec" category="list-text">物理コア × 32 （ 16 × 2 ソケット）、論理コア × 64</block>
  <block id="2907b386b6969a2dd1b7d5b358e4ef78" category="list-text">256 GB の RAM</block>
  <block id="f47dfc5af3acf2b805371be41d3a8fb8" category="list-text">ホストあたりのドライブ数： 960GB SSD × 24</block>
  <block id="54b588a0a73b1fd4e80bea0b52b66a5c" category="list-text">ESX 6.5U1</block>
  <block id="2526f2963a36a530588c55a6e858c9ea" category="paragraph">クライアントハードウェア</block>
  <block id="d70f3d88adda420e79658dc52e515383" category="list-text">NFSv3 IBM 3550m4 クライアント × 5</block>
  <block id="8b9a96e40ebcda35ce12190b41789b64" category="paragraph">設定情報</block>
  <block id="644583ef81af3657d263540fe36659df" category="list-text">SW RAID 1 × 9 + 2 RAID-DP （ 11 ドライブ）</block>
  <block id="42eab3ef64ce236896a31222c04ddcb1" category="list-text">22+1 RAID-5 （ ONTAP では RAID-0 ） / RAID キャッシュ NVRAM</block>
  <block id="417cf38711a7b90410407706cc8becb3" category="list-text">Storage Efficiency 機能（圧縮、重複排除、 Snapshot コピー、 SnapMirror など）は使用しない</block>
  <block id="d906eb9f16fe5d1f0efd1b7177d61563" category="paragraph">次の表に、ソフトウェア RAID とハードウェア RAID を使用している ONTAP Select Premium ノードの HA ペアで、読み取り / 書き込みワークロードに対して測定されたスループットを示します。パフォーマンスの測定には、 SIO 負荷生成ツールが使用されました。</block>
  <block id="98e524c388d1dc4bc579ff68a03fac92" category="paragraph">* ソフトウェア RAID とハードウェア RAID を搭載した DAS （ SSD ）上のシングルノード（ 4 ノードの中規模インスタンスの一部）の ONTAP Select 9.5 クラスタでのパフォーマンス結果 *</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">説明</block>
  <block id="f85fbc2afc4c94e602061bdba197fe30" category="cell">シーケンシャルリードの 64KiB</block>
  <block id="b744fd78ba8f25a68adbe10e05a26b83" category="cell">シーケンシャルライト 64KiB</block>
  <block id="1a6235b566ae1675e7cad6ac984c685e" category="cell">ランダムリード 8KiB</block>
  <block id="5b12bccfe0f07270acf93f4031d373f1" category="cell">ランダムライト 8KiB</block>
  <block id="e78425925b16cdbe3107734a56031c80" category="cell">ランダム WR / RD （ 50 / 50 ） 8KiB</block>
  <block id="590488d177e2d68396e9e404f0787197" category="cell">ONTAP 9.6 DAS （ SSD ）ソフトウェア RAID を使用して大規模インスタンスを選択します</block>
  <block id="2007f3de4fd76c0e193542767d4effc7" category="cell">2171 MiBps</block>
  <block id="886d5bb2e31ec3b29b47bde33f33ab35" category="cell">559 MiBps</block>
  <block id="04b957821e0e9aaeddab7defcb730f2f" category="cell">954 MiBps</block>
  <block id="33f3d2c18291e3e31d92f624e5d6fc94" category="cell">394 MiBps</block>
  <block id="e68ffca78bd9ae750e095401b76ab77b" category="cell">564 MiBps</block>
  <block id="895f2f67b79ae99fa3fe27377f9e4cd0" category="cell">DAS （ SSD ）ソフトウェア RAID を使用した ONTAP 9.6 Select 中規模インスタンス</block>
  <block id="90c72b2cc73b17ddc733acde371321d3" category="cell">2090 MiBps</block>
  <block id="53db68f311ff8fbb9f8fef66f62313e5" category="cell">592 MiBps</block>
  <block id="7bbb1b1c0cf0b7b3631b2c01d6ddcaf3" category="cell">677 MiBps</block>
  <block id="51a0447c2e07541855854e57a4fd6609" category="cell">335 MiBps</block>
  <block id="276f86f46c58000ab83f7a81f3e1ac40" category="cell">441 3MiBps</block>
  <block id="97ed077967fa6e5c5b243597455454ad" category="cell">DAS （ SSD ）ハードウェア RAID を使用した ONTAP 9.6 Select 中規模インスタンス</block>
  <block id="6974008be6157ab7da440e5a88cd72d1" category="cell">2038 MiBps</block>
  <block id="cb52eb73b63cc7f2910e3bfb2b2d354a" category="cell">520 MiBps</block>
  <block id="9d7e909c3efb2e3288aa3ec2c6d24f71" category="cell">578 MiBps</block>
  <block id="cdbbaf4862a8ab2f6b371a9be781a4cb" category="cell">325 MiBps</block>
  <block id="a65e3663e8513b684e6d94125f4e11f5" category="cell">399 MiBps</block>
  <block id="44607c8f3709be606339fc490a5b45c3" category="section-title">64K のシーケンシャルリード</block>
  <block id="2babe53026309ed1bc4d26626dbaf9b3" category="paragraph">詳細：</block>
  <block id="1c565cb1ef40fca7276174f53620ea60" category="list-text">SIO ダイレクト I/O が有効です</block>
  <block id="47957b19a7354408ab1556b6c86baf29" category="list-text">2 ノード</block>
  <block id="dc6520d5a009ec5f940d658ec28adabd" category="list-text">ノードあたりのデータ NIC × 2</block>
  <block id="4bcdc16a8f6fec0919f4bfd39504533f" category="list-text">ノードあたりのデータアグリゲート × 1 （ 2TB のハードウェア RAID ）、（ 8TB のソフトウェア RAID ）</block>
  <block id="1eec63dddc28c105e19e99a28e53426c" category="list-text">SIO プロセス数 =64 、プロセスあたりのスレッド数 =1</block>
  <block id="217f0d39a6dd36c24aa44ac1d6a1978f" category="list-text">ノードあたりのボリューム数は 32</block>
  <block id="df5b44ae62b5b5de9a6c68ef74b8631f" category="list-text">プロセスあたりのファイル数 × 1 、各ファイルのサイズは 12 、 000MB です</block>
  <block id="6a054d687d8afaf7ec67dbc99b543066" category="section-title">64K のシーケンシャルライト</block>
  <block id="f0d309eaf86b429045988bce455aacb3" category="list-text">ノードあたりのデータアグリゲート × 1 （ 2TB のハードウェア RAID ）、（ 4TB のソフトウェア RAID ）</block>
  <block id="af5bc1c073864156b93943dba0eb0a17" category="list-text">SIO プロセス数 =128 、プロセスあたりのスレッド数 =1</block>
  <block id="5347890bfa18e54f63569bc0327414f2" category="list-text">ノードあたりのボリューム数 =32 （ハードウェア RAID ）、 16 （ソフトウェア RAID ）</block>
  <block id="64e33af903cb7246c7d6049d95b81855" category="list-text">プロセスあたりのファイル数 × 1 、各ファイルのサイズは 30720MB です</block>
  <block id="f6285a044a1b4d88a9e7fb351cf9e8c1" category="section-title">8K ランダムリード</block>
  <block id="5432662d6c3f66b86011e5482fd1b013" category="list-text">SIO プロセス数 =64 、プロセスあたりのスレッド数 =8</block>
  <block id="5e891e0901bd4eb1cada8b221b715ae8" category="list-text">ノードあたりのボリューム数 =32</block>
  <block id="4af562d52353844c11ed213dc9654510" category="list-text">プロセスあたりのファイル数 × 1 、各ファイルのサイズは 12228MB です</block>
  <block id="c85b30614082693f9ffcec7ecb79fb0a" category="section-title">8K のランダムライト</block>
  <block id="c19f2ae8c94be0ce03b44a63782498a1" category="list-text">プロセスあたりのファイル数 × 1 、各ファイルのサイズは 8192MB です</block>
  <block id="c177226dbb26cef0a4f5eff0b87d5d44" category="section-title">8K ランダム書き込み 50% 読み取り</block>
  <block id="5e9d95d213033fcb57aae50adca56cb0" category="list-text">プロセスあたりの SIO プロセス数 =64</block>
  <block id="1bef0a056722dac4fff8d9e4eb9229d3" category="summary">次のスクリプトを使用して、スクリプト内で定義されたパラメータと JSON 入力ファイルに基づいてクラスタを作成できます。</block>
  <block id="e16c906ba61aeeafbcb69e14b4357d15" category="doc">クラスタを作成するスクリプト</block>
  <block id="1844b667aa3a3552724d4b6f25fdfee0" category="summary">ONTAP Select 9.4 パフォーマンスのパフォーマンス情報 - HA 直接接続型のプレミアム SSD ストレージ</block>
  <block id="7e6ffef2d9e4630a693d27eee2bf092b" category="doc">ONTAP Select 9.4 パフォーマンス： Premium HA 直接接続 SSD ストレージ</block>
  <block id="62226f401a888e5c673bd197232488a4" category="paragraph">高品質の HA 直接接続 SSD ストレージを搭載した ONTAP Select 9.4 のパフォーマンス。</block>
  <block id="7145f73f47761ef03a9ac7fa743946ba" category="paragraph">ONTAP Select 9.4 （ Premium ）ハードウェア（ノードあたり）：</block>
  <block id="080b55c282b18aff6acbb9b8307e45d7" category="list-text">Cisco UCS C240 M4S2 ：</block>
  <block id="c2d47e9bc55facf5b445ed65b937324d" category="list-text">Intel Xeon CPU E5-2697 （ 2.60GHz</block>
  <block id="4fb1dad16b1d444620c31d069252b122" category="list-text">ソケット × 2 、各ソケットに CPU × 14</block>
  <block id="067be87059aca76ce27d2d89d383b1fe" category="list-text">論理 CPU × 56 （ HT 対応）</block>
  <block id="3b63a934f24699a3abc944472864815f" category="list-text">256GB RAM</block>
  <block id="433abae658dcc70d5d3761c8600f7b1f" category="list-text">VMware ESXi 6.5 の場合</block>
  <block id="a47c0000c2a8c08808a324895ee9f307" category="list-text">ホストあたりのドライブ数： X371A NetApp 960GB SSD × 24</block>
  <block id="89b13670b1db743f4d85d8e8f4088bcf" category="paragraph">クライアントハードウェア：</block>
  <block id="2dfe3c2982e9fc1ac8adf6ce6b36e54c" category="list-text">NFSv3 IBM 3550m4 クライアント × 4</block>
  <block id="2eb19baafd2ac3bf96bb137917d946fa" category="paragraph">設定情報：</block>
  <block id="a40f55e0a537eb3307ad8510ba1e6e1b" category="list-text">クライアントと Select クラスタ間のデータパスに 1 、 500MTU</block>
  <block id="8b72248fc750c60f5a43e996ad821fe0" category="paragraph">次の表に、 ONTAP Select Premium ノードの HA ペアで、読み取り / 書き込みワークロードに対して測定されたスループットを示します。パフォーマンスの測定には、 SIO 負荷生成ツールが使用されました。</block>
  <block id="b6b524966f971cc1b38cf6c4eded4605" category="paragraph">* DAS （ SSD ）上のシングルノード（ 4 ノードの中規模インスタンスの一部）の ONTAP Select 9.4 クラスタでのパフォーマンス結果 *</block>
  <block id="cfde5abdec2f5607a3796be635ad47c8" category="cell">ONTAP 9.4 DAS （ SSD ）を使用した中規模インスタンスの選択</block>
  <block id="1f194e7c72c8d7d14fa3c4f8961be5d9" category="cell">1045MBps 16 、 712 IOPS</block>
  <block id="28e25559b3ba528fccbc794a3d5acf26" category="cell">4016 IOPS</block>
  <block id="cd1bc5669f6e4b437606af5e53a8b1fa" category="cell">492MBps 62 、 912 IOPS</block>
  <block id="ece20723782dfa056ec3b55e3b24c37e" category="cell">141MBps 18 、 048 IOPS</block>
  <block id="d75d181c83215266d40487856fd42da7" category="cell">218MBps 27 、 840 IOPS</block>
  <block id="a3aa868c13903be73360a0ca2b15dfec" category="list-text">データ NIC × 2</block>
  <block id="c877600127e0c10559aaef3fa6f8b340" category="list-text">データアグリゲート × 1 （ 2TB ）</block>
  <block id="49bbe54cd8eaab8f69a8a97fa376d801" category="list-text">ボリューム × 64 、 SIO プロセス × 64 、スレッド × 64</block>
  <block id="4a0db462fd57fced8d7681b289ec4560" category="list-text">ノードあたりのボリューム数 =32 （合計 64 ）</block>
  <block id="de2926cc8dca4ae82290fb564b1e727a" category="list-text">ボリュームあたりの SIO プロセス数 × 1 、ファイルあたりの SIO スレッド数 × 1</block>
  <block id="1ac3559913b9b5236f11c6f5102ad2ef" category="list-text">ボリュームあたりのファイル数 × 1 、各ファイルのサイズは 12 、 000MB です</block>
  <block id="be480d1f91e2cdc691aa5d12fca920bc" category="list-text">データアグリゲート × 1 （ 2TB ）：</block>
  <block id="09316e2030ac2a586bdc8b34957a3f11" category="list-text">ボリューム × 64 、 SIO プロセス × 128 、スレッド × 128</block>
  <block id="5c976de35e9bfb7d8dfdc6bc36e9f30b" category="list-text">ボリュームあたりの SIO プロセス数 × 2 、ファイルあたりの SIO スレッド数 × 1</block>
  <block id="e5f9abaaeb90091b0581ce38df4c2c3b" category="list-text">ボリュームあたりのファイル数 × 2 、各ファイルのサイズは 30720MB です</block>
  <block id="f2c1316c9ccf02c81ebe9af467c06324" category="list-text">ボリュームあたりの SIO プロセス数 × 1 、ファイルあたりの SIO スレッド数 × 8</block>
  <block id="e8a52598182d56969b5ab1ca3f51824c" category="list-text">ボリュームあたりのファイル数 × 1 、各ファイルのサイズは 12228MB です</block>
  <block id="e5b92c2ae9138f1aed4a50d59474e5b4" category="list-text">ボリュームあたりのファイル数 × 1 、各ファイルのサイズは 8192MB です</block>
  <block id="8199bd94478b387253fc671d5de902af" category="list-text">ボリュームあたりの SIO プロセス数 × 1 、ファイルあたりの SIO スレッド数 × 20</block>
  <block id="32ddafc35da243c0e169cfbcc318e4a2" category="summary">API ドキュメントを表示する場合や、 API 呼び出しを手動で問題 する場合は、 ONTAP Select Deploy のオンラインドキュメントページにアクセスする必要があります。</block>
  <block id="ee7f595722514d489b804241b0118bf9" category="doc">Deploy のドキュメントページにアクセスします</block>
  <block id="a08d0039b6defc60dd0db0aebca289d8" category="paragraph">次の情報が必要です。</block>
  <block id="ef66bf99541025571abbb87b7d12b231" category="list-text">ONTAP Select Deploy 仮想マシンの IP アドレスまたはドメイン名</block>
  <block id="fd05e9902f9be7f6207dff670722887e" category="list-text">管理者のユーザ名とパスワード</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">手順</block>
  <block id="2bc3d06698b6c0a0cff5dd4519390843" category="list-text">ブラウザに URL を入力し、 *Enter* キーを押します。</block>
  <block id="f4f93754d9f6516c5dc6833dc2bba5d7" category="paragraph">https://&lt;ip_address&gt;/api/ui` にアクセスします</block>
  <block id="55bd82aae6c2f063111a576510816cdf" category="list-text">管理者のユーザ名とパスワードを使用してサインインします。</block>
  <block id="170642fbcbe38a8399a61da4c01bbf98" category="paragraph">Deploy のドキュメントの Web ページが表示され、ページの下部にカテゴリ別に分類された呼び出しが表示されます。</block>
  <block id="6ffbeba2214fe0f52ca8488c037038f4" category="summary">HA ディスクハートビート、 HA メールボックス、 HA ハートビート、 HA フェイルオーバー、ギブバックの機能を使用してデータ保護を強化します。</block>
  <block id="da796475680dce8dcf08ecb11be0bd2c" category="doc">HA の詳細</block>
  <block id="b2120ef32dccd21d892e36f406fb2b0c" category="section-title">ディスクハートビート</block>
  <block id="f5ca5b4a09ddc194aad480de87f04519" category="paragraph">ONTAP Select HA アーキテクチャは、従来の FAS アレイで使用されていたコードパスの多くを利用しますが、例外もあります。その 1 つが、ディスクベースのハートビートで採用されている非ネットワークベースの通信方法で、クラスタノードはこの通信方法を使用してネットワーク分離によって発生するスプリットブレインを回避します。スプリットブレインのシナリオはクラスタパーティショニングの結果であり、一般にネットワーク障害が原因で発生します。スプリットブレインが発生すると、それぞれのサイドが相手が停止したと判断してクラスタリソースをテイクオーバーしようとします。</block>
  <block id="470f54a936a379ec05bfcd95c4063fdc" category="paragraph">エンタープライズクラスの HA 実装では、このタイプのシナリオを適切に処理する必要があります。ONTAP では、カスタマイズされたディスクベースのハートビート方式を使用してこの処理を実行します。この処理に使用されるのが HA メールボックスで、物理ストレージ上にあって、クラスタノード間でのハートビートメッセージのやり取りに使用されます。これにより、クラスタはフェイルオーバー時に接続の有無を判断し、クォーラムを定義できます。</block>
  <block id="a87848115ff36c5a997eb1b326b633bb" category="paragraph">共有ストレージの HA アーキテクチャを使用する FAS アレイでは、 ONTAP は次の方法でスプリットブレインの問題を解決します。</block>
  <block id="b9da673d96f875d0b17c5e10bcfbfcc1" category="list-text">SCSI の永続的予約</block>
  <block id="9d62b2b149cc554eb0d9d0e8c39404c5" category="list-text">永続的な HA メタデータ</block>
  <block id="8b68df122d6e791f89a4d84299d1b81e" category="list-text">HA インターコネクト経由で送信された HA 状態です</block>
  <block id="ebeed8e32e9115cac406c34486abfd9d" category="paragraph">ただし、 ONTAP Select クラスタのシェアードナッシングアーキテクチャでは、ノードが自身のローカルストレージしか認識できず、 HA パートナーのローカルストレージは認識できません。このため、ネットワークパーティショニングによって HA ペアの両サイドが分離されると、前出の方法ではクラスタクォーラムとフェイルオーバー動作を判断できなくなります。</block>
  <block id="1df9786d57b28a8fefdcf70148bee533" category="paragraph">既存の方法でスプリットブレインの検出と回避を行うことはできませんが、シェアードナッシング環境の制約の範囲内で使用できるメディエーションの手段は依然として必要です。ONTAP Select を使用すると、既存のメールボックスインフラを拡張して、ネットワークパーティショニングが発生した場合にメディエーションの手段として機能させることができます。共有ストレージを使用できないため、メディエーションは、 NAS 経由でメールボックスディスクにアクセスすることで実施されます。これらのディスクは、 iSCSI プロトコルを使用して、 2 ノードクラスタのメディエーターを含むクラスタ全体に分散されます。そのため、これらのディスクへのアクセスに基づいて、クラスタノードからインテリジェントなフェイルオーバーの決定を下すことができます。ノードがその HA パートナーの外部にある他のノードのメールボックスディスクにアクセスできれば、そのノードは正常に稼働していると考えられます。</block>
  <block id="0aaedae2f33069f4913177eb4b2bdf0f" category="admonition">このように、クラスタクォーラムとスプリットブレインの問題を解決するためにメールボックスアーキテクチャとディスクベースのハートビートを使用することが、マルチノードの ONTAP Select では 4 つの独立したノード、またはメディエーターを使用する 2 ノードクラスタのいずれかが必要とされる理由です。</block>
  <block id="3eaa11c6ffa9fe926d7cb679e8219116" category="section-title">HA メールボックスへの投稿</block>
  <block id="53b943e9293bd3091341757ed5db564f" category="paragraph">HA メールボックスアーキテクチャでは、メッセージの投かんモデルが使用されます。クラスタノードは、メディエーターを含めてクラスタ内の他のすべてのメールボックスディスクにメッセージを繰り返し送信し、ノードが稼働していることを通知します。正常なクラスタでは、どの時点においても、あるクラスタノードの 1 つのメールボックスディスクに他のすべてのクラスタノードから投かんされたメッセージが存在します。</block>
  <block id="ea3fef5bffe87e84bcb84b66a0ec75bd" category="paragraph">各 Select クラスタノードには、共有メールボックスアクセス専用の仮想ディスクが接続されています。このディスクは、ノード障害またはネットワークパーティショニングが発生した場合にクラスタメディエーションの手段として機能するため、メディエーターメールボックスディスクと呼ばれます。このメールボックスディスクには各クラスタノード用のパーティションが含まれ、他の Select クラスタノードから iSCSI ネットワークを介してマウントされます。各 Select クラスタノードは、メールボックスディスクの該当するパーティションに定期的に健常性ステータスを投かんします。ネットワークにアクセス可能なメールボックスディスクをクラスタ全体に分散させることで、到達可能かどうかという観点からノードの健常性を推測できます。たとえば、クラスタノード A と B は、クラスタノード D のメールボックスには投かんできますが、ノード C のメールボックスにはポストできませんまた、クラスタノード D がノード C のメールボックスに投かんできないため、ノード C は停止しているかネットワークから分離されている可能性があり、テイクオーバーの必要があります。</block>
  <block id="17331f6aeeda5e911f7fcc36586d707c" category="section-title">HA ハートビート</block>
  <block id="7dc7718f27d1365e7545ff5335d53a85" category="paragraph">ネットアップの FAS プラットフォームと同様に、 ONTAP Select は HA インターコネクトを介して定期的に HA ハートビートメッセージを送信します。ONTAP Select クラスタ内では、この処理は HA パートナー間の TCP / IP ネットワークを介して行われます。また、ディスクベースのハートビートメッセージは、メディエーターのメールボックスディスクを含むすべての HA メールボックスディスクに送信されます。これらのメッセージは数秒ごとに送信され、定期的に読み取られます。メッセージが頻繁に送受信されることで、 ONTAP Select クラスタは HA 障害イベントを FAS プラットフォームと同じくほぼ 15 秒以内に検出できます。ハートビートメッセージが読み取られなくなると、フェイルオーバーイベントがトリガーされます。</block>
  <block id="797d7a652772265d1181882e6be85628" category="paragraph">次の図は、単一の ONTAP Select クラスタノードであるノード C から見た、 HA インターコネクトディスクとメディエーターディスクを介したハートビートメッセージの送受信プロセスを示しています</block>
  <block id="f3b52ef1203609096ebeeecad7015154" category="admonition">ネットワークハートビートは HA インターコネクトを介して HA パートナーであるノード D に送信され、一方、ディスクハートビートはクラスタノード A 、 B 、 C 、 D のすべてに存在するメールボックスディスクを使用して送信されます</block>
  <block id="cfbcf78fc76d37c37452c46fb04cee1e" category="inline-image-macro">4 ノードクラスタでの HA ハートビート：安定した状態</block>
  <block id="d0ad2376a4b6b4dfa3a3fce80f5f9e87" category="paragraph">* 4 ノードクラスタでの HA ハートビート：安定状態 *<block ref="eee88c34ea943a7b41d9bef5ea24aac0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7eab985aa43b7067ee2457aa2d32413a" category="section-title">HA フェイルオーバーおよびギブバック</block>
  <block id="17f19afb9e958aebbebe0ad0f005aead" category="paragraph">フェイルオーバー処理中、稼働しているノードは、 HA パートナーのデータのローカルコピーを使用して、ピアノードのデータ提供を担当します。クライアント I/O は中断なく継続しますが、ギブバックが発生する前に、このデータへの変更をレプリケートする必要があります。ONTAP Select では強制ギブバックはサポートされません。強制ギブバックにより、障害を免れたノードに保存されている変更が失われるためです。</block>
  <block id="2ea5a99453e6307ee5593657eb501324" category="paragraph">リブートされたノードがクラスタに再び参加すると、再同期処理が自動的にトリガーされます。再同期に必要な時間は、いくつかの要因によって異なります。たとえば、レプリケートする必要がある変更の数、ノード間のネットワークレイテンシ、各ノードのディスクサブシステムの速度などです。再同期に必要な時間が、自動ギブバック時間の 10 分を超える可能性があります。この場合、再同期後の手動ギブバックが必要です。再同期の進捗状況は、次のコマンドを使用して監視できます。</block>
  <block id="6a7aaa66f1baaa0959a19ffc776263ea" category="summary">既存のクラスタを削除する場合は、次の CLI スクリプトを使用できます。</block>
  <block id="2eae914915da33251295bebf851092a9" category="doc">クラスタを削除するスクリプト</block>
  <block id="b77f8745ee9c36f9805514d75ac8967e" category="summary">ソフトウェア RAID で NVMe ドライブを使用する場合は、ドライブを認識するようにホストを設定する必要があります。</block>
  <block id="b900e11169e321903e8c21e89df3cebe" category="doc">NVMe ドライブを使用するためのホストの設定</block>
  <block id="d713613f7887118583b019301c1d2427" category="paragraph">NVMe デバイスで VMDirectPath I/O パススルーを使用することで、データ効率を最大化できます。この設定では、ドライブが ONTAP Select 仮想マシンに公開されるため、 ONTAP からデバイスに直接 PCI アクセスできます。</block>
  <block id="29ddeaafb3734d2cd4a59921d590cdfa" category="paragraph">導入環境が次の最小要件を満たしていることを確認します。</block>
  <block id="f796e20234a9f4d0fe3330b0e153a99d" category="list-text">ONTAP Select 9.7 以降および関連する Deploy 管理ユーティリティが必要です</block>
  <block id="dcf27857f687902ea701004a7410264f" category="list-text">Premium XL プラットフォームライセンス製品または 90 日間の評価ライセンス</block>
  <block id="dd95946e5f91bc0eefaa0662bef76947" category="list-text">VMware ESXi バージョン 6.7 以降</block>
  <block id="67217e5ba4d416b3ec157550a03becb2" category="list-text">仕様 1.0 以降に準拠する NVMe デバイス</block>
  <block id="a811207ba17996dc78a58667cd177a13" category="inline-link-macro">ホスト準備チェックリスト</block>
  <block id="8e0cad5fe5b287e29619e8a65612c78e" category="inline-link-macro">Deploy ユーティリティのインストールに必要な情報</block>
  <block id="34ff1dcc504899915d2e35990a309b3a" category="inline-link-macro">ONTAP Select のインストールに必要な情報</block>
  <block id="71dd62058e9b3b3ce83dc30fe496352e" category="paragraph">に従ってください <block ref="440b18c7eb072bb28a31c8035fcc65ca" category="inline-link-macro-rx"></block>を参照してください <block ref="9cd091a25bce78cdf0c1ef780ca4d19c" category="inline-link-macro-rx"></block>および <block ref="fb856bc56f17c64169f73fa6665ecd51" category="inline-link-macro-rx"></block> 詳細については、トピックを参照してください。</block>
  <block id="712a3f9a4e93375653a979ba058c3eb7" category="paragraph">この手順 は、新しい ONTAP Select クラスタを作成する前に実行するように設計されています。手順 を実行して、既存の SW-RAID NVMe クラスタに追加の NVMe ドライブを設定することもできます。この場合、追加の SSD ドライブと同様に、ドライブを設定したあとに、 Deploy を使用してドライブを追加する必要があります。主な違いは、 Deploy は NVMe ドライブを検出してノードをリブートする点です。既存のクラスタに NVMe ドライブを追加する場合、リブートプロセスについて次の点に注意してください。</block>
  <block id="fd5c5757c7f7041a2e15ed74c2c32432" category="list-text">Deploy は、リブートオーケストレーションを処理します。</block>
  <block id="668ad5825e6f031e6f06ed116fda245d" category="list-text">HA のテイクオーバーとギブバックは順序どおりに実行されますが、アグリゲートの再同期には時間がかかることがあります。</block>
  <block id="42487effe01c2291861c49031271a081" category="list-text">シングルノードクラスタの場合、ダウンタイムが発生します。</block>
  <block id="1a4ecda75459b2494350283158c1db99" category="inline-link-macro">ストレージ容量を増やしています</block>
  <block id="abe2c431b52a3901cec23f53e7260775" category="paragraph">を参照してください <block ref="3758ab6c14151317cde23ae6146a416a" category="inline-link-macro-rx"></block> 追加情報 の場合。</block>
  <block id="0c6f7899d8537fb7854dbebd827f96ec" category="list-text">ホスト上の *BIOS 設定 * メニューにアクセスして、 I/O 仮想化のサポートを有効にします。</block>
  <block id="ff1093e5148bed2c1a1afa07042e46fd" category="list-text">ダイレクト I/O 向けインテル（ R ） VT （ VT-d ） * 設定を有効にします。</block>
  <block id="b8a8e221d048b479cfd64e7b3b67ea08" category="inline-image-macro">ソケット構成</block>
  <block id="e95bc1b908ab6027450bc8aa967f3573" category="paragraph"><block ref="e95bc1b908ab6027450bc8aa967f3573" category="inline-image-macro-rx" type="image"></block></block>
  <block id="81a8899c7bb0834c05ead11a32e230b4" category="list-text">一部のサーバーでは、 * インテル ® ボリューム・マネジメント・デバイス（インテル VMD ） * をサポートしています。有効にすると、使用可能な NVMe デバイスが ESXi ハイパーバイザーに認識されなくなります。続行する前に、このオプションを無効にしてください。</block>
  <block id="262ed6b63bfd7128c7e60d2c221b0f22" category="inline-image-macro">ソケット構成、 VMD</block>
  <block id="cc6e577c260893921bf62096a5e1ed4d" category="paragraph"><block ref="cc6e577c260893921bf62096a5e1ed4d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c7ce3b5be4a31c489adcac6f9afb8103" category="list-text">仮想マシンへのパススルー用に NVMe ドライブを設定します。</block>
  <block id="18bac6afdf360dfe0f44f753b79d337d" category="list-text">vSphere で、ホスト * Configure * ビューを開き、 * Hardware ： PCI devices * の下の * Edit * をクリックします。</block>
  <block id="e8eaf97de142a452e4a7e36eb009d0dd" category="list-text">ONTAP Select に使用する NVMe ドライブを選択します。</block>
  <block id="64a4204188e36709c65fb1015fcfaee1" category="inline-image-macro">PCI デバイスの可用性を編集します</block>
  <block id="370dbdfb395c46bb7a54ea411f17b869" category="paragraph"><block ref="370dbdfb395c46bb7a54ea411f17b869" category="inline-image-macro-rx" type="image"></block></block>
  <block id="60aec31b3251291387e46c00b45b67d4" category="admonition">ONTAP Select VM システムディスクおよび仮想 NVRAM をホストするには、 NVMe デバイスにもバックアップされている VMFS データストアが必要です。PCI パススルー用に他のドライブを設定する場合は、この目的で少なくとも 1 本の NVMe ドライブを使用可能な状態にしておきます。</block>
  <block id="6334b1d13625d19f7de068238bbf7055" category="list-text">[OK] をクリックします。選択されたデバイスは、 * Available （保留中） * と表示されます。</block>
  <block id="0eb8ed19621c3c66eea99364d51e4514" category="list-text">[ ホストの再起動 *] をクリックします。</block>
  <block id="58b365b1fc9581d3607e3b5a4075921b" category="inline-image-macro">このホストをリブートします</block>
  <block id="0628d504dd961620b8a3eba11eb48696" category="paragraph"><block ref="0628d504dd961620b8a3eba11eb48696" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9418a111cd090e22b610dbb1e055a395" category="paragraph">ホストの準備が完了したら、 ONTAP Select Deploy ユーティリティをインストールできます。Deploy ガイド新たに準備したホストに ONTAP Select ストレージクラスタを作成する手順が示されます。このプロセスでは、 Deploy はパススルー用に設定された NVMe ドライブを検出し、 ONTAP データディスクとして使用するドライブを自動的に選択します。必要に応じて、デフォルトの選択を調整できます。</block>
  <block id="9e0dfa4dfcc314b7fbc0b7d29e510db2" category="admonition">ONTAP Select ノードごとに最大 14 個の NVMe デバイスがサポートされます。</block>
  <block id="3c0867afa1e727ea16a03079d27e16e8" category="inline-image-macro">ONTAP Select Deploy クラスタ</block>
  <block id="458ac02aa24064def3c70dac7b54b342" category="paragraph"><block ref="458ac02aa24064def3c70dac7b54b342" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5c2b55ae2bca6536056a1bd0612ad8c0" category="paragraph">クラスタの導入が完了したら、 ONTAP System Manager を使用して、ベストプラクティスに従ってストレージをプロビジョニングできます。ONTAP では、フラッシュ向けに最適化された Storage Efficiency 機能が自動的に有効になり、 NVMe ストレージを最大限に活用できます。</block>
  <block id="bbd7fa72ca12a1bb13d588f806edd3cf" category="inline-image-macro">ローカルストレージを準備しています</block>
  <block id="51c280bc8477f0f8cc09d003428c0349" category="paragraph"><block ref="51c280bc8477f0f8cc09d003428c0349" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ad5e0a20f49ad6a370454bb3afc9a9e" category="inline-image-macro">ONTAP システムマネージャ</block>
  <block id="4ef5a8fab5153261b52fcf4aa330124b" category="paragraph"><block ref="4ef5a8fab5153261b52fcf4aa330124b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7e50557ab7c128d61ddb8403a32e8516" category="summary">REST Web サービスは柔軟性が高いため、 ONTAP Select Deploy API にはいくつかの方法でアクセスできます。</block>
  <block id="36e08c3ba0ff6af9b23054262bc17cbe" category="doc">Deploy API へのアクセス方法</block>
  <block id="6a68fab02ba768915e168f24a76af71a" category="section-title">Deploy ユーティリティの標準のユーザインターフェイス</block>
  <block id="5562f45da42fc2c23cc8991e41c4057f" category="paragraph">ONTAP Select Deploy の Web ユーザインターフェイスから API にアクセスする場合は、主に API にアクセスします。ブラウザは、 API を呼び出して、ユーザインターフェイスの設計に従ってデータを再フォーマットします。また、 Deploy ユーティリティのコマンドラインインターフェイスから API にアクセスします。</block>
  <block id="43cdfff5e48aaf18476439cbd719586e" category="section-title">ONTAP Select Deploy のオンラインドキュメントページです</block>
  <block id="ae1a9006be03e6911cb5be0d11ccfe80" category="paragraph">ONTAP Select Deploy のオンラインドキュメントページでは、ブラウザを使用する際に別のアクセスポイントを使用できます。個々の API 呼び出しを直接実行する方法に加え、各呼び出しの入力パラメータやその他のオプションなど、 API の詳細な概要 も含まれています。API 呼び出しは、いくつかの異なる機能領域またはカテゴリに分類されています。</block>
  <block id="52759f63bdfc1fb77d852c8854912b25" category="section-title">カスタムプログラム</block>
  <block id="3cb957d5ee7865143f204bb3ad62948d" category="paragraph">さまざまなプログラミング言語やツールを使用して Deploy API にアクセスできます。広く利用されているのは、 Python 、 Java 、 cURL などです。API を使用するプログラム、スクリプト、またはツールは、 REST Web サービスのクライアントとして機能します。プログラミング言語を使用すると、 API をより詳しく理解し、 ONTAP Select の導入を自動化することができます。</block>
  <block id="79bcd6ba5f33475a7941fe7ef0f5412c" category="summary">ONTAP Select の導入を計画する際に考慮する必要のある一般的な要件がいくつかあります。</block>
  <block id="4ab8a0625187c6dcbc6d5dd9c17bc11b" category="doc">一般的な要件と計画に関する考慮事項</block>
  <block id="640eb7f22428d70b36554194cebe2ea9" category="paragraph">ONTAP Select の導入を計画する際に考慮する必要のある一般的な要件がいくつかあります。</block>
  <block id="4682505b28ef1baba1c84e29e768fa89" category="section-title">クラスタのサイズと関連する考慮事項</block>
  <block id="449ea47c3ea62a2d3b303b4ef006b170" category="paragraph">クラスタサイズに関連するいくつかの計画の問題について考慮する必要があります。</block>
  <block id="54c5e966df9913966f5efaa8645540d7" category="list-text">クラスタ内のノードの数</block>
  <block id="1ffcd0aa7083c89d25f318cedc05eba1" category="list-text">ONTAP Select クラスタは、 1 ノード、 2 ノード、 4 ノード、 6 ノード、または 8 ノードで構成されます。クラスタのサイズは、アプリケーションの要件に基づいて決定する必要があります。たとえば、 HA 機能がエンタープライズ導入で必要な場合は、マルチノードクラスタを使用してください。</block>
  <block id="9c05d1783e3b3ca48efdac5091f94a6e" category="list-text">専用の導入とコロケーション導入</block>
  <block id="a1243e7975c2ed7f07b0d3228b2e496e" category="list-text">アプリケーションタイプに基づいて、専用モデルとコロケーションモデルのどちらに従って導入を行うかを決定する必要があります。ワークロードの多様性と緊密な統合が原因で、コロケーションモデルの方が複雑になる可能性があります。</block>
  <block id="730df0da518ea2f765817e74abd3716d" category="section-title">ハイパーバイザーホスト</block>
  <block id="9820c1446b39a881e3e340990358c27b" category="paragraph">ハイパーバイザーホストに関連するいくつかの計画の問題について考慮する必要があります。</block>
  <block id="cc9dd19eef0d3ed17e05b373a3ea9026" category="admonition">ネットアップサポートからの指示がないかぎり、 ONTAP Select 仮想マシンの構成を直接変更しないでください。仮想マシンの設定と変更は、 Deploy 管理ユーティリティからのみ実行してください。ネットアップサポートの支援なしで Deploy ユーティリティ以外の ONTAP Select 仮想マシンに変更を加えると、原因 でその仮想マシンが失敗し、使用できなくなる可能性があります。</block>
  <block id="d0c2a55b754162e2e27a73f6c486806c" category="list-text">ハイパーバイザーに依存しない</block>
  <block id="33476e54e425c79d4fbac2f9f1b2b4aa" category="list-text">ONTAP Select と ONTAP Select Deploy 管理ユーティリティは、どちらもハイパーバイザーに依存しません。両方に対して次のハイパーバイザーがサポートされています。</block>
  <block id="f7eea647714641318ee86fedbbed4691" category="list-text">VMware ESXi</block>
  <block id="c361c20443811fad6f41fa10f5dde140" category="list-text">Kernel-based Virtual Machine （ KVM ）</block>
  <block id="a2fdc01936e7294727af3355cc284843" category="paragraph">サポート対象のプラットフォームの詳細については、ハイパーバイザー固有の計画情報とリリースノートを参照してください。</block>
  <block id="ea51f3ae402e2a34b5af47d7dcc3dbb7" category="list-text">ONTAP Select ノードと管理ユーティリティ用のハイパーバイザー</block>
  <block id="1cc3032009578783bd053fa9e9aafa64" category="list-text">Deploy 管理ユーティリティと ONTAP Select ノードは、どちらも仮想マシンとして実行されます。Deploy ユーティリティ用に選択したハイパーバイザーは、 ONTAP Select ノード用に選択したハイパーバイザーに依存しません。この 2 つをペアリングすると、完全な柔軟性が得られます。</block>
  <block id="66cdd3fc21e9ccc9ba875c612395d8fb" category="list-text">VMware ESXi で実行される Deploy ユーティリティは、 VMware ESXi または KVM で ONTAP Select クラスタを作成および管理できます</block>
  <block id="6a30505aecb1ec174eaf14cc5ba2fa9a" category="list-text">KVM で実行される Deploy ユーティリティは、 VMware ESXi または KVM で ONTAP Select クラスタを作成および管理できます</block>
  <block id="fa5c37ab2e13c7d936d9de7290cbf046" category="list-text">ホストごとに 1 つ以上の ONTAP Select ノードインスタンス</block>
  <block id="dda6b7d969ecbcf9818ada242e785b37" category="list-text">各 ONTAP Select ノードは専用の仮想マシンとして実行されます。同じハイパーバイザーホストに複数のノードを作成できますが、次の制限事項があります。</block>
  <block id="9c5ba468b106fd01f1438d41bf88e1c7" category="list-text">1 つの ONTAP Select クラスタの複数のノードを同じホストで実行することはできません。特定のホスト上のすべてのノードは、異なる ONTAP Select クラスタに属している必要があります。</block>
  <block id="193a1e0cbc23c720ad62006d3466dfda" category="list-text">外付けストレージを使用する必要があります。</block>
  <block id="dfd00531a3c2247cc55a12b5be0e94d7" category="list-text">ソフトウェア RAID を使用する場合、ホストに導入できる ONTAP Select ノードは 1 つだけです。</block>
  <block id="5c369cb70179defc2f69e035cb438222" category="list-text">クラスタ内のノードに対するハイパーバイザーの整合性</block>
  <block id="6b13101d26226d7180c70d4a61b8dabc" category="list-text">ONTAP Select クラスタ内のすべてのホストが、同じバージョンおよびリリースのハイパーバイザーソフトウェアで実行されている必要があります。</block>
  <block id="92b417245a3c76b392d9244646e15694" category="list-text">各ホストの物理ポートの数</block>
  <block id="b579bbce9a9d2dc15f38e81e0a7414b7" category="list-text">各ホストで 1 つ、 2 つ、または 4 つの物理ポートを使用するように設定する必要があります。ネットワークポートを柔軟に設定することもできますが、可能な場合は次の推奨事項に従う必要があります。</block>
  <block id="3907deb8d2263c5a08a98896c7f2ca0e" category="list-text">シングルノードクラスタのホストには 2 つの物理ポートが必要です。</block>
  <block id="5b923c7d617228d81fa524558c32d3df" category="list-text">マルチノードクラスタの各ホストには 4 つの物理ポートが必要です</block>
  <block id="211290b7884ed357eb61c39f1855b0ee" category="list-text">ONTAP Select と ONTAP ハードウェアベースのクラスタの統合</block>
  <block id="ed34a736700c5aafae0be7fbae944e8a" category="list-text">ONTAP Select ノードをハードウェアベースの ONTAP クラスタに直接追加することはできません。ただし、必要に応じて、 ONTAP Select クラスタとハードウェアベースの ONTAP クラスタの間にクラスタピア関係を確立できます。</block>
  <block id="8c4aa541ee911e8d80451ef8cc304806" category="section-title">ストレージ</block>
  <block id="bb8efe0bc417d8686f0e59b40b2b7a55" category="paragraph">ホストストレージに関連するいくつかの計画の問題について考慮する必要があります。</block>
  <block id="6371ae3dff33e72574b28de08b0185ce" category="list-text">RAID タイプ</block>
  <block id="f2417f239c6a34657bae1c8994bb5b91" category="inline-link-macro">ストレージと RAID に関する考慮事項</block>
  <block id="7e39a028548a6a78e07a61a48b482752" category="list-text">ESXi で直接接続型ストレージ（ DAS ）を使用する場合は、ローカルのハードウェア RAID コントローラを使用するか、 ONTAP Select に付属のソフトウェア RAID 機能を使用するかを決める必要があります。ソフトウェア RAID を使用する場合は、を参照してください <block ref="680e9e82137091017ba19fdaa5193e04" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="ca162c93e248108ebd285150f788b3ed" category="list-text">ローカルストレージ</block>
  <block id="0dcb26c449e98093698fec39f73c1185" category="list-text">RAID コントローラが管理するローカルストレージを使用する場合は、次のことを決定する必要があります。</block>
  <block id="da869f8814273c63303a49c9c7737d1c" category="list-text">1 つ以上の RAID グループを使用するかどうか</block>
  <block id="0d5015b1ea3fbb4801e9e370d139bcc3" category="list-text">1 つ以上の LUN を使用するかどうか</block>
  <block id="6a678a1fdeebc90c771a4cd59c299c50" category="list-text">外付けストレージ</block>
  <block id="f9d035fc1eb912894f97aa99afc28ee5" category="list-text">ONTAP Select vNAS 解決策 を使用する場合は、リモートデータストアの配置場所とそのデータストアへのアクセス方法を決定する必要があります。ONTAP Select vNAS は次の構成をサポートします。</block>
  <block id="b614c74d2cb757efa92f133270c9370e" category="list-text">VMware vSAN</block>
  <block id="9d2a0edc21e7d063aa6e7cd77583f17f" category="list-text">汎用の外付けストレージアレイ</block>
  <block id="5fcee5ff28b9334935fa219eb818b2c3" category="list-text">必要なストレージの見積り</block>
  <block id="7aef2921a7d9da0c29e1025af9b9bc9b" category="list-text">ONTAP Select ノードに必要なストレージ容量を決定する必要があります。この情報は、ストレージ容量を含む購入ライセンスを取得する際に必要になります。詳細については、「ストレージ容量の制限」を参照してください。</block>
  <block id="514d658beb8d2ad9347d561c047df99c" category="admonition">ONTAP Select ストレージ容量は、 ONTAP Select 仮想マシンに接続されているデータディスクの合計許容サイズに対応します。</block>
  <block id="71d95f80f78afeb107caa45cdd0d4b5a" category="list-text">本番環境のライセンスモデル</block>
  <block id="04ad7df80604af0ba0f4b5923ab1f2ae" category="list-text">本番環境に導入する ONTAP Select クラスタごとに、容量階層または容量プールのライセンスモデルを選択する必要があります。詳細については、「 _License__ 」セクションを参照してください。</block>
  <block id="30f60d67f457bb040dffde52197a54da" category="list-title">関連情報</block>
  <block id="680e9e82137091017ba19fdaa5193e04" category="list-text"><block ref="680e9e82137091017ba19fdaa5193e04" category="inline-link-macro-rx"></block></block>
  <block id="8b60e6d501896a426a20e22fc6479aec" category="summary">パフォーマンスはハードウェア構成によって異なります。</block>
  <block id="803abb3d8fba33b629c90a24fc1585f8" category="doc">パフォーマンスに関する一般的な考慮事項</block>
  <block id="e4169e437dafc2dac3f256dc83393811" category="paragraph">ここに記載する数値は ONTAP Select クラスタのおおまかなパフォーマンスを示しており、このパフォーマンスが保証されるわけではありません。</block>
  <block id="8db2c1339766522ddbe10fc18f14fda4" category="paragraph">ONTAP Select クラスタのパフォーマンスは、基盤のハードウェアの特性と設定によって大きく変わる可能性があります。実際、特定の ONTAP Select インスタンスのパフォーマンスにおける最大の要因となるのは、具体的なハードウェア構成です。次に、特定の ONTAP Select インスタンスのパフォーマンスに影響する要因をいくつか示します。</block>
  <block id="5def88536d2a69b4424953a923e823a2" category="list-text">* コア周波数 * 。一般には、高い周波数を使用することを推奨します。</block>
  <block id="1f4e4fadae7f6d95c4d2c58cfac9416f" category="list-text">* シングルソケットとマルチソケット * 。ONTAP Select はマルチソケット機能を使用しませんが、マルチソケット構成を支えるためのハイパーバイザーのオーバーヘッドが、全体のパフォーマンスに対する一定の偏差の原因となります。</block>
  <block id="3e6023e5f07c1e79e542af89201e0b4a" category="list-text">* RAID カード構成および関連するハイパーバイザドライバ * 。ハイパーバイザーが提供するデフォルトのドライバを、ハードウェアベンダーのドライバに置き換えることが必要になる場合があります。</block>
  <block id="71408d9f3d3515fa8a651b1604736a6f" category="list-text">* RAID グループ内のドライブのタイプと数 * 。</block>
  <block id="f28d3f9b022a76395cd98dbce7787e03" category="list-text">* ハイパーバイザーのバージョンとパッチレベル * 。</block>
  <block id="d98c26215b600e916c38a438cd921e98" category="paragraph">このセクションでは、特定の機能の影響を強調するために、同一のテストベッドでテストを実行した場合にのみパフォーマンス比較を行います。一般的には、ハードウェア環境を文書化し、そのプラットフォームで可能な限り最高のパフォーマンス構成を実行します。</block>
  <block id="9356992dec47ad3cff6c85c52b7d7e61" category="summary">ハードウェア RAID コントローラが使用可能な場合、 ONTAP Select は、書き込みパフォーマンスの向上と物理ドライブの障害に対する保護の両方を実現するために、 RAID サービスをハードウェアコントローラに移動できます。このため、 ONTAP Select クラスタ内のすべてのノードに対する RAID 保護は、 ONTAP ソフトウェア RAID ではなく、ローカルに接続された RAID コントローラによって実装されます。</block>
  <block id="dbadd117fcffc5e2fbcbb08c9edd1a14" category="doc">ローカル接続ストレージ向けのハードウェア RAID サービス</block>
  <block id="2414b45e14afeaaa0816f032bf126e4d" category="admonition">物理 RAID コントローラが基盤のドライブの RAID ストライピングを提供しているため、 ONTAP Select データアグリゲートは RAID 0 を使用するように設定されています。その他の RAID レベルはサポートされません。</block>
  <block id="653332f25898f4ccb7893ad7d018bedf" category="section-title">ローカル接続ストレージ用の RAID コントローラ構成</block>
  <block id="9e64e9efaeb8ebf48967b52d7a1669d0" category="paragraph">ONTAP Select にバッキングストレージを提供するローカル接続ディスクは、すべて RAID コントローラの背後に設置する必要があります。ほとんどのコモディティサーバには、価格の異なる複数の RAID コントローラが用意されており、その機能レベルもそれぞれに異なります。コントローラに設定された一定の最小要件を満たしていれば、これらのオプションをできるだけ多くサポートすることが意図されています。</block>
  <block id="047c4fc6b93c9d85ebe1c7a144cb2e6a" category="paragraph">ONTAP Select ディスクを管理する RAID コントローラは、次の要件を満たしている必要があります。</block>
  <block id="2bca4163c16a7bce367d68c3a8e985f1" category="list-text">ハードウェア RAID コントローラは、 Battery Backup Unit （ BBU ；バッテリバックアップユニット）または Flash-Backed Write Cache （ FBWC ；フラッシュバック式ライトキャッシュ）を搭載し、かつ 12Gbps のスループットをサポートする必要があります。</block>
  <block id="932a1fae1910b79e5da1f2eae015dcd2" category="list-text">RAID コントローラは、少なくとも 1 つまたは 2 つのディスク障害に耐えるモード（ RAID 5 および RAID 6 ）をサポートする必要があります。</block>
  <block id="c94121e5b4ce94cc13fbdecf0fcbfa43" category="list-text">ドライブキャッシュを無効に設定する必要があります。</block>
  <block id="ac98222126c9324f9997048be4e10a5f" category="list-text">ライトバックモードの書き込みポリシーは、 BBU またはフラッシュの障害発生時にライトスルーにフォールバックするように設定する必要があります。</block>
  <block id="132936af66b3e62c524bdec95897fb5a" category="list-text">読み取りの I/O ポリシーは、キャッシュに設定する必要があります。</block>
  <block id="61338095d687dd176bc26dad3822bf5b" category="paragraph">ONTAP Select にバッキングストレージを提供するローカル接続ディスクは、 RAID5 または RAID6 を実行する RAID グループにすべて配置する必要があります。SAS ドライブと SSD については、最大 24 本のドライブで構成される RAID グループを使用することで、 ONTAP は受信する読み取り要求をより多くのディスクに分散するというメリットを享受できます。これにより、パフォーマンスが大幅に向上します。SAS / SSD 構成では、シングル LUN 構成とマルチ LUN 構成の両方に対してパフォーマンステストが実施されました。両者に大きな違いは見られなかったため、シンプルさという観点から、構成のニーズを満たす必要最小限の数の LUN を作成することを推奨します。</block>
  <block id="8558c9595706173cea240df1dc83c032" category="paragraph">NL-SAS ドライブと SATA ドライブでは、別のベストプラクティスが必要です。最小ディスク数は同じく 8 ですが、パフォーマンス上の理由から、 RAID グループは 12 ドライブ以下にする必要があります。また、 RAID グループごとに 1 つのスペアを使用することも推奨します。ただし、すべての RAID グループに対してグローバルスペアを使用できます。たとえば、 8~12 本のドライブで構成する 3 つの RAID グループごとに 2 つのスペアを使用できます。</block>
  <block id="144804fa8d7a93364c73acae66ef6353" category="admonition">古い ESX リリースのエクステントとデータストアの最大サイズは 64TB です。これは、これらの大容量ドライブが提供する合計物理容量をサポートするために必要な LUN の数に影響を与える可能性があります。</block>
  <block id="bb5ffc29886bc3df9f64e84f4d911a09" category="section-title">RAID モード</block>
  <block id="6c79d9f35a507d00a9df90a09f496b39" category="paragraph">多くの RAID コントローラは、最大 3 つの動作モードをサポートしており、書き込み要求のデータパスはそれぞれのモードで大きく異なります。これらの 3 つのモードは次のとおりです。</block>
  <block id="35372ab99cdbecafc8064edf9b9c3733" category="list-text">ライトスルー：受信した I/O 要求はすべて RAID コントローラキャッシュに書き込まれ、ただちにディスクにフラッシュされてから、確認応答がホストに返されます。</block>
  <block id="e750781763312c1c3a9ea2e5797b5b1b" category="list-text">ライトアラウンド：受信した I/O 要求はすべて RAID コントローラキャッシュには書き込まれずにディスクに直接書き込まれます。</block>
  <block id="6c3249c0702a626be6bd857352207cd9" category="list-text">ライトバック：受信した I/O 要求はすべてコントローラキャッシュに直接書き込まれ、確認応答がただちにホストに返されます。データブロックは、コントローラを使用して非同期にディスクにフラッシュされます。</block>
  <block id="a89699a79e6b7fd9259312d968901999" category="paragraph">ライトバックモードでは、データパスが最短になり、ブロックがキャッシュに入るとすぐに I/O 確認が行われます。このモードでは、読み取り / 書き込みの混在ワークロードに対して、最小のレイテンシと最大のスループットが実現されます。ただし、 BBU または不揮発性フラッシュテクノロジがない場合、このモードで動作しているときにシステムに電源障害が発生すると、データが失われる危険性があります。</block>
  <block id="6dd6ffd028d077d1229b9cbf3f1dd03c" category="paragraph">ONTAP Select にはバッテリバックアップユニットまたはフラッシュユニットが必須であるため、この種の障害が発生した場合でもキャッシュされたブロックを確実にディスクへフラッシュできます。この理由から、 RAID コントローラはライトバックモードで構成する必要があります。</block>
  <block id="0a98e7a9637ad9d673b5ee73638ee8f5" category="section-title">ONTAP Select と OS でローカルディスクを共有します</block>
  <block id="001ab189474428b5f3d0aff48b9b7d7a" category="paragraph">最も一般的なサーバ構成では、すべてのローカル接続スピンドルが 1 台の RAID コントローラの背後に配置されます。ハイパーバイザー用と ONTAP Select VM 用の少なくとも 2 つの LUN をプロビジョニングする必要があります。</block>
  <block id="f9261acb65592f40fedc3b2587be597c" category="paragraph">たとえば、 6 本のドライブを内蔵した HP DL380 g8 と 1 台の Smart Array P420i RAID コントローラがあるとします。すべての内蔵ドライブはこの RAID コントローラによって管理されており、システムには他のストレージが存在しません。</block>
  <block id="082eed15a1c645621940a797480b6a05" category="paragraph">次の図に、この構成を示します。この例では、システムに他のストレージが存在しないため、ハイパーバイザーは ONTAP Select ノードとストレージを共有する必要があります。</block>
  <block id="6e0c81142b34f7cebdc90b55d1cdbfd0" category="paragraph">* RAID で管理されるスピンドルのみを使用するサーバ LUN 構成 *</block>
  <block id="51865ffe8fee27ca1a782fd199d5f4e3" category="inline-image-macro">RAID で管理されるスピンドルのみを使用するサーバ LUN 構成</block>
  <block id="e70b734b93d8814f4000aa0a5aab8d59" category="paragraph"><block ref="e70b734b93d8814f4000aa0a5aab8d59" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31d72dfe9c9e5c1e1f4f3428e5a30534" category="paragraph">ONTAP Select と同じ RAID グループから OS の LUN をプロビジョニングすると、ハイパーバイザー OS （およびこのストレージからプロビジョニングされるすべてのクライアント VM ）に RAID 保護が適用されます。この構成では、単一ドライブ障害が発生してもシステム全体が停止することを防止できます。</block>
  <block id="8c4dc4509150be7d8b57ddd2334583dc" category="section-title">ONTAP Select と OS でローカルディスクがスプリットされている</block>
  <block id="7628b32b4e059db04e7cc7b0e161f3e5" category="paragraph">サーバベンダーが提供するもう 1 つの構成は、複数の RAID コントローラまたはディスクコントローラを使用するシステム構成です。この構成では、ディスクセットは、 RAID サービスを提供する、または提供しない 1 つのディスクコントローラで管理されます。2 番目のディスクセットは、 RAID 5 / 6 サービスを提供できるハードウェア RAID コントローラによって管理されます。</block>
  <block id="3b2551e1f293c1ab74c958c5ec035e14" category="paragraph">この構成では、 RAID 5 / 6 サービスを提供する RAID コントローラの背後にある一連のスピンドルを ONTAP Select VM が排他的に使用します。管理対象の合計ストレージ容量によっては、ディスクスピンドルを複数の RAID グループおよび LUN に分散するように設定する必要があります。これらの LUN を使用してデータストアが作成され、すべてのデータストアが RAID コントローラで保護されます。</block>
  <block id="cd48c5d95529b1c52aa9bb80243fc8f0" category="paragraph">最初のディスクセットは、次の図に示すように、ハイパーバイザー OS および ONTAP ストレージを使用しないクライアント VM 用に予約されます。</block>
  <block id="4c69791ecb6f5fd85cf06ba0e403d7f5" category="paragraph">* RAID / 非 RAID 混在システム * 上のサーバー LUN 構成</block>
  <block id="1aba33dc347262269ed8f925747ab884" category="inline-image-macro">RAID / 非 RAID が混在するシステムでのサーバ LUN 構成</block>
  <block id="bba8d3ae931fb31af1a5bbcd0328e3a1" category="paragraph"><block ref="bba8d3ae931fb31af1a5bbcd0328e3a1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e305b905b20cccbd046edd35b31a28ca" category="section-title">複数の LUN</block>
  <block id="db21fb63fa4939210fb565b6fe0e6b27" category="paragraph">単一 RAID グループ / 単一 LUN 構成の変更が必要になるケースは 2 つあります。NL-SAS ドライブまたは SATA ドライブを使用している場合は、 RAID グループのサイズが 12 ドライブを超えないようにする必要があります。また、単一の LUN は、個々のファイルシステムエクステントの最大サイズまたはストレージプール全体の最大サイズのいずれかが、基盤となるハイパーバイザーストレージの制限よりも大きくなる可能性があります。その場合、基盤となる物理ストレージを複数の LUN に分割して、ファイルシステムを正常に作成できるようにする必要があります。</block>
  <block id="43c5fdd725635595a482dbde1825bf28" category="section-title">VMware vSphere 仮想マシンのファイルシステムの制限</block>
  <block id="b540e8def7a5c8ee85c2be4717e2097f" category="paragraph">ESX の一部のバージョンでは、データストアの最大サイズは 64TB です。</block>
  <block id="56785311e1f125c2dfed8302b573f0df" category="paragraph">サーバに 64TB を超えるストレージが接続されている場合は、 64TB 未満の LUN を複数プロビジョニングすることが必要になる場合があります。SATA / NL-SAS ドライブで RAID のリビルド時間を短縮するために複数の RAID グループを作成した場合も、複数の LUN がプロビジョニングされます。</block>
  <block id="7c630ec9bf7e4ef02a3e9b37faa39837" category="paragraph">複数の LUN が必要な場合は、各 LUN にほぼ同等で一貫したパフォーマンスを確保することが重要な検討事項となります。これは、すべての LUN を単一の ONTAP アグリゲートで使用する場合に特に重要です。あるいは、一部の LUN のパフォーマンスプロファイルが明らかに他と異なる場合は、それらの LUN を別の ONTAP アグリゲートに分離することを強く推奨します。</block>
  <block id="d5273aeb3cd6acfd12fd971d5a6d5919" category="paragraph">複数のファイルシステムエクステントを使用して、データストアの最大サイズいっぱいまで単一のデータストアを作成できます。ONTAP Select ライセンスが必要な容量を制限するには、クラスタをインストールする際に必ず容量の上限を指定してください。この機能は、 ONTAP Select にデータストアの一部のスペースのみの使用を許可します（したがってこのスペース分のライセンスが必要となります）。</block>
  <block id="26d0c2c18567614b2696413728c683e7" category="paragraph">あるいは、 1 つの LUN に作成した単一のデータストアから始めることもできます。ONTAP Select の容量ライセンスをさらに必要とするスペースが追加されると、そのスペースをデータストアの最大サイズまでエクステントとして同じデータストアに追加できます。最大サイズに達したら、新しいデータストアを作成して ONTAP Select に追加できます。どちらのタイプの容量拡張処理もサポートされており、 ONTAP Deploy のストレージ追加機能を使用して実行できます。各 ONTAP Select ノードは、最大 400TB のストレージをサポートするように設定できます。複数のデータストアから容量をプロビジョニングするには、 2 つの手順を実行する必要があります。</block>
  <block id="452e84053e9893ca8b8308783a4f9495" category="paragraph">最初のクラスタ作成手順では、初期データストアの一部またはすべてのスペースを消費する ONTAP Select クラスタを作成します。次に、目的の合計容量に達するまで、追加のデータストアを使用して 1 つ以上の容量追加処理を実行します。この機能の詳細については、を参照してください <block ref="3758ab6c14151317cde23ae6146a416a" category="inline-link-macro-rx"></block>。</block>
  <block id="1c3a0084b78822e0ed3892bb67d6be38" category="inline-link-macro">VMware KB 1001618</block>
  <block id="df2dd4b50329cef60defe7b0e8c9496d" category="admonition">VMFS オーバーヘッドはゼロ以外です（を参照） <block ref="9e97a6a937e133b25ea4405a923fbee9" category="inline-link-macro-rx"></block>）を削除し、データストアによって空きとして報告されたスペース全体を使用しようとすると、クラスタ作成処理中に誤ったエラーが発生していました。</block>
  <block id="41ebad797f5863853e01363510672b54" category="paragraph">各データストアで 2% のバッファが未使用のままになります。このスペースは ONTAP Select では使用されないため、容量ライセンスは必要ありません。ONTAP Deploy は、容量上限が指定されていないかぎり、バッファの正確なギガバイト数を自動的に計算します。容量上限を指定すると、そのサイズが最初に適用されます。容量上限のサイズがバッファサイズの範囲内である場合、クラスタ作成は失敗し、容量上限として使用できる正しい最大サイズのパラメータを示すエラーメッセージが表示されます。</block>
  <block id="f567af5ce47f1c4acb58b73b09111070" category="paragraph">VMFS 6 は、新規インストールの場合も、既存の ONTAP Deploy または ONTAP Select VM の Storage vMotion 操作のターゲットの場合もサポートされます。</block>
  <block id="5371e21a364d5455e7007a8b43a2e885" category="paragraph">VMware では、 VMFS 5 から VMFS 6 へのインプレースアップグレードはサポートしていません。このため、 VM が VMFS 5 データストアから VMFS 6 データストアに移行できる唯一のメカニズムは Storage vMotion です。ただし、 ONTAP Select と ONTAP Deploy を使用した Storage vMotion のサポートが拡張され、 VMFS 5 から VMFS 6 への移行という特定の目的に加えて、他のシナリオにも対応できるようになりました。</block>
  <block id="232e7ca11c161a943686e5295efded37" category="section-title">ONTAP Select 仮想ディスク</block>
  <block id="5d941a320196085f34ee11f1aa0de354" category="paragraph">ONTAP Select の基本的な役割は、 1 つ以上のストレージプールから一連の仮想ディスクをプロビジョニングして ONTAP に提供することです。ONTAP は提供された仮想ディスクを物理ディスクとして扱い、ストレージスタックの残りの部分はハイパーバイザーによって抽象化されます。次の図はこの関係を詳しく表したもので、物理 RAID コントローラ、ハイパーバイザー、 ONTAP Select VM の間の関係にフォーカスしています。</block>
  <block id="710024749fdf9df410738a25762bbc85" category="list-text">RAID グループと LUN の構成は、サーバの RAID コントローラソフトウェア内で行われます。VSAN または外付けアレイを使用する場合は、この構成は必要ありません。</block>
  <block id="236017bfd6a853d96b267b251abeaa24" category="list-text">ストレージプールの構成はハイパーバイザー内で行われます。</block>
  <block id="2bf17a0a30b854eadb28ff0adb9aa657" category="list-text">仮想ディスクは個々の VM によって作成および所有されます。この例では、 ONTAP Select によって作成されます。</block>
  <block id="18276736329cb5a3af95ec48feeb0b3e" category="paragraph">* 仮想ディスクと物理ディスクのマッピング *</block>
  <block id="f52de68158a7ac74f63fe77121d9ba0b" category="inline-image-macro">仮想ディスクと物理ディスクのマッピング</block>
  <block id="58f77ade6427bff6b1b9cc40067bd752" category="paragraph"><block ref="58f77ade6427bff6b1b9cc40067bd752" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c8ed98322df3cbd81318abde30d68b7" category="section-title">仮想ディスクのプロビジョニング</block>
  <block id="f947adb8f4cd7519b285032b19a08bb0" category="paragraph">より効率的なユーザエクスペリエンスを実現するために、 ONTAP Select 管理ツールである ONTAP Deploy によって、関連するストレージプールから仮想ディスクが自動的にプロビジョニングされて ONTAP Select VM に接続されます。この処理は、初期セットアップ時およびストレージ追加処理の実行中に自動的に行われます。ONTAP Select ノードが HA ペアの一部である場合、仮想ディスクは自動的にローカルストレージプールとミラーストレージプールに割り当てられます。</block>
  <block id="b2ccde46adc6087210082fe91b7f7a5e" category="paragraph">ONTAP Select は、基盤となる接続ストレージを同サイズの仮想ディスクに分割し、それぞれが 16TB を超えないようにします。ONTAP Select ノードが HA ペアの一部である場合は、各クラスタノードに少なくとも 2 本の仮想ディスクが作成され、ミラーされたアグリゲート内で使用されるローカルプレックスとミラープレックスに割り当てられます。</block>
  <block id="df8094ce9d20851e1a1c99cbe1aed8ef" category="paragraph">たとえば、 ONTAP Select では、 31TB のデータストアまたは LUN を割り当てることができます（ VM の導入後のスペースと、システムディスクおよびルートディスクのプロビジョニング後のスペース）。その後、 4~7.75TB の仮想ディスクが作成され、適切な ONTAP ローカルプレックスとミラープレックスに割り当てられます。</block>
  <block id="082f076571402ffa755df80abcca38c1" category="admonition">ONTAP Select VM に容量を追加すると、サイズの異なる VMDK が作成されることがあります。詳細については、を参照してください <block ref="3758ab6c14151317cde23ae6146a416a" category="inline-link-macro-rx"></block>。FAS システムとは異なり、同じアグリゲートにサイズの異なる VMDK を配置できます。ONTAP Select では、これらの VMDK にまたがる RAID 0 のストライプを使用するため、各 VMDK のすべてのスペースをそのサイズに関係なく完全に使用できます。</block>
  <block id="fe99eb72c703db69bd59615fd7424477" category="section-title">仮想 NVRAM</block>
  <block id="27bc9c6bd3ac9bb967e654fb3c84a1fc" category="paragraph">NetApp FAS システムには、従来より、不揮発性フラッシュメモリを搭載した高性能カードである物理 NVRAM PCI カードが取り付けられていました。このカードを使用すると、クライアントへのライトバックをすぐに確認できる機能が ONTAP に付与されるため、書き込みパフォーマンスが大幅に向上します。また、変更されたデータブロックを低速のストレージメディアに移動する、デステージと呼ばれるプロセスをスケジュール設定することもできます。</block>
  <block id="c7a1b527f2affc268470a4d29cbe6ef4" category="paragraph">コモディティシステムには通常、このタイプの機器が取り付けられていません。このため、この NVRAM カードの機能が仮想化されて、 ONTAP Select システムブートディスク上のパーティションに配置されてきました。そのため、インスタンスのシステム仮想ディスクの配置は非常に重要です。これは、この製品がローカル接続ストレージ構成で耐障害性に優れたキャッシュを備えた物理 RAID コントローラを必要とする理由でもあります。</block>
  <block id="454a296bfdd606102c9381c7ff04eb44" category="paragraph">NVRAM は独自の VMDK に配置されます。NVRAM を独自の VMDK に分割すると、 ONTAP Select VM は vNVMe ドライバを使用して NVRAM VMDK と通信できるようになります。また、 ONTAP Select VM では、 ESX 6.5 以降と互換性のあるハードウェアバージョン 13 を使用する必要があります。</block>
  <block id="5731426ad5932cbe2f0dc1563b3eeda2" category="section-title">データパスの説明： NVRAM と RAID コントローラ</block>
  <block id="235a3c28a55ff3027b14ea0be4651791" category="paragraph">システムが受信した書き込み要求のデータパスをたどると、仮想化された NVRAM システムパーティションと RAID コントローラの間の連携がよくわかります。</block>
  <block id="fd6a67fa31f26828eb7267405a8e9da5" category="paragraph">ONTAP Select VM への書き込み要求は、 VM の NVRAM パーティションを対象としています。仮想化レイヤでは、このパーティションは ONTAP Select システムディスク、つまり ONTAP Select VM に接続された VMDK 内にあります。物理レイヤでは、基盤のスピンドルをターゲットとするすべてのブロック変更と同様に、これらの要求はローカルの RAID コントローラにキャッシュされます。ここで、書き込みの確認応答がホストに返されます。</block>
  <block id="87923eab4b2c9081bab959b1b39daecc" category="paragraph">この時点で物理的には、該当するブロックは RAID コントローラキャッシュにあり、ディスクにフラッシュされるのを待機しています。論理的には、ブロックは適切なユーザデータディスクへのデステージを待機する NVRAM にあります。</block>
  <block id="badd9f71d7558dbfd111e4980be3e121" category="paragraph">変更されたブロックは RAID コントローラのローカルキャッシュに自動的に格納されるため、 NVRAM パーティションへの書き込みは自動的にキャッシュされ、物理ストレージメディアに定期的にフラッシュされます。この処理を、 NVRAM の内容が ONTAP データディスクに定期的にフラッシュされる処理と混同しないでください。この 2 つの処理に関連性はなく、実行されるタイミングも頻度も異なります。</block>
  <block id="6472bb711162db845dd2743aad1dcef9" category="paragraph">次の図に、書き込みで使用される I/O パスを示します。ここでは、物理レイヤ（ RAID コントローラキャッシュとディスクで表される）と仮想レイヤ（ VM の NVRAM とデータ仮想ディスクで表される）の違いが強調されています。</block>
  <block id="22d3fe9422a653f3d3fdcc515de2558a" category="admonition">NVRAM VMDK 上で変更されたブロックはローカルの RAID コントローラキャッシュにキャッシュされますが、キャッシュ自体は VM の構成要素もその仮想ディスクも認識しません。システム上の変更されたブロックをすべて格納し、 NVRAM はその一部に過ぎません。これには、ハイパーバイザーにバインドされている書き込み要求も含まれます（同じバッキングスピンドルからプロビジョニングされている場合）。</block>
  <block id="dffb2b0c240d924b2e202dc3c0800a1a" category="paragraph">* ONTAP Select VM への書き込み *</block>
  <block id="dbca2124e685af6158dfb16fa4b1f333" category="inline-image-macro">ONTAP Select VM への書き込み</block>
  <block id="bb4535bc16c1e303453a76a7d6669910" category="paragraph"><block ref="bb4535bc16c1e303453a76a7d6669910" category="inline-image-macro-rx" type="image"></block></block>
  <block id="83aee6fb82bd87d789e0851835b555f8" category="admonition">NVRAM パーティションは、専用の VMDK に分割されます。その VMDK は、 ESX バージョン 6.5 以降で使用可能な vNVME ドライバを使用して接続されます。この変更は、ソフトウェア RAID を使用した ONTAP Select のインストールで最も重要です。 RAID コントローラキャッシュによるメリットはありません。</block>
  <block id="c32e557727d87dabd26419e2d74fd541" category="summary">Ansible のロールを使用して、 ONTAP Select の導入を自動化できます。</block>
  <block id="6a7bceb6d2b5ceedce475be4f9b01f70" category="doc">Ansible で ONTAP Select 環境を自動化</block>
  <block id="ef4813ca7c0fc0ff31c081f95744fca3" category="paragraph">Ansible のロールとプレイブックを使用して、 ONTAP Select の導入を自動化できます。</block>
  <block id="53e3f47e6ca445e9be6f8424cc405d08" category="paragraph">Ansible のロールは、標準化されたファイル構造内のタスク、テンプレート、ハンドラ、変数の論理的な集合です。これらのロールを使用して、個別に使用できる機能を促進、再利用、およびモジュール化します。ロールと、そのロールを実行するホストのリストをプレイブックに含めます。Ansible のインストール後、必要なモジュールを更新し、プレイブックを理解したら、 NetApp GitHub から ONTAP Select （ OTS ）ロールをダウンロードして、独自のプレイブックを作成して実行し、 ONTAP Select クラスタを導入することができます。</block>
  <block id="a5cd3ed116608dac017f14c046ea56bf" category="section-title">ロール</block>
  <block id="826d466edf75a6e091340a11b737b650" category="paragraph">ONTAP Select には次の 2 つのロールがあります。</block>
  <block id="efd9faa12026d5475636db4e69b74c88" category="section-title">na_ots_deploy</block>
  <block id="43240aa487d9e87740e23d626da1a362" category="paragraph">このロールは、 ONTAP Select Deploy のインストールファイルを vCenter または ESXi ホストにダウンロードします。次に、 Deploy VM が作成されて実行されます。</block>
  <block id="295abdb722ec58f88548a860f1de3615" category="paragraph">このロールで使用される入力値は次のとおりです。</block>
  <block id="ce32e2e59fbccdfecf9783e364821344" category="list-text">vCenter または ESXi ホストのクレデンシャル</block>
  <block id="bcac6351d7ffa20621625e884ac48eef" category="list-text">次のような情報を含む Deploy VM の作成：</block>
  <block id="75ba8d70e3692ba200f0e0df37b4d2ae" category="list-text">IP アドレス</block>
  <block id="dae4a538d4ca7b6c0789932062fe718d" category="list-text">ホスト名</block>
  <block id="99dea78007133396a7b8ed70578ac6ae" category="list-text">ログインします</block>
  <block id="dc647eb65e6711e155375218212b3964" category="list-text">パスワード</block>
  <block id="8a5227cc82d14862956938caffc1acf2" category="list-text">データストア</block>
  <block id="eec89088ee408b80387155272b113256" category="list-text">ネットワーク</block>
  <block id="53c3b66ec700ff4dc91986d0dd8b16ac" category="list-text">OVA ファイルへのローカルパス</block>
  <block id="a494e509586e66c9858cd2b0032bbb59" category="paragraph">インストールファイルが利用可能であることを確認してから、ロールを含むプレイブックを実行してください）。</block>
  <block id="67b626a26e85af31687eb59b04a92d36" category="admonition">これらの入力値を指定する最も簡単な方法は、グローバル変数ファイルを YML 形式で使用することです。この YML ファイルをプレイブックに渡します。</block>
  <block id="62f436a0c8a1102605e3a87bed8fb9bb" category="paragraph">ロールには、 Deploy OVA ファイルをホストにインポートし、 VM を作成して実行するタスクが 1 つあります。このロールは、 NetApp Ansible GitHub からアクセスしてダウンロードできます。 <block ref="76046f5222ce385c10b6d73a03e82ba7" category="inline-link-macro-rx"></block></block>
  <block id="844c277ee2d3a4ab83ef1f113352e100" category="section-title">na_ots_ クラスタ</block>
  <block id="7fd297e1f0beaa7151bd9285d7dff546" category="paragraph">このロールでは、 ONTAP Select Deploy API を使用して ONTAP Select クラスタを作成および導入します。Deploy VM が作成され、手動または * na_ots_deploy * ロールを使用して稼働していることを前提としています。また、 Select ホストに ONTAP Select クラスタに必要なネットワークとストレージが適切に設定されていることを前提としています。</block>
  <block id="f0257515d53312c2d8028409069c5d84" category="paragraph">ロールは、 vCenter または ESXi のクレデンシャルの入力値と Deploy VM のクレデンシャルを使用して、 API と、 ONTAP Select クラスタとノード VM の作成に必要なすべての関連情報にアクセスします。</block>
  <block id="ea6e2b68eae559d20093f0d7eae85fb8" category="paragraph">ロールは次のタスクを実行します。</block>
  <block id="de939cf4d4a045633c8a520b501bb40e" category="list-text">（ vCenter または ESXi ）ホストのクレデンシャルを追加している</block>
  <block id="0b67a16a8394599f4eecf8683ef0d301" category="list-text">ホスト ID の取得と登録</block>
  <block id="fa8c1aa26c03157b5e62997fd0fdaa14" category="list-text">内部ネットワークの検証（マルチノードクラスタの場合）</block>
  <block id="d7494ab1ca8800562b8faee8d3a4984e" category="list-text">クラスタを作成しています</block>
  <block id="073dd452840b7a9881432728f959cd2c" category="list-text">ノードの設定</block>
  <block id="5b6e8147fdc6caa0b27d7fc75489608f" category="list-text">ネットワークとストレージプールを構成しています</block>
  <block id="b6877b94a1e530ab0fc6b8d1545fd166" category="list-text">クラスタを導入する</block>
  <block id="f8cac4cf1b1201d6a9386323183ca9c8" category="paragraph">その結果、クラスタ VM が稼働し、 ONTAP Select クラスタが完全に導入された状態でロールが完了します。このロールは、 NetApp Ansible GitHub からアクセスしてダウンロードできます。 <block ref="56a4d28e5b01605b6b865a56dead08da" category="inline-link-macro-rx"></block></block>
  <block id="043194e296799e8dbefda7f37d0e101e" category="section-title">Playbook の例</block>
  <block id="483b9ffc2547d862835719e69821ce3e" category="paragraph">次に、これらの 2 つの ONTAP Select ロールを呼び出すサンプルのプレイブックを示します。入力変数は YML ファイルで定義され、「 vars_files 」を介して渡されることに注意してください。詳細については、各役割の README ファイルを参照してください。</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link-macro">こちらをご覧ください</block>
  <block id="006a0a02171a296bf3a320f8991be24a" category="paragraph">上記のロールで ONTAP Select クラスタを作成して実行すると、 ONTAP の機能をさらに自動化するために使用できる豊富な ONTAP Ansible のロールを活用できます。使用可能な ONTAP ロールにはアクセスできます <block ref="4d400bdda09fce7a6e9e1a49c64cce9d" category="inline-link-macro-rx"></block>。要約すると、 ONTAP Select の Ansible のロールと ONTAP のロールを使用して、エンドツーエンドのワークフローを完全に自動化し、 ONTAP Select でストレージを管理できます。</block>
  <block id="76848919ab4ad9c5a51b5f29720a249f" category="summary">クラスタを導入し、環境に応じてクラスタを設定したら、クラスタの初期状態に注意する必要があります。</block>
  <block id="2bfa0c145c4d2b4004e481451529eb85" category="doc">導入後のクラスタの初期状態</block>
  <block id="4f8adfce07663fda787740d49cd25397" category="paragraph">ONTAP Select クラスタには、作成後にいくつかの特性があります。</block>
  <block id="e6d9b928e48b5e5a2538b2bcdc515c95" category="paragraph">ユーザが指定する 2 種類の LIF が割り当てられます。</block>
  <block id="7e8ceade9e54e9a912c6f9a52ea87658" category="list-text">クラスタ管理（クラスタごとに 1 つ）</block>
  <block id="5e3a8851b34912653fbf0e9bbf3fc9d0" category="list-text">ノード管理（ノードごとに 1 つ）</block>
  <block id="3013e63917da83ac89d317625e960fa3" category="paragraph">2 つの管理 SVM がアクティブです。</block>
  <block id="38cd25d85c8a7e96abb2aaf9d4009eb2" category="list-text">デフォルト SVM</block>
  <block id="c6117cdbee2307d85ed57db8a195f4f8" category="list-text">クラスタ SVM</block>
  <block id="ebeedb9721ef0e0966825fecfef52bb5" category="paragraph">ルートアグリゲートが作成されます。</block>
  <block id="d5daa4c0e0a3988a633eb5273b984697" category="paragraph">すべての機能のライセンスが付与され、使用可能です。SnapLock と FabricPool のどちらにも、個別のライセンスが必要です。</block>
  <block id="076515078e25047da0c60bc6f27e2c68" category="admonition">データ SVM は作成されません。また、マルチノードクラスタの内部ネットワークでは LIF が自動生成されます。</block>
  <block id="7e4d14e940ca34d72bbdbc88f17285ad" category="inline-link-macro">ONTAP 機能はデフォルトで有効になっています</block>
  <block id="48bd47a31dab80aa978f949db8e14bb2" category="list-text"><block ref="48bd47a31dab80aa978f949db8e14bb2" category="inline-link-macro-rx"></block></block>
  <block id="c425134bb19f4b4f525b0c1083b045dc" category="summary">Deploy vCenter プラグインは、 vSphere Web ユーザインターフェイスを使用して ONTAP Select クラスタを導入できます。</block>
  <block id="8b3f718e6de69a053cd42b9798b00739" category="doc">ONTAP Select クラスタの導入</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="section-title">作業を開始する前に</block>
  <block id="d1ca50336076d7a8eab4b563cc9efc9f" category="paragraph">ONTAP Select クラスタを導入する前に、 Deploy vCenter プラグインを使用する準備をしておく必要があります。</block>
  <block id="94b998ad17d9ea05d2548ce1476a8977" category="section-title">すべてのサイズのクラスタに共通の準備作業</block>
  <block id="e56b8b1c881ca5bf21a9ef8cbc717d58" category="paragraph">クラスタのサイズに関係なく、いくつかの手順を実行する必要があります。</block>
  <block id="33be222c4c9707ec9e68c0bd726dd248" category="list-text">Deploy vCenter プラグインの詳細については、 _ Getting started _ セクションを参照してください。</block>
  <block id="ba5d9c7a116ebd4f8e86db8843a52634" category="list-text">ONTAP Select Deploy 管理ユーティリティがインストールされて実行されていることを確認します。</block>
  <block id="ab3d621916e8d2ddb637cb8a3b69c733" category="list-text">Deploy vCenter プラグインをインストールする。</block>
  <block id="1087d1a7b8a35e3c00ab99883e90a018" category="list-text">ONTAP Select クラスタを実行するハイパーバイザーホストを準備します。</block>
  <block id="f83c396cc7968a835beed5bf37b04dd2" category="list-text">クラスタ内のノードに必要なストレージライセンスファイルを取得します。</block>
  <block id="8ede6792e6226ff1dd24d8e88ce44e22" category="list-text">次のアカウントのクレデンシャルを取得します。</block>
  <block id="2443a6057047e87f1e469172589f3ec1" category="list-text">管理者アカウントを導入</block>
  <block id="dc286f3a00bcbc6901a8c3ee321ba47b" category="list-text">プラグインへのアクセス権を持つ vCenter アカウント</block>
  <block id="17058de0d05c3281e51216de5d8b2850" category="list-text">必要に応じて、 Deploy SSL 証明書を「信頼されたルート認証局」として Windows 証明書マネージャにインストールします。</block>
  <block id="75babf3594d9477c426fcd4269d9b4fb" category="list-text">Deploy ユーティリティが、 vCenter サーバでポート 443 へのネットワークアクセスを許可していることを確認してください。</block>
  <block id="aa1e175f3dd507f2145d53ef8c82a187" category="section-title">マルチノードクラスタ向けの追加の準備</block>
  <block id="b389922b10c2fe9fd2287bfb06e86a06" category="paragraph">一般的な準備作業に加えて、マルチノードクラスタを導入する前に、 Deploy ネットワークチェッカーに関する知識が必要です。</block>
  <block id="8e1c9384d676a9ca114826fcb687c5da" category="section-title">ハイパーバイザーホストの追加</block>
  <block id="9dee5dc673ef7b8e134261e3fd292f31" category="paragraph">クラスタを導入する前に、 ONTAP Select ノードを実行する Deploy ユーティリティにハイパーバイザーホストを追加できます。必要に応じて、クラスタ作成ダイアログの一部としてホストを追加することもできます。</block>
  <block id="9beb4453b67526de372f1e7c9cec14de" category="paragraph">「 ONTAP Select クラスタの導入の準備」を参照してください。</block>
  <block id="21541af01e0bc99dd55a1591bf7483b8" category="paragraph">クラスタのサイズに基づいて、 1 つ以上のホストを追加できます。</block>
  <block id="74231f07e124c866a569abfb8d9c23eb" category="list-text">ブラウザを使用して、 vSphere HTML5 経由で vCenter Server にサインインします。</block>
  <block id="a1b0149f79367bf05f2945c870fa1159" category="list-text">ツールバーの * メニュー * をクリックし、 * グローバルインベントリリスト * をクリックします。</block>
  <block id="7ff5f83fd91ed8290a61a4e0324b9c13" category="list-text">左側のペインで、 * ONTAP Select Deploy* をクリックし、 * Hosts * タブをクリックします。</block>
  <block id="8b22dac26d2b90a6c0cb38ea538071ab" category="list-text">右側の [ * 追加（ Add * ） ] をクリックします。</block>
  <block id="bb03d0cfe217a2966eac07391a37364a" category="list-text">ホストのホスト名または IP アドレスを入力して、 [ * 追加 * ] または [ * 追加 / 終了 * ] をクリックします。</block>
  <block id="1457153d67772d3f9c4bf60a210172dc" category="section-title">シングルノードクラスタを作成しています</block>
  <block id="0a23849667830c1c317c99fdc48dcb6f" category="paragraph">vSphere Web Client を介して VMware vCenter プラグインを使用し、単一ノードで構成される ONTAP Select クラスタを導入できます。</block>
  <block id="b15ce1b8b0e65631e2449561115ea8c9" category="paragraph">ONTAP Select クラスタの導入とハイパーバイザーホストの追加の準備を確認しておく必要があります。クラスタを作成する前、またはシングルノードクラスタを作成する際に ONTAP Select ノードを実行するホストを追加できます。</block>
  <block id="33b8e6837d68f7709386eda15676c028" category="list-text">上部の [*Menu*]( メニュー ) をクリックし、 [*Global Inventory Lists*]( グローバルインベントリリスト ) をクリックします。</block>
  <block id="ae43c01ada21f755585c1d99fe599eb2" category="list-text">左側のペインで * ONTAP Select Cluster* をクリックし、 * New ONTAP Select * をクリックします。</block>
  <block id="f3e9467ba41b554712eca89b9a445ff3" category="paragraph">SSL 証明書をまだ承認していない場合は、警告メッセージの IP リンクをクリックし、証明書を受け入れます。次に、 vCenter のページに戻り、警告メッセージのリンクをクリックしてページをリロードします。</block>
  <block id="e35de716fc4f0f31d844e85735669ed7" category="list-text">New ONTAP Select * ページで、クラスタの詳細を入力し、 * Done * をクリックします。</block>
  <block id="7fd0264ce588a72839c58a94c4b8d601" category="list-text">[ ノードのセットアップ * （ * Node Setup * ） ] セクションで、設定を指定し、ライセンスを選択します。</block>
  <block id="3507609ab5806f9693d1a7b7b83c5a5f" category="paragraph">必要に応じて、デフォルトのノード名を変更したり、新しいライセンスをアップロードしたりできます。</block>
  <block id="cf68041c8d23df716fe4c3223988967a" category="list-text">[ ハイパーバイザーとネットワーク * ] セクションで、インスタンスタイプ、ホスト、およびネットワークを選択します。</block>
  <block id="9839cc23c3f2e2882aa5fa89fc39358d" category="paragraph">必要に応じてホストを追加できます。ノードのライセンスがインスタンスタイプを満たしているか、超えている必要があります。</block>
  <block id="c00cf3b8bcc59c5cf85db7921acbfe21" category="list-text">[* ストレージ ] セクションで、ストレージ容量とストレージプールを選択します。</block>
  <block id="4d6d03faa795b69b32e08511c11830ac" category="paragraph">必要に応じて、 Premium ライセンスの使用時にソフトウェア RAID を有効にすることができます。</block>
  <block id="27968b5d8d97db92801d16cbc6cab8c5" category="list-text">Done をクリックし、クラスタの構成を確認します。</block>
  <block id="6e78e876d03fd7c13421e418b71cdcb5" category="paragraph">必要に応じて、各セクションの [Edit] をクリックすると、設定を変更できます。</block>
  <block id="5a378b18f7bf0c4cabc6c655cd2f535e" category="list-text">「 * 次へ * 」をクリックします。</block>
  <block id="90313f01e4e05d0da3e78b36da01d5d9" category="list-text">ONTAP 管理者パスワードを入力し、 * クラスタの作成 * をクリックしてクラスタ作成プロセスを開始し、確認のポップアップウィンドウで * OK * をクリックします。</block>
  <block id="18c27fdda3b31de582a5c418705a0eab" category="paragraph">クラスタが作成されるまで、 30 分程度かかる場合があります。</block>
  <block id="764ec56ffd2492e087107a2d86e0c3ec" category="list-text">ページをリフレッシュして新しいクラスタを選択し、 * Summary * と * Details * をクリックして、複数ステップのクラスタ作成プロセスを監視します。</block>
  <block id="4698c762caa8f5e1aaa882e6f2e23544" category="admonition">クラスタの作成処理が開始され、完了できなかった場合は、定義済みの ONTAP 管理パスワードが登録されません。この場合、「 admin 」アカウントを持つパスワード「 changeme123 」を使用して、 ONTAP Select クラスタの管理インターフェイスにアクセスできます。</block>
  <block id="bd965e38a0c9cf27aa1bde099308e23f" category="list-title">完了後</block>
  <block id="9cf32fe9d45a8d5c42e36629fdf73250" category="list-text">ONTAP Select AutoSupport 機能が有効になっていることを確認します。</block>
  <block id="f51fa96b4d90c27b85639d4ec132e918" category="list-text">ONTAP Select Deploy の設定データをバックアップします。</block>
  <block id="ca66bca948ca759bf42fee371490c169" category="section-title">マルチノードクラスタを作成する</block>
  <block id="60c3b5c20313e961f23f987886790138" category="paragraph">vSphere Web Client を介して VMware vCenter プラグインを使用し、複数のノードで構成される ONTAP Select クラスタを導入できます。</block>
  <block id="d7c99e5008d6fda61879aa77005389c0" category="paragraph">ONTAP Select クラスタの導入とハイパーバイザーホストの追加の準備を確認しておく必要があります。クラスタを作成する前、またはマルチノードクラスタの作成時に ONTAP Select ノードを実行するホストを追加できます。</block>
  <block id="96e35df5a9c4ce2959f287672d256b88" category="paragraph">ONTAP Select マルチノードクラスタは偶数個のノードで構成されます。ノードは常に HA ペアとして参加します。</block>
  <block id="87b5ec8e8e5a4033e50d405f1ee410e5" category="list-text">左側のペインで * ONTAP Select Cluster* をクリックし、 * New ONTAP Select * をクリックします</block>
  <block id="c7781b09c6ceec4dcae02f5dc6e801ea" category="paragraph">クラスタの MTU サイズを設定する理由がないかぎり、デフォルト値を受け入れ、 Deploy は必要に応じて調整を行う必要があります。</block>
  <block id="bd245fba38b9db4c5fd22f8f7dad5491" category="list-text">ノードのセットアップ * セクションで、構成を指定し、 HA ペアの 2 つのノードのライセンスを選択します。</block>
  <block id="7f68e41db635470e77aaf7a6ff8d25ed" category="paragraph">必要に応じて、デフォルトのノード名を変更したり、新しいライセンスをアップロードしたりできます。</block>
  <block id="7ecf60a04a478100ee0b211e1a645b20" category="list-text">「 * ハイパーバイザーとネットワーク * 」セクションで、各ノードのインスタンスタイプ、ホスト、およびネットワークを選択します。</block>
  <block id="655bb5d9eecbb570f59d3b5384a51b1f" category="paragraph">必要に応じてホストを追加できます。3 つのネットワークを選択する必要があります。内部ネットワークを管理ネットワークまたはデータネットワークと同じにすることはできません。ノードのライセンスタイプがインスタンスタイプを満たしているか、それを超えている必要があります。</block>
  <block id="36c2f7114ee178064926bc753e149ac6" category="list-text">クラスタのノード数が 4 つ以上の場合は、最初の HA ペアで使用した手順と同じ手順に従って、追加の HA ペアでノードを構成する必要があります。</block>
  <block id="b8d94059dfb6de1e5500b4c83d9ce133" category="paragraph">必要に応じて、各セクションの * Edit * をクリックすると、設定を変更できます。</block>
  <block id="eb8c8438fe90ea288c2bae7d06ad8446" category="list-text">必要に応じて、ネットワーク接続チェッカーを実行して、内部クラスタネットワーク上のノード間の接続をテストします。</block>
  <block id="f0d06352d26117769577e30b4e00ca4a" category="summary">ONTAP Select クラスタを管理するために実行できる関連タスクがいくつかあります。</block>
  <block id="c57ef2657d4baa07c3da17d9b8ee2e20" category="doc">ONTAP Select クラスタ</block>
  <block id="e6cefd08c6d87f26166557071fc66db2" category="section-title">ONTAP Select クラスタのオフラインとオンラインの切り替え</block>
  <block id="270415548e638f6227a9943760c4601e" category="paragraph">作成したクラスタは、必要に応じてオフラインやオンラインに切り替えることができます。</block>
  <block id="dfff66df61854331286bf47398ed3c65" category="paragraph">作成されたクラスタの初期状態はオンラインです。</block>
  <block id="8f7d4958a1bc5ef246671f311712972f" category="list-text">管理者アカウントを使用して、 Deploy ユーティリティの Web ユーザインターフェイスにサインインします。</block>
  <block id="c7fa19282402831dc34065f728df37b7" category="list-text">ページ上部の * クラスタ * タブをクリックし、リストから目的のクラスタを選択します。</block>
  <block id="dae8ace18bdcbcc6ae5aece263e14fe8" category="inline-image-macro">オプション（ Options ）</block>
  <block id="eb037b2a875442bcd31ee13497c2b312" category="list-text">をクリックします <block ref="8bad975decfb5a8958ec55339559e376" category="inline-image-macro-rx" type="image"></block> クラスタの右側で、 * オフラインにする * を選択します。</block>
  <block id="6a83dbf406a55504c44ecbdb9a3f3c8b" category="paragraph">オフラインオプションを使用できない場合は、クラスタがすでにオフライン状態になっています。</block>
  <block id="be333549c0e61bddb36ab724f6cebce0" category="list-text">ポップアップウィンドウで [ はい ] をクリックして、リクエストを確定します。</block>
  <block id="1bcf3ab421467b64d18b1e91bf513019" category="list-text">クラスタがオフラインになっていることを確認するには、 * Refresh * をクリックします。</block>
  <block id="19c67cb97c6c05718d7e681ed3ced1da" category="list-text">クラスタをオンラインに戻すには、をクリックします <block ref="8bad975decfb5a8958ec55339559e376" category="inline-image-macro-rx" type="image"></block> をクリックし、 * オンラインにする * を選択します。</block>
  <block id="1a7110ce3561b8feda215f5877ca761a" category="list-text">クラスタがオンラインになっていることを確認するために、 * Refresh * をクリックすることがあります。</block>
  <block id="6334e1d2ffb56837b2d347f575c4e8c5" category="section-title">ONTAP Select クラスタを削除する</block>
  <block id="87300addb909c3dd1fc90908188a2edb" category="paragraph">不要になった ONTAP Select クラスタを削除できます。</block>
  <block id="8173cb787b6162a08766cc1cdb8e3f46" category="paragraph">クラスタをオフライン状態にする必要があります。</block>
  <block id="aad40ad02c75b52c483fc3a32096ab19" category="list-text">をクリックします <block ref="8bad975decfb5a8958ec55339559e376" category="inline-image-macro-rx" type="image"></block> クラスタの右側で、 * Delete * を選択します。</block>
  <block id="d8b622338b52facf80fc1a8d7f1e6941" category="paragraph">削除オプションを使用できない場合は、クラスタがオフライン状態になっていません。</block>
  <block id="1dcab6c914e11ddf3bf3265ee021abc1" category="list-text">クラスタがリストから削除されたことを確認するために、「 * Refresh * 」を時々クリックします。</block>
  <block id="117ed117444818cf7b6eed7ac4af74d8" category="section-title">Deploy クラスタ設定を更新しています</block>
  <block id="a3b2d6b58c28120bea0cda0994624182" category="paragraph">ONTAP Select クラスタを作成したあと、 ONTAP またはハイパーバイザー管理ツールを使用して、 Deploy ユーティリティ以外でクラスタまたは仮想マシンの設定を変更できます。仮想マシンの構成は、移行後に変更することもできます。</block>
  <block id="cdd3fa6e841f006a861377ef13930e09" category="paragraph">クラスタまたは仮想マシンに対するこれらの変更が発生しても、 Deploy ユーティリティの設定データベースは自動的には更新されず、クラスタの状態と同期していない可能性があります。これらの状況およびその他の状況では、クラスタの現在の状態に基づいて Deploy データベースを更新する必要があります。</block>
  <block id="f8ad24507fa09d903436c3525e8e9d3f" category="list-text">必要な情報</block>
  <block id="efc320f5bc255bc7bdac69c3569878ca" category="list-text">次の項目を含む、クラスタの現在の設定情報が必要です。</block>
  <block id="6115ef633dde826de203412d52a63b6a" category="list-text">ONTAP 管理者のクレデンシャル</block>
  <block id="17f9763b5928eb7d43b4432194b9abfd" category="list-text">クラスタ管理 IP アドレス</block>
  <block id="cdeff681380dce91976d902a8ef35f9b" category="list-text">クラスタ内のノードの名前</block>
  <block id="1bf2c1905707fa6088cbbdc5f521907e" category="list-text">クラスタが安定した状態</block>
  <block id="f9f2231d095ada35eeea87b74c0c94d6" category="list-text">クラスタが安定した状態である必要があります。クラスタを更新できないのは、クラスタを作成中または削除中、あるいは _create _failed_or_delete_failed_state のときです。</block>
  <block id="5bacdabaf1613776c4f9741328ea9f7d" category="list-text">VM の移行後</block>
  <block id="6e2af1337e1be3ce5edcac22759c574e" category="list-text">ONTAP Select を実行する仮想マシンを移行したら、クラスタの更新を実行する前に、 Deploy ユーティリティを使用して新しいホストを作成する必要があります。</block>
  <block id="dba47ba2e33ef05bb98b2d3b91625fcd" category="paragraph">クラスタの更新を実行し、 Web ユーザインターフェイスを使用して Deploy 構成データベースを更新できます。</block>
  <block id="79fd23ce1c6c0f9489c886caa7c1e04d" category="admonition">Deploy GUI を使用する代わりに、 Deploy CLI シェルで cluster refresh コマンドを使用してクラスタを更新できます。</block>
  <block id="a45d2ebc1ef2c66397f13a2639ce7a9d" category="list-text">クラスタと仮想マシンの構成</block>
  <block id="3c751052c474b8a3e161f069e8cb9522" category="list-text">変更可能な設定値と、原因 Deploy データベースが同期しないようにする設定値には、次のものがあります。</block>
  <block id="817e7580f8422be93706a715f2f662c6" category="list-text">クラスタ名とノード名</block>
  <block id="30871985891e2fbfe2a4f476d0ad1b06" category="list-text">ONTAP のネットワーク構成</block>
  <block id="d13177ba534aa29f6c272d5affc264fe" category="list-text">ONTAP のバージョン（アップグレード後）</block>
  <block id="33035d33aa601cd6402fd019303dc6e2" category="list-text">仮想マシン名</block>
  <block id="0eb922aeba5cffa562fe3178778996a6" category="list-text">ホストのネットワーク名</block>
  <block id="05bb7695dab3e6e76f813178a7b301d8" category="list-text">ストレージプール名</block>
  <block id="ef293bcc2224a78a47a97f0ed6337240" category="list-text">クラスタとノードの状態</block>
  <block id="36b7c453940e75c22a2b2b3f37ecc4b4" category="list-text">ONTAP Select クラスタまたはノードが正常に動作しない状態になっている可能性があります。クラスタの更新処理を実行して、次の条件を修正する必要があります。</block>
  <block id="a0e146dace4ba4c84ec1e456848eae83" category="list-text">ONTAP Select ノードの状態が不明な場合は、ノードが見つからないなど、いくつかの理由でノードの状態が不明である可能性があります。</block>
  <block id="b1c9e8fa39c3716907a107f8ae241961" category="list-text">クラスタの電源がオフになっている場合、 Deploy ユーティリティではオンラインとして表示されることがあります。この状況では、クラスタの状態は _degraded_state です。</block>
  <block id="0c595d5f84bf4ea8928c18d19036abdd" category="list-text">ページの左上にある * クラスタ * タブをクリックし、リストから目的のクラスタを選択します。</block>
  <block id="f28a62f0eb2650267ee207ccca76145b" category="list-text">をクリックします <block ref="8bad975decfb5a8958ec55339559e376" category="inline-image-macro-rx" type="image"></block> ページの右側で、 * Cluster Refresh * を選択します。</block>
  <block id="28c0785bd15fb443f192e45ef7b9c552" category="list-text">[* Cluster Credentials] で、クラスタの ONTAP 管理者パスワードを指定します。</block>
  <block id="d687cb57e7c0a2bc72631659265b9d28" category="list-text">[* 更新 * ] をクリックします。</block>
  <block id="00b2b7cadccef92087c6e89de6d2b98a" category="paragraph">処理が成功すると、「 _Last Refresh_ 」フィールドが更新されます。クラスタの更新処理が完了したら、 Deploy の設定データをバックアップする必要があります。</block>
  <block id="abba0f0dc82d61817731da74e40642c4" category="summary">vCenter で管理されている VMware ESXi ホストにシングルノードの ONTAP Select クラスタを導入できます。クラスタは、評価用ライセンスで作成されます。</block>
  <block id="b960ad587b6fea7548fc811838e21c14" category="doc">ワークフロー 1 ： ESXi でのシングルノード評価クラスタの作成</block>
  <block id="7c5309706c244a069f293270807d94f9" category="paragraph">クラスタの作成ワークフローは次の場合に異なります。</block>
  <block id="31b7bb22df4e14e27e8d94676de87687" category="list-text">ESXi ホストが vCenter で管理されない（スタンドアロンホスト）</block>
  <block id="7f99b6195696eb3b2dd6306108e31199" category="list-text">クラスタ内で複数のノードまたはホストが使用されている場合</block>
  <block id="23792fd2201db7e4a90f1bb62205da33" category="list-text">クラスタは購入ライセンスを使用して本番環境に導入されます</block>
  <block id="02a3feeefaee61409aecc3199ba633fd" category="section-title">1. vCenter サーバのクレデンシャルを登録します</block>
  <block id="9769928a2568daa5e0ec428f55c04f89" category="paragraph">vCenter サーバで管理されている ESXi ホストに導入する場合は、ホストを登録する前にクレデンシャルを追加する必要があります。その後、 Deploy 管理ユーティリティは、のクレデンシャルを使用して vCenter への認証を行います。</block>
  <block id="3adbdb3ac060038aa0e6e6c138ef9873" category="cell">カテゴリ</block>
  <block id="4c57667deb9cc4427f7e6a777e3de812" category="cell">HTTP 動詞</block>
  <block id="ac70412e939d72a9234cdebb1af5867b" category="cell">パス</block>
  <block id="507a3a88cebc46603ce2be8eaa924eee" category="cell">導入</block>
  <block id="a02439ec229d8be0e74b0c1602392310" category="cell">投稿（ Post ）</block>
  <block id="1fc7781bfcbf072e6a0cf4888ddd9653" category="cell">/security/ クレデンシャル</block>
  <block id="66b29b9f2bdc949a7545046fbe59fcef" category="list-text">カール</block>
  <block id="a9c1be490c233a91063faddbf4a25398" category="list-text">JSON 入力（ step01 ）</block>
  <block id="11678e3d67c685db9322ab4433f227a6" category="list-text">処理のタイプ</block>
  <block id="288aae25bc408055f50c21c991903a44" category="list-text">非同期</block>
  <block id="29c2c02a361c9d7028472e5d92cd4a54" category="list-text">出力</block>
  <block id="6fd18179e53fc3bd4a83e90c73684f11" category="list-text">ロケーション応答ヘッダーのクレデンシャル ID</block>
  <block id="a7b616ec1be656c2c3ef33dfd78bdb0c" category="list-text">ジョブオブジェクト</block>
  <block id="deadfde1342a222716de788f93895dbf" category="section-title">2. ハイパーバイザーホストを登録します</block>
  <block id="50f3b14b7fbed4611e83c75b3c9c20a3" category="paragraph">ONTAP Select ノードが含まれる仮想マシンを実行するハイパーバイザーホストを追加する必要があります。</block>
  <block id="249694a485fc5d3289c38986b4f8e887" category="cell">クラスタ</block>
  <block id="88fc921d1f71318c5af975a07e0e8f04" category="cell">/hosts</block>
  <block id="1aa20ebe456cad66e6129fab4a195837" category="list-text">JSON 入力（ step02 ）</block>
  <block id="d0dd05b272f8737bda5439adabfc6643" category="list-text">ロケーション応答ヘッダーのホスト ID</block>
  <block id="39383035f281c71cce438511fe8d6c51" category="section-title">3. クラスタを作成します</block>
  <block id="ed384ac8f730609703afe369807f8250" category="paragraph">ONTAP Select クラスタを作成すると、基本的なクラスタ設定が登録され、 Deploy によってノード名が自動的に生成されます。</block>
  <block id="a8581617f4d06018ed83bcbb6d633f90" category="cell">/clusters</block>
  <block id="e25498b7bd9652ce511f529df78712d4" category="list-text">シングルノードクラスタの場合、クエリパラメータの node_count を 1 に設定する必要があります。</block>
  <block id="dae34b91c860e5a604ac5d4f6afd92c5" category="list-text">JSON 入力（ step03 ）</block>
  <block id="2fe4167817733fec8e6ba1afddf78f1b" category="list-text">同期</block>
  <block id="1b8b8b0085eceb8bce188a5913d56143" category="list-text">location 応答ヘッダーにクラスタ ID が含まれます</block>
  <block id="3a35cc9294f17e216cdffe83bb91f788" category="section-title">4. クラスタを構成します</block>
  <block id="754c9eee1c8ef23ccd9076075bd78511" category="paragraph">クラスタの設定の一環として指定する必要のある属性がいくつかあります。</block>
  <block id="63bc9a3997d66d835d9f3ec29451407d" category="cell">パッチ</block>
  <block id="33faae66911153aa6d56f871c5f658a4" category="cell">/ クラスタ / ｛ cluster_id ｝</block>
  <block id="3b6e7b3175c0359d5497f22d0e5daabe" category="list-text">クラスタ ID を指定する必要があります。</block>
  <block id="2ad2e34d4fd04283002befd67d1c29a8" category="list-text">JSON 入力（ step04 ）</block>
  <block id="6adf97f83acf6453d4a6a4b1070f3754" category="list-text">なし</block>
  <block id="4af02a1f5e0473ffb86727e2bd8b6b53" category="section-title">5. ノード名を取得します</block>
  <block id="c26f06391fa4424822a3dbd199d9a64f" category="paragraph">Deploy 管理ユーティリティは、クラスタの作成時にノード ID と名前を自動的に生成します。ノードを設定する前に、割り当てられている ID を取得する必要があります。</block>
  <block id="7528035a93ee69cedb1dbddb2f0bfcc8" category="cell">取得</block>
  <block id="42dce12ba7d8618ae5d2c83199fea8c7" category="cell">/ クラスタ / ｛ cluster_id ｝ / ノード</block>
  <block id="26db382b78fbd183978d5f1aeb381a58" category="list-text">Array は、それぞれ固有の ID と名前を持つ単一のノードを記述している</block>
  <block id="74cda71525f9aca3e46903d022234ad1" category="section-title">6. ノードを設定します</block>
  <block id="0a92566a847a42edd7244ec613900b3c" category="paragraph">ノードの基本設定を指定する必要があります。これは、ノードの設定に使用される最初の 3 つの API 呼び出しです。</block>
  <block id="5ffb5f0d0de78321df46fc7c93ca64a3" category="cell">パス</block>
  <block id="af9a1e8be725824341f94f96e257b314" category="cell">/ クラスタ / ｛ cluster_id ｝ / ノード / ｛ node-id ｝</block>
  <block id="e2b008addd29982e386d16b9228751e6" category="list-text">クラスタ ID とノード ID を指定する必要があります。</block>
  <block id="8f026c595638e4f7dbd8326086a2c7cd" category="list-text">JSON 入力（手順 06 ）</block>
  <block id="9e2c6c95b203ef5d771d239c6ba5479b" category="list-text">ONTAP Select ノードを実行するホスト ID を指定する必要があります。</block>
  <block id="e3ffa31f1d872665590b8b0eadc78e7a" category="section-title">7. ノードネットワークを取得します</block>
  <block id="8637663f59921f4e94ab0db53688a62e" category="paragraph">シングルノードクラスタ内のノードで使用されるデータネットワークと管理ネットワークを特定する必要があります。内部ネットワークはシングルノードクラスタでは使用されません。</block>
  <block id="284ca1efd0632ffce3951fad1a5347c6" category="cell">/ クラスタ / ｛ cluster_id ｝ / ノード / ｛ node-id ｝ / ネットワーク</block>
  <block id="e8d9bbe73b019b41c0089d3e7a4fb864" category="list-text">2 つのレコードの配列。各レコードは、一意の ID と目的を含め、ノードの単一のネットワークを表します</block>
  <block id="d20ec6b7f7f600c9fcccd6514729b723" category="section-title">8. ノードのネットワークを設定します</block>
  <block id="fd044cc6dc8f7afdca50cedf9c5f9b6e" category="paragraph">データネットワークと管理ネットワークを設定する必要があります。内部ネットワークはシングルノードクラスタでは使用されません。</block>
  <block id="7487fb99cf5d2185162c369e66dbc1f3" category="admonition">問題 次の API 呼び出しは、ネットワークごとに 2 回ずつ実行されます。</block>
  <block id="16629bbbcf84e6c1fef245e6a9d19614" category="cell">/ クラスタ / ｛ cluster_id ｝ / ノード / ｛ node-id ｝ / ネットワーク / ｛ network_id ｝</block>
  <block id="ff503073d5b79100c9a9f78b013ceb2a" category="list-text">クラスタ ID 、ノード ID 、およびネットワーク ID を指定する必要があります。</block>
  <block id="5e18d7f3d51078ef553f70ee4289c0ad" category="list-text">JSON 入力（ step08 ）</block>
  <block id="f35efe81d707c340d4ea2dfcb42b737f" category="list-text">ネットワークの名前を指定する必要があります。</block>
  <block id="f4d85dee61b7e6ea8e579ded7b189205" category="section-title">9. ノードストレージプールを構成します</block>
  <block id="d5498e1eb1973de90900bb0d5c17cf3a" category="paragraph">ノードを設定する最後の手順は、ストレージプールを接続することです。使用可能なストレージプールは、 vSphere Web Client を介して、または必要に応じて Deploy REST API を使用して確認できます。</block>
  <block id="19702db757a0d71c55c74a9cd29e7adc" category="list-text">JSON 入力（ step09 ）</block>
  <block id="56c843bc5b42c39debe1aeb9c8cc5151" category="list-text">プールの容量は 2TB です。</block>
  <block id="7342217632a904bd0e46f2ccc65f1b37" category="section-title">10. クラスタを導入します</block>
  <block id="f11eb42db1edaa1e22748c9811162fc2" category="paragraph">クラスタとノードの設定が完了したら、クラスタを導入できます。</block>
  <block id="365539463bcc61785d264265fdb0e583" category="cell">/ クラスタ / ｛ cluster_id ｝ / 導入してください</block>
  <block id="33ba2ef8157bb8f83fe7476e84b76be7" category="list-text">JSON 入力（手順 10 ）</block>
  <block id="95ccb28342b6f78f3f3a3eb2dc5046d6" category="list-text">ONTAP 管理者アカウントのパスワードを指定する必要があります。</block>
  <block id="d295341492f739bc9ed31c2abfb0e417" category="summary">特定のストレージコンポーネントについて確認する前に、 ONTAP Select 環境に適用されるストレージの一般的な概念について説明します。</block>
  <block id="43081fb9e7dc86bdd0d154bd2bb1e2fe" category="doc">ストレージ：一般的な概念と特徴</block>
  <block id="b907157cf0c2808be6ce5a2fcc58c979" category="section-title">ストレージ構成のフェーズ</block>
  <block id="ddde4d8b2043d435e0a29de48fbd9b26" category="paragraph">ONTAP Select ホストストレージの主な設定フェーズは次のとおりです。</block>
  <block id="2b98f2f535fa8cb839616d8a0892d5da" category="list-text">導入前の前提条件</block>
  <block id="0bdfd38e7ff19b2a4c5dbb76d31fd7e4" category="list-text">各ハイパーバイザーホストが設定済みで、 ONTAP Select 環境向けの準備ができていることを確認します。</block>
  <block id="01390deb08147af6aa6de9f2234d27c4" category="list-text">この構成には、物理ドライブ、 RAID コントローラとグループ、 LUN 、および関連するネットワークの準備が含まれます。</block>
  <block id="9119bac926686d3c654d12af286e576c" category="list-text">この設定は ONTAP Select の外部で実行されます。</block>
  <block id="287c7db34e341e1a9aae7dbd6ca284bb" category="list-text">ハイパーバイザー管理者ユーティリティを使用した設定</block>
  <block id="86c5987d5b845e3a3ad17afb236a33d7" category="list-text">ハイパーバイザー管理ユーティリティ（ VMware 環境の vSphere など）を使用して、ストレージの特定の要素を設定できます。</block>
  <block id="4474e1baa0f538daad42d6261d5dd194" category="list-text">ONTAP Select Deploy 管理ユーティリティを使用した設定</block>
  <block id="a277db490e90356cb5b37561daa3df85" category="list-text">Deploy 管理ユーティリティを使用して、論理ストレージのコア構成を設定できます。</block>
  <block id="ed828ea7ecedf9697bd0d58e2cf46713" category="list-text">この処理は、 CLI コマンドを使用して明示的に実行するか、導入の一環としてユーティリティによって自動的に実行されます。</block>
  <block id="ced8ed609625883da1754bcdbde7e7aa" category="list-text">導入後の設定</block>
  <block id="bc89366e716890184208835f9981fc21" category="list-text">ONTAP Select の導入が完了したら、 ONTAP CLI または System Manager を使用してクラスタを設定できます。</block>
  <block id="60c98a4d854aec95ad0679bcd2ed754a" category="list-text">この設定は ONTAP Select Deploy の外部で実行されます。</block>
  <block id="e816861823887e04e63f7eccc4b266b1" category="section-title">管理対象のストレージと管理対象外のストレージ</block>
  <block id="8131b5542acd0539cd6e287c33d67b72" category="paragraph">ONTAP Select がアクセスして直接制御するストレージは、管理対象のストレージです。同じハイパーバイザーホスト上のそれ以外のストレージは管理対象外のストレージです。</block>
  <block id="b126b0e03ae8c08b579d3e7a26ceddb3" category="section-title">同種の物理ストレージ</block>
  <block id="5f9f15e5f5268a8cdee3b7ea7c33afd5" category="paragraph">ONTAP Select で管理されるストレージを構成するすべての物理ドライブは同種のドライブである必要があります。つまり、次の特性に関してすべてのハードウェアが同じである必要があります。</block>
  <block id="3cc124e488cb9dda6447be58452ec30c" category="list-text">タイプ（ SAS 、 NL-SAS 、 SATA 、 SSD ）</block>
  <block id="9686a77fa54af24d39e5c629c9ce86e8" category="list-text">速度（ RPM ）</block>
  <block id="17c34cd4713833c95edd3b1e2d51fa77" category="section-title">ローカルストレージ環境の図</block>
  <block id="9ebafacdce2fe096f7863e9851436c35" category="paragraph">各ハイパーバイザーホストには、 ONTAP Select で使用可能なローカルディスクとその他の論理ストレージコンポーネントが含まれています。これらのストレージコンポーネントは、物理ディスクから階層構造に配置されます。</block>
  <block id="c4f9b4d555ff7739e8ab7aebf6868a8e" category="inline-image-macro">ローカルストレージ環境</block>
  <block id="a133f287346d6f2a718a5eeeb0a933c7" category="paragraph"><block ref="a133f287346d6f2a718a5eeeb0a933c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="da3d91475edca191add81c3ca0df1c8e" category="section-title">ローカルストレージコンポーネントの特性</block>
  <block id="981b402c31568527cc45dfcc27c62da9" category="paragraph">ONTAP Select 環境で使用するローカルストレージコンポーネントに適用されるいくつかの概念があります。ONTAP Select の導入準備の前に、これらの概念を理解しておく必要があります。これらの概念は、 RAID グループと LUN 、ストレージプール、および仮想ディスクのカテゴリ別に分類されています。</block>
  <block id="879d473adc95dbb8750ff636428c1751" category="section-title">物理ドライブを RAID グループおよび LUN にグループ化する</block>
  <block id="39058c3e4743c219909f9ca65fb5dd91" category="paragraph">1 つ以上の物理ディスクをホストサーバに対してローカルに接続し、 ONTAP Select で使用できます。物理ディスクは RAID グループに割り当てられます。 RAID グループは、ハイパーバイザーホストのオペレーティングシステムに 1 つ以上の LUN として提供されます。各 LUN は、ハイパーバイザーホストのオペレーティングシステムに物理ハードドライブとして提供されます。</block>
  <block id="959d68708ca330f11f024f83faec7792" category="paragraph">ONTAP Select ホストを設定する場合は、次の点に注意してください。</block>
  <block id="1f51ce4f834f5b5d430f640aad8f24b1" category="list-text">管理対象のすべてのストレージに、単一の RAID コントローラからアクセスできる必要があります</block>
  <block id="78fef6cd908e2af717820f9c88d600d0" category="list-text">ベンダーによっては、 RAID グループあたりの最大数のドライブが各 RAID コントローラでサポートされます</block>
  <block id="e498f3467d84aa6a2d25b42d00594b87" category="section-title">1 つ以上の RAID グループ</block>
  <block id="880e311169710b0f7a0d21124214e4e1" category="inline-link-macro">ベストプラクティスのまとめ</block>
  <block id="e679ab466ea388b261915ec7d41d1842" category="paragraph">各 ONTAP Select ホストには単一の RAID コントローラが必要です。ONTAP Select 用に単一の RAID グループを作成する必要があります。ただし、状況によっては、複数の RAID グループの作成を検討しなければならないことがあります。を参照してください <block ref="ee041c0d148ca16122b302aca74acccb" category="inline-link-macro-rx"></block>。</block>
  <block id="33a232126f8e91171f50e9599c17baef" category="section-title">ストレージプールに関する考慮事項</block>
  <block id="d07c5ca5a48bf9fb15b8effa1ad92c5d" category="paragraph">ONTAP Select の導入準備の一環として、ストレージプールに関連するいくつかの事項を考慮する必要があります。</block>
  <block id="25514f98b63f852401d878691df02e6e" category="admonition">VMware 環境では、ストレージプールは VMware データストアと同義です。</block>
  <block id="eef437d1c386d94ec1bdb37081e1c295" category="section-title">ストレージプールと LUN</block>
  <block id="1e1eb869d97da041ffe7813c1afe6ce4" category="paragraph">各 LUN はハイパーバイザーホスト上のローカルディスクとみなされ、 1 つのストレージプールに属することができます。各ストレージプールは、ハイパーバイザーホスト OS が使用できるファイルシステムでフォーマットされます。</block>
  <block id="5dd3ada732fa7bed7a7ffc7afdb18a02" category="paragraph">ONTAP Select の導入の一環として、ストレージプールが正しく作成されていることを確認する必要があります。ハイパーバイザー管理ツールを使用してストレージプールを作成できます。たとえば、 VMware の vSphere Client を使用してストレージプールを作成できます。ストレージプールは、 ONTAP Select Deploy 管理ユーティリティに渡されます。</block>
  <block id="25acebe2305708e00f27ab5f6b41fd30" category="section-title">仮想ディスクの管理</block>
  <block id="cb6ea5f5d79822cf3dff8ae7bbd3eb02" category="paragraph">ONTAP Select の導入準備の一環として、仮想ディスクに関連するいくつかの事項を考慮する必要があります。</block>
  <block id="c7d23c68bb5ab904f2fbf26f5edef227" category="section-title">仮想ディスクとファイルシステム</block>
  <block id="a48affb254f645fde1d4806fc1a74b0b" category="paragraph">ONTAP Select 仮想マシンには、複数の仮想ディスクドライブが割り当てられます。各仮想ディスクは、実際にはストレージプールに格納されるファイルであり、ハイパーバイザーによって管理されます。ONTAP Select で使用されるディスクには、主にシステムディスクとデータディスクといういくつかの種類があります。</block>
  <block id="83b98a7ec4594beadcd5144dec63c993" category="paragraph">仮想ディスクについては、次の点にも注意してください。</block>
  <block id="3320030166d99ffe62066822c71fd4ed" category="list-text">仮想ディスクを作成する前に、ストレージプールが使用可能である必要があります。</block>
  <block id="f8c312c3fe7e404336278345432ee76f" category="list-text">仮想マシンを作成する前に仮想ディスクを作成することはできません。</block>
  <block id="bd9a70e47641a8e5ccb3babf2deea31d" category="list-text">すべての仮想ディスクを作成するには、 ONTAP Select Deploy 管理ユーティリティを使用する必要があります（管理者は Deploy ユーティリティ以外で仮想ディスクを作成することはできません）。</block>
  <block id="71da2a15b8894c06de3e83ac27f2f28f" category="section-title">仮想ディスクを設定します</block>
  <block id="818993d8793da67956a574079452b07e" category="paragraph">仮想ディスクは ONTAP Select によって管理されます。Deploy 管理ユーティリティを使用してクラスタを作成すると、この仮想サーバが自動的に作成されます。</block>
  <block id="e2c4281aac63fc3ef35ef53d24db73bf" category="section-title">外付けストレージ環境の図</block>
  <block id="6076b19bf3a047b5341cd7a1b16dcf71" category="paragraph">ONTAP Select vNAS 解決策 を使用すると、ハイパーバイザーホストの外部にあるストレージ上のデータストアを ONTAP Select で使用できます。データストアには、 VMware vSAN を使用してネットワーク経由でアクセスするか、外付けストレージアレイから直接アクセスできます。</block>
  <block id="6cd56c6880beab91afa7c14ae8a84264" category="paragraph">ハイパーバイザーホストの外部にある、次のタイプの VMware ESXi ネットワークデータストアを使用するように ONTAP Select を設定できます。</block>
  <block id="40730e26d9470781c8c91815a9dc4870" category="list-text">vSAN （仮想 SAN ）</block>
  <block id="18263a30df8afc60a733e59c60676ac0" category="list-text">VMFS</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="list-text">NFS</block>
  <block id="3c1510da2d64cf7df6071566aceeb090" category="section-title">vSAN データストア</block>
  <block id="9e8fdb68a5dabe3a1295c021c7d60386" category="paragraph">各 ESXi ホストでは、ローカルの VMFS データストアを 1 つ以上使用できます。通常、これらのデータストアにはローカルホストのみがアクセスできます。ただし、 VMware vSAN を使用すると、 ESXi クラスタ内の各ホストがクラスタ内のすべてのデータストアをローカルのデータストアと同じように共有できます。次の図は、 ESXi クラスタ内のホスト間で共有されるデータストアのプールを vSAN で作成する方法を示しています。</block>
  <block id="a08a5e33401584323d5d87a01248b552" category="inline-image-macro">ESXi クラスタ</block>
  <block id="22dbecbf8e1789ffd17f1bd3a905e4c5" category="paragraph"><block ref="22dbecbf8e1789ffd17f1bd3a905e4c5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d34c1b0cd5c2bc1244fecfb79c10b393" category="section-title">外付けストレージアレイ上の VMFS データストア</block>
  <block id="3542b318d485891bb84a5f2edae990de" category="paragraph">外付けストレージアレイ上の VMFS データストアを作成できます。このストレージにアクセスする場合は、いくつかの異なるネットワークプロトコルを使用できます。次の図は、 iSCSI プロトコルを使用してアクセスする、外付けストレージアレイ上の VMFS データストアを示しています。</block>
  <block id="b27de556d2ccfb5d529c433d344e8e7e" category="admonition">ONTAP Select は、『 VMware ストレージ /SAN 互換性ガイド』に記載されている、 iSCSI 、ファイバチャネル、および Fibre Channel over Ethernet を含むすべての外付けストレージアレイをサポートします。</block>
  <block id="00c6f9eb6f82e737860e92418539ef4d" category="inline-image-macro">ESXi ハイパーバイザーホスト</block>
  <block id="7f0994541eb42336f6684e715bf7231c" category="paragraph"><block ref="7f0994541eb42336f6684e715bf7231c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f998ba008c25428da9ba76845cca9b6" category="section-title">外付けストレージアレイ上の NFS データストア</block>
  <block id="244a4c721d696f736c11e303f031a4c4" category="paragraph">外付けストレージアレイ上の NFS データストアを作成できます。このストレージにアクセスするには、 NFS ネットワークプロトコルを使用します。次の図は、 NFS サーバアプライアンスを使用してアクセスする、外付けストレージ上の NFS データストアを示しています。</block>
  <block id="788f9ec2097ce0c842f4f0cf6b9d4460" category="paragraph"><block ref="788f9ec2097ce0c842f4f0cf6b9d4460" category="inline-image-macro-rx" type="image"></block></block>
  <block id="91aa5b39bd8d304000ad6cf707ff5199" category="summary">各 ONTAP Select 2 ノードクラスタはメディエーターサービスによって監視されます。このサービスは、ノードで共有する HA 機能の管理を支援します。</block>
  <block id="0b253a63a4195e231d9a02c6cc09633a" category="doc">Deploy メディエーターサービスの管理</block>
  <block id="abc345ebc97bb8d21225b503e90ecee3" category="section-title">メディエーターサービスのステータスを表示しています</block>
  <block id="ec375faaeed9700625fb11b50ed43dfb" category="paragraph">ONTAP Select Deploy ユーティリティに対して定義された各 2 ノードクラスタについて、メディエーターサービスのステータスを表示できます。</block>
  <block id="a189b1798d5dd355b7cd9b133818f948" category="paragraph">現在のステータス、 2 つの ONTAP Select ノード、 HA 制御情報が格納されている iSCSI ターゲットなど、各メディエーターの設定を表示できます。詳細な情報を表示するには、ページ上のオブジェクトにカーソルを合わせます。</block>
  <block id="f87388cf978697c3ac7481dbc4873ff2" category="list-text">ページ上部の * 管理 * タブをクリックし、 * メディエーター * をクリックします。</block>
  <block id="6044814c7a587821319834b99a883a82" category="list-text">必要に応じて、 * Filter * をクリックし、メディエーターサービスによって監視される 2 ノードクラスタの表示をカスタマイズします。</block>
  <block id="24b992325c06752b2dc36abc585c2723" category="summary">Deploy 管理シェルには、 SSH を使用してアクセスできます。サインインすると、さまざまな管理手順を実行できます。</block>
  <block id="96ca5f66c35b9a0452c337d571264ddc" category="paragraph">通常、 CLI を使用して実行できる手順は、 3 つのカテゴリのいずれかに分類されます。</block>
  <block id="0038633217e58555272875ef0f4be80b" category="list-text">ONTAP Select クラスタを導入する</block>
  <block id="b2cc2142a4721dafb1a795f08f331d46" category="list-text">シングルノードクラスタまたはマルチノードクラスタを導入できます。</block>
  <block id="f0b655e3177f05e1818680329f42e14d" category="list-text">既存の ONTAP Select クラスタを含む手順 を実行します</block>
  <block id="dbb69dfed0d5d67f6ab5857dd72da676" category="list-text">管理手順は、 _Security_And _Clusters_といった さまざまなカテゴリに分類されています。</block>
  <block id="471f5c9978ed52845e14e134805c65ca" category="list-text">Deploy ユーティリティで手順 を実行します</block>
  <block id="e597139c74e6edb603d769f2441e9aec" category="list-text">Deploy に固有の手順がいくつかあります（管理者のパスワードの変更など）。</block>
  <block id="44c3d61a6cd78f834dce18458a846592" category="summary">ONTAP Select に関するよくある質問とその回答をご確認ください。</block>
  <block id="af2a4d2810d86aa0169c117f82682f9a" category="doc">よくある質問</block>
  <block id="0db377921f4ce762c62526131097968f" category="section-title">全般</block>
  <block id="c6b782c04b8d8291349e195a70bb1261" category="paragraph">ONTAP Deploy は、 ONTAP Select クラスタの作成に使用するユーティリティです。現時点では、本番環境クラスタの作成に使用できるのは ONTAP Deploy のみです。また、 ONTAP Deploy を使用して評価用の Select クラスタを作成し、クライアントが本番環境の実際の手順をテストして文書化できるようにすることもできます。また、 ONTAP Deploy は、評価時に消費されるスペースに十分な容量を持つ適切な大容量階層ライセンスを使用して、評価用クラスタを本番環境のクラスタに変換することもできます。</block>
  <block id="2e5fd46c08f1e360e7244898f93658b8" category="paragraph">ONTAP Deploy は、 ONTAP Select のイメージが格納された仮想マシンです。クラスタのインストール時に、 ONTAP Deploy はいくつかのチェックを実施して、 ONTAP Select の最小要件が満たされていることを確認します。ONTAP Deploy VM と Select クラスタは別々にアップグレードできます。</block>
  <block id="4bb58627c56be70a8962dc013fdfb0ff" category="paragraph">FAS の ONTAP と同様に、 Perfstat ユーティリティを使用してパフォーマンスデータを収集する必要があります。コマンドの例を次に示します。</block>
  <block id="2becc48369e0dbaa24ee48f84b0058db" category="section-title">ONTAP Deploy の Swagger API ページにアクセスする方法を教えてください。</block>
  <block id="1b3537665f74d77bd14a7f35ea69a8f6" category="inline-link">Field Portal</block>
  <block id="fe31e162adece14e947931ec395b0f76" category="admonition">API v3 リリースは、以前のバージョンの API と後方互換性がありません。新しい API ガイドはにあります<block ref="8abbc2033805a13177ac70a4f745bc5f" category="inline-link-rx"></block>。</block>
  <block id="8574c34cb89a7035153d7bb68d64bc11" category="paragraph">いいえONTAP Select VM は、 VMware ベースの Snapshot から除外される独立した永続的ドライブを使用します。ONTAP Select のバックアップ方法としてサポートされているのは、 SnapMirror 、 SnapVault 、または SVM DR （該当する場合）のみです。</block>
  <block id="e94690a6bd2e3a6afb833fa13d4537cf" category="inline-link-macro">ng-ses-ontap-select@netapp.com</block>
  <block id="0376d45a7aa4df2f496c766df2ba6138" category="paragraph">連絡先 <block ref="6ee1a7abfb73acadae70dd28dd795163" category="inline-link-macro-rx"></block>。</block>
  <block id="a60184972c204a21558d6c041bcb25c7" category="paragraph">はい。ONTAP Deploy ユーティリティは、 ONTAP Select クラスタとは別にアップグレードできます。同様に、 Select クラスタも ONTAP Deploy ユーティリティとは別にアップグレードできます。</block>
  <block id="949d67eea88cdebc2a99963b2b02178d" category="paragraph">はい。 Select クラスタのアップグレード手順 は FAS クラスタのアップグレードと同じですが、 ONTAP Select アップグレードバイナリは FAS のアップグレードバイナリの ONTAP とは別のダウンロードです。</block>
  <block id="aa51945d1870dd55304c887631cab7dc" category="paragraph">はい、 ONTAP Select クラスタのリバート手順 は、 FAS クラスタのリバート手順 とほぼ同じです。ただし、いくつかの違いがあります。</block>
  <block id="d7a59cd36e2f7dfae40f95771a024421" category="list-text">リバートできるのは、アップグレードされた ONTAP Select インスタンスのみで、元のインストールバージョンのみです。ONTAP Select が以前のリリースをサポートしていても、新しいインストールは古いコードリリースに戻すことはできません。</block>
  <block id="85e233caf564642a5e155bc4aac7d67a" category="list-text">ソフトウェア RAID を使用する ONTAP Select （ KVM ）および ONTAP Select （ ESX ）の場合、ソフトウェア RAID をサポートしていない以前のバージョンにリバートすることはできません。さらに、 ESX への ONTAP Select 9.5 以降の新規インストールでは、 VMXNET3 ネットワークドライバおよび可能な場合は vNMVE ドライバが使用されます。これらの新規インストールを以前のバージョンの ONTAP Select にリバートすることはできません。</block>
  <block id="52ecd883835a7af5f8d256d58d2abe6e" category="list-text">ONTAP Select VM も（ Premium XL ライセンスを使用して）大規模なインスタンスにアップグレードされた場合、以前のバージョンでは大規模なインスタンス機能は使用できないため、 9.6 より前のバージョンにリバートすることはできません。</block>
  <block id="b127099c71415d532da3a26ed73eb041" category="paragraph">はい。</block>
  <block id="cd499bce08bf4664c44733ed843e8cf5" category="paragraph">ONTAP Deploy は、 GUI 、 CLI 、または REST API から実行できるクラスタ更新処理を使用して、次の ONTAP Select クラスタプロパティへの変更を認識します。</block>
  <block id="bbb35a1e775c0757714d8b256538794e" category="list-text">ネットワークの設定（ IP アドレス、 DNS 、 NTP 、ネットマスク、ゲートウェイ）</block>
  <block id="568db67896a68d00d01c4318b9923a4f" category="list-text">ONTAP Select クラスタ、ノード名、およびバージョン</block>
  <block id="2512f4a6ef0d48270b57d0cdb82d209d" category="paragraph">次の ONTAP Select VM の変更も認識されます。</block>
  <block id="b9da6bd39757894ad2e3c186e8c36ea3" category="list-text">ONTAP Select VM の名前と状態の変更（オンラインやオフラインなど）</block>
  <block id="8aa44dba68f081d2ac92bd3c8bd38375" category="list-text">ホストのネットワーク名とストレージプール名が変更された</block>
  <block id="490926f34ba2e91605a13dd0ab04babc" category="admonition">ONTAP Deploy VM の IP アドレスの変更はサポートされていません。</block>
  <block id="a4d1732d8414a16110ff0dde392fb2be" category="paragraph">ONTAP Deploy 2.6 にアップグレードすると、導入済みだが元の構成からは変更されていない ONTAP Select クラスタに対して、これらの変更をサポートできるようになります。つまり、上記の ONTAP Select クラスタプロパティが System Manager または vCenter を使用して変更された場合、 ONTAP Deploy 2.6 にアップグレードしても、これらの不整合は修正されません。ONTAP Deploy によって一意のメタデータが各 ONTAP Select VM に追加されるようにするには、 ONTAP Select プロパティの変更を最初にロールバックする必要があります。</block>
  <block id="0d8dc860287bf5742a796d9836676b4e" category="paragraph">はい。ONTAP Deploy は KVM または ESX にインストールできます。両方のインストール環境で、どちらのハイパーバイザーにも ONTAP Select クラスタを作成できます。</block>
  <block id="b4d2427e0e7f2bd7b89ea60f5ad063d9" category="paragraph">ESX ホストのライセンスが適切な場合は、 ESX ホストを vCenter Server で管理する必要はありません。ただし、ホストが vCenter サーバで管理されている場合は、その vCenter Server を使用するように ONTAP Deploy を設定する必要があります。つまり、 ESX ホストが vCenter Server によってアクティブに管理されている場合、 ONTAP Deploy で ESX ホストをスタンドアロンとして設定することはできません。ONTAP Deploy VM は、 vMotion または VMware の HA イベントが原因で、 vCenter に依存して ESXi ホスト間のすべての ONTAP Select VM 移行を追跡します。</block>
  <block id="e9004de7dd880f639c21be0197d03eb6" category="paragraph">AFF / FAS で使用できるすべての RAID 方式を ONTAP Select でも使用できます。これには、 RAID 4 、 RAID DP 、および RAID-TEC が含まれます。SSD の最小数は、選択した RAID 構成のタイプによって異なります。ベストプラクティスとして、少なくとも 1 つのスペアが必要です。スペアディスクとパリティディスクは容量ライセンスには含まれません。</block>
  <block id="22e0f3c76aa3f16b504047703ee442db" category="paragraph">ソフトウェア RAID は、 ONTAP ソフトウェアスタックのレイヤです。ソフトウェア RAID では、物理ドライブが ONTAP Select VM 内でパーティショニングされ、 raw ディスクとして使用できるため、管理性が向上します。一方、ハードウェア RAID では、通常は 1 つの大きな LUN を使用でき、その LUN を ONTAP Select で使用して VMDISK を作成できます。ソフトウェア RAID はオプションとして使用でき、ハードウェア RAID の代わりに使用できます。</block>
  <block id="6ec2a86943d66b46f70e5d87ac537fd4" category="paragraph">ソフトウェア RAID の要件には、次のものがあります。</block>
  <block id="daa9446dd725dfc008580c725c26e90b" category="list-text">サポートされる物理ディスクのサイズ： 200GB~32TB</block>
  <block id="94615c9042eb14ee228868c999ca7b3b" category="list-text">DAS 構成でのみサポートされます</block>
  <block id="aba50a4db4f2d357e877595c641130a5" category="list-text">Premium または Premium XL ONTAP Select ライセンスが必要です</block>
  <block id="6bc864440af96dd0ce3cfac81f642cc2" category="list-text">ハードウェア RAID コントローラがないか無効になっているか、 SAS HBA モードで動作している必要があります</block>
  <block id="f249bf8d9e4b8c7b417b66fb9c6c3c90" category="list-text">システムディスクのコアダンプ、ブート / NVRAM 、メディエーターなどに、専用の LUN に基づく LVM ストレージプールまたはデータストアを使用する必要があります。</block>
  <block id="98188cc87f947a659e62ebdc6dab134c" category="paragraph">KVM にインストールするときは、単一のボンドと単一のブリッジを使用する必要があります。物理ポートが 2 つまたは 4 つあるホストでは、すべてのポートを同じボンドに含める必要があります。</block>
  <block id="56bf9f6724c0961bfe3efdd9a5936afd" category="paragraph">ハードウェア RAID コントローラを使用する場合、 ONTAP Select は、基盤となるサーバの問題をほとんど認識しません。ベストプラクティスに従ってサーバを設定する場合は、ある程度の冗長性が必要です。ドライブ障害に備えて RAID 5/6 を使用することを推奨します。ソフトウェア RAID 構成の場合、 ONTAP はディスク障害に関するアラートを発行し、スペアドライブがある場合は、ドライブのリビルドを開始します。</block>
  <block id="908a6644c79f2bc9e82d8777e36f7cd0" category="inline-link-macro">ネットワーク構成のベストプラクティス</block>
  <block id="a0543dd1ad93ec7f733c7d2af9d3c7fd" category="paragraph">ネットワークレイヤでの単一点障害を回避するために、 2 つ以上の物理 NIC を使用する必要があります。ネットアップでは、データポートグループ、管理ポートグループには NIC チーミングとボンディングを設定し、チームまたはボンドに 2 つ以上のアップリンクを使用することを推奨します。このような構成により、アップリンクに障害が発生した場合に、仮想スイッチは、障害が発生したアップリンクから NIC チーム内の正常なアップリンクにトラフィックを移動します。推奨されるネットワーク構成の詳細については、を参照してください <block ref="839f4923aa784429d01d1b8b212d4b5c" category="inline-link-macro-rx"></block>。</block>
  <block id="a2f6b74c2700adf79d2359dceccee7cf" category="paragraph">2 ノードクラスタまたは 4 ノードクラスタの場合、それ以外のエラーはすべて ONTAP HA で処理されます。ハイパーバイザーサーバを交換する必要があり、 ONTAP Select クラスタを新しいサーバで構成する必要がある場合は、ネットアップテクニカルサポートにお問い合わせください。</block>
  <block id="5328a869dd2ed37e5be32f4f227e54d6" category="paragraph">VSAN を含むすべての構成で、 ONTAP Select ノードあたり 400TB のストレージがサポートされます。</block>
  <block id="4906d0b814c398d1e0b3d033c584f66b" category="paragraph">サポートされる最大サイズを超えるデータストアにインストールする場合は、製品のセットアップ時に容量の上限を使用する必要があります。</block>
  <block id="d48125b82eab88f8f97d3cbd934f9020" category="paragraph">ONTAP Deploy には、 ONTAP Select ノードでの容量拡張処理をサポートするストレージ追加ワークフローが含まれています。管理下でストレージを拡張するには、同じデータストアのスペースを使用するか（使用可能なスペースが残っている場合）、別のデータストアのスペースを追加します。ローカルデータストアとリモートデータストアを同じアグリゲートに混在させることはできません。</block>
  <block id="867e236daae335162d347f2d0854e90c" category="paragraph">ストレージの追加はソフトウェア RAID もサポートします。ただし、ソフトウェア RAID の場合は、 ONTAP Select VM に物理ドライブを追加する必要があります。この場合のストレージ追加は、 FAS または AFF アレイの管理と似ています。ソフトウェア RAID を使用して ONTAP Select ノードにストレージを追加する場合は、 RAID グループのサイズとドライブサイズを考慮する必要があります。</block>
  <block id="e0ef569d3b92f974e287c6487419fc33" category="paragraph">ONTAP Deploy および ONTAP Select for ESX では、 VSAN または外付けアレイタイプのデータストアをストレージプールに使用する ONTAP Select シングルノードクラスタの構成をサポートしています。</block>
  <block id="b2e82bb6ebf7a285db78b37ec5279faf" category="paragraph">ONTAP Deploy および ONTAP Select for KVM では、外部アレイで共有論理ストレージプールタイプを使用する ONTAP Select シングルノードクラスタの設定がサポートされます。ストレージプールのベースには iSCSI と FC / FCoE があります。それ以外のタイプのストレージプールはサポートされません。</block>
  <block id="b2cebb33547ec7cd6d45325915182e33" category="paragraph">共有ストレージ上のマルチノード HA クラスタがサポートされます。</block>
  <block id="1c4bcbdad17c3e6c5160a856e917c777" category="paragraph">外付けストレージ（マルチノード VNAS ）を使用するマルチノードクラスタは、 ESX と KVM の両方でサポートされます。同じクラスタ内にハイパーバイザーを混在させることはサポートされていません。共有ストレージ上の HA アーキテクチャは、 HA ペア内の各ノードにパートナーデータのミラーコピーがあることを意味します。ただし、マルチノードクラスタを使用すると、 ONTAP HA または KVM Live Motion を使用するシングルノードクラスタに比べて、のノンストップオペレーションのメリットが得られます。</block>
  <block id="451c47de1c3f6334f9423c8da1bbfe96" category="paragraph">ONTAP Deploy は同じホスト上の複数の ONTAP Select VM のサポートを追加しますが、クラスタの作成時にこれらのインスタンスを同じ ONTAP Select クラスタに含めることはできません。ESX 環境については、 VMware HA が同じ ONTAP Select クラスタから 1 つの ESX ホストに複数の ONTAP Select VM を移行しないように、 VM の非アフィニティルールを作成することを推奨します。さらに、 ONTAP Deploy は、管理（ユーザが開始） vMotion または ONTAP Select VM のライブマイグレーションが検出された場合、 2 つの ONTAP Select ノードが同じ物理ホストで終了するなどのネットアップのベストプラクティスに違反したとみなされます。 ONTAP Deploy は、 Deploy の GUI およびログにアラートを送信します。ONTAP Deploy が ONTAP Select VM の場所を認識する唯一の方法は、クラスタ更新処理によってです。これは、 ONTAP Deploy 管理者が手動で実行する必要がある処理です。プロアクティブな監視を可能にする ONTAP Deploy には機能がなく、 Deploy の GUI またはログにのみアラートが表示されます。つまり、このアラートを集中型の監視インフラストラクチャに転送することはできません。</block>
  <block id="e2c4fe906e93615ec189c955c0d4838b" category="paragraph">NSX と V の VXLAN ポートグループがサポートされます。マルチノード HA （ ONTAP MetroCluster SDS を含む）の場合は、 VXLAN のオーバーヘッドに対応するために、内部ネットワーク MTU を（ 9000 ではなく） 7500 ～ 8900 の範囲で設定する必要があります。内部ネットワーク MTU は、クラスタの導入時に ONTAP Deploy で設定できます。</block>
  <block id="68ab9deb89c2074e632b904895a25447" category="paragraph">外部アレイストレージプールで実行される ONTAP Select VM は、 virsh ライブマイグレーションをサポートします。</block>
  <block id="21805aa29c0279006893a37fa10cb7a0" category="paragraph">いいえ。外付けアレイ構成と VSAN 構成のどちらがオールフラッシュであるかに関係なく、すべてのバージョンがサポートされます。</block>
  <block id="b71c323c02a503e916ed60dc691b1996" category="paragraph">Select VM は VSAN データストアのストレージポリシーを継承し、 FTT / FTM の設定に制限はありません。ただし、 FTT / FTM の設定によっては、 ONTAP Select VM のサイズがセットアップ時に設定した容量よりも大幅に大きくなる可能性があることに注意してください。ONTAP Select は、セットアップ時に作成される eager-zeroed-thick VMDK を使用します。同じ共有データストアを使用する他の VM への影響を回避するためには、 Select の容量と FTT / FTM の設定から導き出された実際の Select VM のサイズに対応できる十分な空き容量をデータストアに確保することが重要です。</block>
  <block id="b3a3c95a19412336bd440086e55f0895" category="paragraph">vNAS 構成では、同じホスト上の複数の ONTAP Select ノードを vNAS 構成でのみ設定できます。ただし、それらのノードが同じ ONTAP Select クラスタに含まれていない必要があります。この方法は DAS 構成ではサポートされていません。同じ物理ホスト上の複数の ONTAP Select ノードが RAID コントローラへのアクセスで競合するためです。</block>
  <block id="203a7e4e4588684221382cfb5312ef84" category="paragraph">1 つの 10GE ポートを使用して外部ネットワークに接続できます。ただし、この方法は、制約のあるスモールフォームファクタ環境でのみ使用することを推奨します。これは ESX と KVM の両方でサポートされます。</block>
  <block id="41fd632619fae4aba953abf6d07d3df1" category="paragraph">CLVM および Pacemaker （ PC ）コンポーネントは、ライブマイグレーションに参加する各ホストにインストールして実行する必要があります。これは、各ホストで同じボリュームグループにアクセスするために必要です。</block>
  <block id="e10ca1adb349a5228f7573a244805247" category="section-title">vCenter</block>
  <block id="f267847c9d10a3da2620f3fd7257f49b" category="paragraph">ONTAP Deploy は、 VMware VIX API を使用して vCenter や ESX ホストと通信します。VMware のドキュメントでは、 vCenter Server または ESX ホストへの初期接続には、 TCP ポート 443 上の HTTPS/SOAP を使用します。これは、 TLS / SSL を介したセキュア HTTP のポートです。次に、 ESX ホストへの接続が TCP ポート 902 のソケットで開かれます。この接続を経由するデータは SSL で暗号化されます。また、 ONTAP Deploy は ping コマンドを発行して、指定した IP アドレスで応答する ESX ホストがあることを確認します。</block>
  <block id="750c22382ff5b5ed1b5f9c5f621bfcdd" category="paragraph">ONTAP Deploy は、次のように ONTAP Select ノードおよびクラスタ管理 IP アドレスと通信できる必要もあります。</block>
  <block id="b85815d04cec053ce6deb8021f2df1b8" category="list-text">Ping</block>
  <block id="1c3f33b65f0aa5f84082196fb6960db5" category="list-text">SSH （ポート 22 ）</block>
  <block id="aa207eb499c333d25a27253addda9d90" category="list-text">SSL （ポート 443 ）</block>
  <block id="829552de5af4841d069c0c97e16fdf26" category="paragraph">2 ノードクラスタの場合、 ONTAP Deploy はクラスタのメールボックスをホストします。各 ONTAP Select ノードは、 iSCSI （ポート 3260 ）を使用して ONTAP Deploy にアクセスできる必要があります。</block>
  <block id="9c4271cae508c2547495fd0674b419a9" category="paragraph">マルチノードクラスタの場合、内部ネットワークを完全に開く必要があります（ NAT やファイアウォールは使用しない）。</block>
  <block id="85b8b2674420975b303ca7af2cceb0b1" category="inline-link-macro">VMware vCenter サーバ</block>
  <block id="a7e7272f62fd6ddeec2a8fce21757dbf" category="paragraph">必要な vCenter 権限の一覧については、以下を参照してください。 <block ref="b5bc3984b5dc3be4e25e9aa47658f334" category="inline-link-macro-rx"></block>。</block>
  <block id="78e81167cc2cdb113daa03a4b79cad3c" category="paragraph">vCenter Server の ONTAP Deploy 機能を ONTAP Deploy プラグインと統合することができます。このプラグインは、 ONTAP Deploy に代わるものではありません。代わりに、 ONTAP Deploy はバックグラウンドで動作します。 vCenter 管理者は、 ONTAP Deploy のほとんどの機能をプラグインで呼び出すことができます。一部の ONTAP Deploy 処理は CLI でのみ実行できます。</block>
  <block id="dd77a72e33f72c895ec7720495c250e6" category="paragraph">特定の vCenter サーバにプラグインを登録できる ONTAP Deploy VM は 1 台だけです。</block>
  <block id="9ec851379feeef4ed1ab5a6dc43d9043" category="paragraph">vCenter の管理者および IT ジェネラリストは、 vCenter HTML5 GUI を使用して ONTAP Select クラスタを作成できます。Flash vCenter GUI はサポートされていません。</block>
  <block id="ca918a509129a10753aef8ddaf9d4298" category="paragraph">また、 ONTAP Deploy が vCenter RBAC を認証に使用できるようにします。ONTAP Deploy プラグインを使用するための vCenter 権限が付与されたユーザには、そのユーザの vCenter アカウントが ONTAP Deploy 管理ユーザにマッピングされている。ONTAP Deploy はすべての処理のユーザ ID をログに記録し、次のファイルを基本的な監査ログとして使用できます。</block>
  <block id="8aeec027b27415f6c0c3d1335de4508f" category="section-title">HA およびクラスタ</block>
  <block id="e14ff882f491987861548736abc771c5" category="paragraph">ONTAP Deploy VM が主にクラスタの作成に使用される 4 ノード、 6 ノード、および 8 ノードクラスタとは異なり、 2 ノードクラスタは、 HA クォーラム用に ONTAP Deploy VM を継続的に利用します。ONTAP Deploy VM が使用できない場合、フェイルオーバーサービスは無効になります。</block>
  <block id="a6bd8e6869506e1e1f9d1c161d200e90" category="paragraph">MetroCluster SDS は、ネットアップの MetroCluster ビジネス継続性ソリューションのカテゴリに分類される、低コストの同期レプリケーションオプションです。FAS ハイブリッドフラッシュ、 AFF 、クラウド向け NetApp Private Storage 、および NetApp FlexArray ® テクノロジで利用できる NetApp MetroCluster とは異なり、 ONTAP Select でのみ利用できます。</block>
  <block id="f782a001664af23a9a479ac7f8af14db" category="paragraph">MetroCluster SDS は、同期レプリケーション解決策 を提供し、ネットアップの MetroCluster ソリューションに該当します。ただし、主な違いは、サポートされる距離（約 10km と 300km ）と接続タイプ（ FC と IP ではなく IP ネットワークのみがサポート）です。</block>
  <block id="e390fc325e0e3f48a60a9e0c68c6a1b2" category="paragraph">2 ノードクラスタとは、同じデータセンター内にある 2 つのノードが相互に 300m 以内の範囲にあるクラスタです。一般に、両方のノードには、スイッチ間リンクで接続された同じネットワークスイッチまたは一連のネットワークスイッチへのアップリンクがあります。</block>
  <block id="e3000fa150dd97eaa370fd81237fc013" category="paragraph">2 ノード MetroCluster SDS は、ノードが物理的に分離され（異なる部屋、異なる建物、または異なるデータセンター）、各ノードのアップリンク接続が別々のネットワークスイッチに接続されているクラスタとして定義されます。MetroCluster SDS には専用のハードウェアは必要ありませんが、環境ではレイテンシ（ 5 ミリ秒 RTT と 5 ミリ秒ジッター）と物理距離（ 10km ）の観点から一連の最小要件をサポートする必要があります。</block>
  <block id="b26c3202b91162b023a9725e9e6607b8" category="paragraph">MetroCluster SDS はプレミアム機能であり、 Premium または Premium XL ライセンスが必要です。Premium ライセンスは、中小規模の VM のほか、 HDD および SSD メディアの作成をサポートします。これらの構成はすべてサポートされます。</block>
  <block id="80fc0d552c981807521ad39072587462" category="paragraph">ONTAP MetroCluster SDS は、あらゆるタイプのストレージ構成（ DAS と vNAS ）をサポートします。</block>
  <block id="35d671c0d3659afe8e4a9dc9e16bf135" category="paragraph">はい。ソフトウェア RAID は、 KVM と ESX の両方の SSD メディアでサポートされています。</block>
  <block id="07c54da58acb4aa2357d4d3f120a2439" category="paragraph">はい。 Premium ライセンスが必要ですが、このライセンスでは、中小規模の VM 、 SSD と回転式メディアの両方がサポートされます。</block>
  <block id="1490bd5ed0a28c21500eff09d45ae2c7" category="paragraph">いいえ。メディエーターを持つ 2 ノードクラスタのみを MetroCluster SDS として設定できます。</block>
  <block id="6596d8aee024f01bd6f7082e0f3f3510" category="paragraph">要件は次のとおりです。</block>
  <block id="e650fbdda78f050dd63013871de9f005" category="list-text">3 つのデータセンター（ ONTAP Deploy メディエーター用に 1 つ、ノードごとに 1 つ）。</block>
  <block id="d197104ead309ddefff131940caf98cb" category="list-text">5 ミリ秒 RTT と 5 ミリ秒ジッタ。 ONTAP Select ノード間の最大合計 10 ミリ秒と最大物理距離 10 ミリ秒です。</block>
  <block id="af68dbff9b15dc3d9d049bbfe171ec66" category="list-text">ONTAP Deploy メディエーターと各 ONTAP Select ノードの間で 125 ミリ秒 RTT 、最小帯域幅 5Mbps</block>
  <block id="662b3058ddf7c74b83c16f281c0f67ff" category="list-text">Premium または Premium XL ライセンス。</block>
  <block id="78a6c1f8409fb1b96accc51e1971fbdb" category="paragraph">VSAN データストアまたは外付けアレイデータストア（ vNAS 環境）上で実行される ONTAP Select VM は、 vMotion 、 DRS 、 VMware HA 機能をサポートします。</block>
  <block id="34f8a8d7941722d10288c5eb02f7e59a" category="paragraph">Storage vMotion は、シングルノードおよびマルチノードの ONTAP Select クラスタと ONTAP Deploy VM を含むすべての構成でサポートされます。Storage vMotion を使用して、 ONTAP Select または ONTAP Deploy VM を異なる VMFS バージョン（ VMFS 5 から VMFS 6 など）間で移行できますが、このユースケースに限定されません。Storage vMotion 処理を開始する前に VM をシャットダウンすることを推奨します。ONTAP Deploy は、 Storage vMotion 処理の完了後に次の処理を問題 する必要があります。</block>
  <block id="be981f18ef1a7672e602f82794cff80f" category="paragraph">異なるタイプのデータストア間での Storage vMotion 処理はサポートされていないことに注意してください。つまり、 NFS タイプのデータストアと VMFS データストア間の Storage vMotion 処理はサポートされません。一般に、外付けデータストアと DAS データストア間の Storage vMotion 処理はサポートされていません。</block>
  <block id="afa6b88639bcd7ceb6bf277254bb384e" category="paragraph">これらの構成はサポートされていません。ONTAP Select では、クライアントトラフィックを伝送する物理ネットワークアップリンクのステータスは確認できません。したがって、 ONTAP Select は、 HA ハートビートを使用して、 VM がクライアントとそのピアに対して同時にアクセス可能であることを確認します。物理的な接続が失われると、 HA ハートビートを受信できなくなると、もう一方のノードへの自動フェイルオーバーが実行されます。これは望ましい動作です。</block>
  <block id="a8237ab48294323805ebcd87b5ac5e8f" category="paragraph">HA トラフィックを別の物理インフラに分離することで、 Select VM はピアと通信できますが、クライアントとは通信できません。これにより、自動 HA プロセスが無効になるため、手動フェイルオーバーが開始されるまではデータを使用できなくなります。</block>
  <block id="7f8246fbc519739470460f9766bad65c" category="section-title">メディエーターサービス</block>
  <block id="effa34838640cb1230713033bb735834" category="paragraph">2 ノードクラスタでは、 ONTAP Deploy VM で HA クォーラムが継続的に利用されます。2 ノードの HA クォーラムネゴシエーションに参加する ONTAP Deploy VM には、メディエーター VM というラベルが付けられます。</block>
  <block id="dfc55eb09b146b564f0b81c05961c3b9" category="paragraph">はい。2 ノード HA ペアのメディエーターとして機能する ONTAP Deploy は、 500ms RTT の WAN レイテンシをサポートします。最小帯域幅は 5Mbps です。</block>
  <block id="d947b7dcf9daf77f3ac2695571823e80" category="paragraph">メディエータートラフィックは iSCSI で、 ONTAP Select ノードの管理 IP アドレスから始まり、 ONTAP Deploy の IP アドレスで終端します。2 ノードクラスタを使用している場合、 ONTAP Select ノード管理 IP アドレスに IPv6 を使用することはできません。</block>
  <block id="2bf021e57bed6ed775317b8de3e7bf38" category="paragraph">はい。各 ONTAP Deploy VM は、最大 100 個の 2 ノード ONTAP Select クラスタの共通のメディエーターサービスとして機能できます。</block>
  <block id="efe328813ad5b27a594c2d589548edb0" category="paragraph">はい。別の ONTAP Deploy VM を使用してメディエーターサービスをホストすることができます。</block>
  <block id="117d84c5d2c4c5d0965e55b844c0e46d" category="paragraph">ストレッチ HA 導入モデルでは、メディエーターを備えた 2 ノードクラスタのみがサポートされます。</block>
  <block id="27ac4f41a6a95e6d95afb9eb1af5bba3" category="summary">ONTAP Select が実行されている ESXi 仮想マシンのビデオコンソールにアクセスできます。</block>
  <block id="6c6771cb8f8dcb31fae71e17e0652965" category="doc">ONTAP Select ビデオコンソールにアクセスする</block>
  <block id="349f27a15a1aba59be9538487e4a6304" category="paragraph">問題 のトラブルシューティングを行う場合や、ネットアップサポートからの要請があった場合に、仮想マシンのコンソールにアクセスしなければならないことがあります。</block>
  <block id="33df7e8f977ae61500cd225ae6453cd6" category="list-text">vSphere Client にアクセスしてサインインします。</block>
  <block id="fca10b3343f9573370e7b5847480727d" category="list-text">階層内の適切な場所に移動して、 ONTAP Select 仮想マシンを探します。</block>
  <block id="c7355380c1acbf2b9e7bd76a544b208f" category="list-text">仮想マシンを右クリックし、 * コンソールを開く * を選択します。</block>
  <block id="dc70eb9d82aec891b52c1c2a03dfea96" category="summary">まず、 ONTAP Select 環境に適用される一般的なネットワークの概念を理解します。次に、シングルノードクラスタとマルチノードクラスタに対応する特徴とオプションを確認します。</block>
  <block id="3a3527263fe53ccc4b2cf49d117a3591" category="doc">ネットワーク：一般的な概念と特徴</block>
  <block id="5835673e7d17b0c7e15036e16b1efe5f" category="section-title">物理ネットワーク</block>
  <block id="2ded6502ab49fd8b23f16e584e9fea94" category="paragraph">物理ネットワークは、主に基盤となるレイヤ 2 スイッチングインフラを提供することで、 ONTAP Select クラスタ環境をサポートします。物理ネットワークに関連する構成には、ハイパーバイザーホストと、広範囲にスイッチ化されたネットワーク環境の両方が含まれます。</block>
  <block id="45587724cd205239d82e9cabe0fddf65" category="section-title">ホストの NIC オプション</block>
  <block id="15d3abcb81335aa4f79f01f0c2860f6d" category="paragraph">各 ONTAP Select ハイパーバイザーホストは、 2 つまたは 4 つの物理ポートを使用して設定する必要があります。選択する構成は、次に示すいくつかの要因で決まります。</block>
  <block id="cffc6e4379ff16e4bd556e181f62963f" category="list-text">クラスタに ONTAP Select ホストが 1 つ以上含まれているかどうか</block>
  <block id="64aa479474dcf857e3cc515cef1bd4d4" category="list-text">使用されているハイパーバイザーのオペレーティングシステム</block>
  <block id="26de8943bb7d241773afaa5ab507f188" category="list-text">仮想スイッチの設定方法</block>
  <block id="50d34aa9d437a8bababc27847f1d8633" category="list-text">リンクで LACP が使用されるかどうか</block>
  <block id="69483cd0e59a6eccaa09db5864de6d89" category="section-title">物理スイッチの構成</block>
  <block id="d94baf51ed94bea3abe90ef8b72873b5" category="paragraph">物理スイッチの構成で ONTAP Select 環境がサポートされていることを確認する必要があります。物理スイッチは、ハイパーバイザーベースの仮想スイッチと統合されます。選択する構成は、いくつかの要因で決まります。主な考慮事項は次のとおりです。</block>
  <block id="6cdee45a93198ad3aed3bc34e0335a36" category="list-text">内部ネットワークと外部ネットワークの分離を維持するにはどうすればよいですか。</block>
  <block id="c94774eb5c8fcebf5b1b20b53ffb56db" category="list-text">データネットワークと管理ネットワークの分離を維持するかどうか</block>
  <block id="8d00f7e403ea6054f0d42000982d2ea4" category="list-text">レイヤ 2 VLAN はどのように設定されますか。</block>
  <block id="f734404833325c0d63f375a6531cfea6" category="section-title">論理ネットワーク</block>
  <block id="c8ad1d55e9f4934678c8be9fd3e3671b" category="paragraph">ONTAP Select は 2 つの異なる論理ネットワークを使用し、タイプに応じてトラフィックを分離します。具体的には、トラフィックがクラスタ内のホスト間を流れ、クラスタの外部にあるストレージクライアントやその他のマシンに到達します。論理ネットワークをサポートするのは、ハイパーバイザーによって管理される仮想スイッチです。</block>
  <block id="46137cc7a372537899d3344485e40f32" category="section-title">内部ネットワーク</block>
  <block id="720224e99bf494a79cdd199ff79f0b7c" category="paragraph">マルチノードクラスタ環境では、個々の ONTAP Select ノードは独立した「内部」ネットワークを使用して通信します。このネットワークは公開されておらず、 ONTAP Select クラスタ内のノードの外部では使用できません。</block>
  <block id="5770dba516b7979ab799a8934e2634a9" category="admonition">内部ネットワークはマルチノードクラスタにのみ対応します。</block>
  <block id="486be54d877a71c951bbe96c0cde3cba" category="paragraph">内部ネットワークには次のような特徴があります。</block>
  <block id="86fb837bcf7697435a828c1fcee1f2dc" category="list-text">次の ONTAP クラスタ内トラフィックの処理に使用されます。</block>
  <block id="d4d30727b04e930b69872d445ff030b3" category="list-text">High Availability Interconnect （ HA-IC ； HA インターコネクト）</block>
  <block id="3065d51b3a475fc96b52a09aa579c30b" category="list-text">RAID 同期ミラー（ RSM ）</block>
  <block id="1e67e738d258248070a818a58412128a" category="list-text">VLAN に基づく単一のレイヤ 2 ネットワーク</block>
  <block id="3a277819cfae4f2d87feef0aa795ec5e" category="list-text">静的 IP アドレスは ONTAP Select によって割り当てられます。</block>
  <block id="8e0ca202aa963b415cd3e4acbf4423eb" category="list-text">IPv4 のみ</block>
  <block id="fc0b3751b82db582f1498de83d5d16d6" category="list-text">DHCP は使用されません</block>
  <block id="2265870af3b30ee13c0095059f102f54" category="list-text">リンクローカルアドレス</block>
  <block id="71386a0f2af9f2e73df98533ed0a9b70" category="list-text">MTU サイズはデフォルトで 9000 バイトで、 7500~9000 の範囲内で調整できます（両端の値を含む）</block>
  <block id="c6917e8b577d0b240f757b2bdb66611c" category="section-title">外部ネットワーク</block>
  <block id="9226ce9d35f47d9d263c7a6d145d09b6" category="paragraph">外部ネットワークは、 ONTAP Select クラスタのノードと外付けストレージクライアントおよびその他のマシンの間のトラフィックを処理します。外部ネットワークはすべてのクラスタ環境に含まれており、次のような特徴があります。</block>
  <block id="e3f50a296800939ffe587eedbbc90be9" category="list-text">次の ONTAP トラフィックの処理に使用されます。</block>
  <block id="d09efc0736f6e1faf274cdc8e7b213bd" category="list-text">データ（ NFS 、 CIFS 、 iSCSI ）</block>
  <block id="2c4f7ab161b3153be632e0d76c837365" category="list-text">管理（クラスタとノード。必要に応じて SVM ）</block>
  <block id="1afd31181b377085aeb93a7dfff7aaeb" category="list-text">クラスタ間（オプション）</block>
  <block id="f220f145dd12dd3e4f23a04bbb8e1779" category="list-text">必要に応じて VLAN をサポート：</block>
  <block id="f74505a9d12445be10d4e75849dead68" category="list-text">データポートグループ</block>
  <block id="0ccc700f6c8555df7ee6d059e3fa8326" category="list-text">管理ポートグループ</block>
  <block id="f6380ac79bfc5e4452cacb86ceca34c8" category="list-text">管理者による設定の選択内容に基づいて割り当てられる IP アドレス：</block>
  <block id="0a51f551af068ec1dad1c0ffb204660a" category="list-text">IPv4 または IPv6</block>
  <block id="5ecb317d2fe67f0d0462198f96726e84" category="list-text">MTU サイズはデフォルトで 1500 バイト（調整可能）</block>
  <block id="73f799ee67059472f80ff245cd79584e" category="paragraph">外部ネットワークはあらゆるサイズのクラスタに対応します。</block>
  <block id="84da052114112fa26daa37fd61400ad0" category="section-title">仮想マシンのネットワーク環境</block>
  <block id="4b7d4eeb0e4f1e81527344ec1089fd37" category="paragraph">ハイパーバイザーホストは、いくつかのネットワーク機能を提供します。</block>
  <block id="6896ef368d0f399629d235f303aaf845" category="paragraph">ONTAP Select は、仮想マシンを通じて次の機能を利用できます。</block>
  <block id="4a0c19a55a200c7ed7c0adef73b030f6" category="list-text">仮想マシンのポート</block>
  <block id="bd8b82d2bde43ad5d412973515ef45be" category="list-text">ONTAP Select で使用できるポートがいくつかあります。割り当てと使用は、クラスタのサイズなど、いくつかの要因に基づいて行われます。</block>
  <block id="fabd320b3b2249377e53e93099e27657" category="list-text">仮想スイッチ</block>
  <block id="a10008cea0defb4e67624bfd88feafb7" category="list-text">vSwitch （ VMware ）または Open vSwitch （ KVM ）に関係なく、ハイパーバイザー環境内の仮想スイッチソフトウェアは、仮想マシンが公開するポートを物理イーサネット NIC ポートに結合します。それぞれの環境に応じて、各 ONTAP Select ホストに対して vSwitch を設定する必要があります。</block>
  <block id="8e5c75406092b84c33a434dd62222ee5" category="summary">RAID SyncMirror （ RSM ）、ミラーされたアグリゲート、および書き込みパスを使用してデータ損失を防止します。</block>
  <block id="f70ca9c3a2b7c6ae84a36a61f7d37661" category="doc">HA RSM とミラーされたアグリゲート</block>
  <block id="b56265ceb6311e42003e668438136a59" category="section-title">同期レプリケーション</block>
  <block id="04f481194539048ee85acd710271244a" category="paragraph">ONTAP の HA モデルは、 HA パートナーの概念に基づいています。ONTAP Select は、 ONTAP の RAID SyncMirror （ RSM ）機能を使用してクラスタノード間でデータブロックをレプリケートして、 HA ペア内でユーザデータのコピーが 2 つ保持されるようにすることで、このアーキテクチャを非共有型コモディティサーバへと拡張します。</block>
  <block id="9a120d7276c6a36d543c5a161642b99e" category="inline-link-macro">2 ノードストレッチ HA （ MetroCluster SDS ）のベストプラクティス</block>
  <block id="9d0822dcb8819654d0299cf79b2aaf37" category="paragraph">メディエーターを持つ 2 ノードクラスタは、 2 つのデータセンターにまたがることができます。詳細については、を参照してください <block ref="3a9138e6cecc138f508a809e03f2cd7a" category="inline-link-macro-rx"></block>。</block>
  <block id="a273e800cc2132ad1d962e51194e96e5" category="section-title">ミラーされたアグリゲート</block>
  <block id="2ae182fb72e38e2c9be66cfbebaa28d7" category="paragraph">ONTAP Select クラスタは、 2~8 ノードで構成されます。各 HA ペアにはユーザデータのコピーが 2 つ含まれ、 IP ネットワークを介してノード間で同期的にミラーリングされます。このミラーリングはユーザに対して透過的であり、データアグリゲートのプロパティであり、データアグリゲートの作成プロセス中に自動的に設定されます。</block>
  <block id="7a188dd8dd5110cd2332e9e506fba4f2" category="paragraph">ONTAP Select クラスタ内のすべてのアグリゲートは、ノードのフェイルオーバー時にデータ可用性を実現し、ハードウェア障害時の SPOF を回避するため、ミラーリングする必要があります。ONTAP Select クラスタ内のアグリゲートは、 HA ペアの各ノードが提供する仮想ディスクから作成され、次のディスクを使用します。</block>
  <block id="046eb77c326ce59ce04867fab6f58a61" category="list-text">現在の ONTAP Select ノードが提供する 1 セットのローカルディスク</block>
  <block id="dfd8a61eb56b3cafcfb17614bf437df2" category="list-text">現在のノードの HA パートナーが提供する 1 セットのミラーディスク</block>
  <block id="f03f4223bc9ab66541ab0d9537e4c63f" category="admonition">ミラーアグリゲートの作成に使用されるローカルディスクとミラーディスクは、同じサイズである必要があります。これらのアグリゲートは、プレックス 0 およびプレックス 1 と呼ばれます（ローカルミラーペアとリモートミラーペアを示す）。実際のプレックス番号は、環境によって異なる場合があります。</block>
  <block id="95983ff58e79900e4fc7433a0fefc0e5" category="paragraph">このアプローチは、標準的な ONTAP クラスタの動作とは根本的に異なります。この環境 は、 ONTAP Select クラスタ内のすべてのルートディスクとデータディスクを指します。アグリゲートには、データのローカルコピーとミラーコピーの両方が含まれます。したがって、 N 個の仮想ディスクを含むアグリゲートは、データの 2 番目のコピーが固有のディスクに保存されるため、 N /2 個分の一意のストレージを提供します。</block>
  <block id="fa34f1c41b140e26491b8de4566ce101" category="paragraph">次の図は、 4 ノード ONTAP Select クラスタ内の HA ペアを示しています。このクラスタには、両方の HA パートナーのストレージを使用する（テスト用の）アグリゲートが 1 つあります。このデータアグリゲートは、 2 セットの仮想ディスクで構成されます。 1 つは ONTAP Select が所有するクラスタノードが提供するローカルセット（プレックス 0 ）、もう 1 つはフェイルオーバーパートナーが提供するリモートセット（プレックス 1 ）です。</block>
  <block id="da8db5b5b3844c3b1b4a5b2111960320" category="paragraph">プレックス 0 は、すべてのローカルディスクを保持するバケットです。プレックス 1 は、ミラーディスク、つまりユーザデータの 2 つ目のレプリケートコピーを格納するディスクを保持するバケットです。アグリゲートを所有するノードはプレックス 0 にディスクを提供し、そのノードの HA パートナーはプレックス 1 にディスクを提供します。</block>
  <block id="48d57559d4a92ff6458f978a9e7927b4" category="paragraph">次の図では、 2 本のディスクで構成されるミラーアグリゲートがあります。このアグリゲートの内容が 2 つのクラスタノード間でミラーされます。この場合、ローカルディスク NET-1.1 はプレックス 0 バケットに配置され、リモートディスク NET-2.1 はプレックス 1 バケットに配置されます。この例では、アグリゲート test は左側のクラスタノードによって所有され、ローカルディスク NET-1.1 と HA パートナーのミラーディスク NET-2.1 を使用します。</block>
  <block id="7446df150c904a88c320b16172a79903" category="inline-image-macro">ONTAP Select ミラーされたアグリゲート</block>
  <block id="faf1bc74bc840f8ac8e5cbe08a9022ad" category="paragraph">* ONTAP Select ミラーアグリゲート *<block ref="df98bf535f26f462ffd5dce7ff8be775" category="inline-image-macro-rx" type="image"></block></block>
  <block id="217fe35e0b1b0ea7eaedf547fd3b78c4" category="admonition">ONTAP Select クラスタの導入時にシステム上のすべての仮想ディスクが自動的に正しいプレックスに割り当てられるため、ディスクの割り当てに関してユーザが追加の作業を行う必要ありません。そのため、ディスクが間違ったプレックスに誤って割り当てられることがなく、最適なミラーディスク構成が確実に作成されます。</block>
  <block id="9ff2d04f8bf6d03e9d68665a5c1c4f6c" category="section-title">書き込みパス</block>
  <block id="6ad8b6070376723b71857823e74fc5e2" category="paragraph">クラスタノード間でデータブロックが同期ミラーリングされること、またシステム障害発生時にデータ損失ゼロが求められることは、受信した書き込みが ONTAP Select クラスタ全体に伝播される際のパスに大きく影響します。このプロセスは、次の 2 つの段階で構成されます</block>
  <block id="37bea4d3bbce78210e52efa42aff98fc" category="list-text">確認応答</block>
  <block id="ebb44d8777f3b7b839ff5e4b7615b495" category="list-text">デステージ</block>
  <block id="8ad7876f29c95489f4b291338599cfc9" category="paragraph">ターゲットボリュームへの書き込みはデータ LIF 経由で行われ、 ONTAP Select ノードのシステムディスク上の仮想 NVRAM パーティションにコミットされてから、クライアントに確認応答が返されます。HA 構成の場合は、確認応答の前に、 NVRAM への書き込みがターゲットボリュームを所有するノードの HA パートナーにただちにミラーされます。このプロセスにより、元のノードでハードウェア障害が発生した場合でも、 HA パートナーノードでファイルシステムの整合性が確保されます。</block>
  <block id="6a3d18594190ba8a7faa099f02c2da01" category="paragraph">書き込みが NVRAM にコミットされると、 ONTAP はこのパーティションの内容を適切な仮想ディスクに定期的に移動します。これがデステージと呼ばれるプロセスです。このプロセスは、ターゲットボリュームを所有するクラスタノードで 1 回だけ実行され、 HA パートナーでは実行されません。</block>
  <block id="dfac65b5220204a96b535b80f90c5ad2" category="paragraph">次の図は、 ONTAP Select ノードへの書き込み要求の書き込みパスを示しています。</block>
  <block id="1420dda19babb9f4f670dd919aa32fca" category="inline-image-macro">ONTAP Select 書き込みパスのワークフロー</block>
  <block id="3d210ecc4a15044ba4b6a455d3d9b33b" category="paragraph">* ONTAP Select 書き込みパスのワークフロー *<block ref="91365ce583ed2acd5711e8f2f067df94" category="inline-image-macro-rx" type="image"></block></block>
  <block id="42627567af6f6d6a375b0050de4cf882" category="paragraph">書き込みの確認応答は、次の手順で行われます。</block>
  <block id="b4c038c1957ac2ce0ab55d015f11e14c" category="list-text">ONTAP Select ノード A が所有する論理インターフェイス経由で書き込みがシステムに送信されます</block>
  <block id="07d32f1d92a1d70ba4961918d61539f5" category="list-text">書き込みはノード A の NVRAM にコミットされ、 HA パートナーであるノード B にミラーされます</block>
  <block id="ceaa13ca4b84d11cadeb0555b314b909" category="list-text">I/O 要求が両方の HA ノードに到達した時点で、クライアントに要求の確認応答が返されます。</block>
  <block id="e649721db54535a2a5e277b34bc8fbe0" category="paragraph">NVRAM からデータアグリゲートへの ONTAP Select のデステージ（ ONTAP CP ）は、次の手順で行われます。</block>
  <block id="9f5f5dc7b970257064e1b0a673449b10" category="list-text">仮想 NVRAM から仮想データアグリゲートに書き込みがデステージされます。</block>
  <block id="22fe89dea72658d468cae7b570a6b8cb" category="list-text">ミラーエンジンが両方のプレックスにブロックを同期的にレプリケートします。</block>
  <block id="404d54774044db11c6975bce11775dce" category="summary">ONTAP Select の管理の一環として実行できる、関連する診断タスクとサポートタスクがいくつかあります。</block>
  <block id="68f3bee395b27d2cbfdf4b021846dcca" category="doc">診断とサポート</block>
  <block id="0cd81c227ffac85681f44914bf7b774c" category="section-title">システム設定の表示</block>
  <block id="508e02c06a198fdc8f32047c48ca7cde" category="paragraph">vCenter プラグインを使用して、 Deploy 管理ユーティリティの基本設定を表示できます。</block>
  <block id="2096d6982a274325c24afac3bfa5dc26" category="list-text">[* グローバルインベントリリスト * （ Global Inventory Lists * ） ] ペインで、 [* ONTAP Select Deploy* （ * グローバルインベントリ導入 * ） ]</block>
  <block id="4bf6ef8242648ef310c25ad8bee82680" category="list-text">[* 管理（ * Administration ） ] タブをクリックします。</block>
  <block id="ca673f46531a3e640544e4dfbd08a544" category="list-text">[ * システム * ] オプションを展開し、 [ * 設定 * ] をクリックします。</block>
  <block id="5b194f5105d76c945134744f072ad4fb" category="list-text">必要に応じてシステム構成を更新し、 * 保存 * をクリックします。</block>
  <block id="bb823ec3a02a82ef9b0a11c7c2ace1f2" category="section-title">イベントメッセージの表示</block>
  <block id="ee387c41e8703f402aecb1760915ff6a" category="paragraph">Deploy 管理ユーティリティには、システムのアクティビティに関する情報を提供するイベントロギングファシリティが含まれています。問題をデバッグする場合やサポートから指示があった場合に、 Deploy プラグインを使用してイベントログの内容を表示できます。</block>
  <block id="267d433b66e8bbeb2bcb991ff391835e" category="paragraph">次に示すいくつかの特性に基づいて、イベントメッセージのリストをフィルタできます。</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="list-text">を入力します</block>
  <block id="a0db49ba470c1c9ae2128c3470339153" category="list-text">レベル</block>
  <block id="d9a17c1c9e8ef6866e4dbeef41c741b2" category="list-text">インスタンス</block>
  <block id="2245cf0d6d7adab1c254cc3040cb6874" category="list-text">[* Events * （イベント * ） ] オプションを展開して、 [* Deploy * （展開） ] をクリック</block>
  <block id="fc3fc9abca7bc92cd73a1851e147bffd" category="list-text">必要に応じて、フィルタリングをクリックし、表示するイベントメッセージを制限するフィルタを作成します。</block>
  <block id="1e16ec50d4c8e764f8acb91e96cc8bd2" category="section-title">AutoSupport を有効にします</block>
  <block id="857bf356c373b3d17d36802462231171" category="paragraph">AutoSupport は、ネットアップが ONTAP Select をサポートするために使用する主要なトラブルシューティングツールです。AutoSupport 機能は必要に応じて有効または無効にすることができます。</block>
  <block id="c1a4294f639e8a6bf27a263e1777a227" category="paragraph">新しいクラスタの導入が完了したら、 AutoSupport が有効になっていることを確認する必要があります。AutoSupport は必要な場合にのみ無効にしてください。AutoSupport を無効にしてもデータは収集されますが、ネットアップには送信されません。</block>
  <block id="d2ee14d91f5982ece47c2c01bbad510e" category="list-text">* AutoSupport * オプションを展開し、 * Configure * をクリックします</block>
  <block id="4470a8492215216df44352a5a8e38be1" category="list-text">必要に応じて AutoSupport を有効または無効にします。</block>
  <block id="51efe6dcb82bfb2c43c000886a92149c" category="section-title">AutoSupport パッケージを生成しています</block>
  <block id="581aeb495252756dd49b657beab1ad38" category="paragraph">Deploy vCenter Plug-in では、 AutoSupport パッケージを生成できます。問題をデバッグする場合やサポートから指示があったときにパッケージを生成する必要があります。</block>
  <block id="c36caa381ea3fe54bf2ade1e874f7b4f" category="paragraph">次の AutoSupport パッケージを生成できます。</block>
  <block id="54a5865954a8d4427e8776dfd8d07256" category="list-text">ONTAP Select Deploy ユーティリティで作成されたログファイルの導入</block>
  <block id="d2b05906fb625ce78c262b153a08cad2" category="list-text">トラブルシューティングハイパーバイザーホストと ONTAP Select ノードに関するトラブルシューティング情報とデバッグ情報</block>
  <block id="52dcae8592240a7a7f84bb108da40091" category="list-text">ハイパーバイザーホストと ONTAP Select ノードに関するパフォーマンスの情報です</block>
  <block id="440e6322bb4e38f46d0a83c25dde8fb9" category="list-text">[*Generate] AutoSupport オプションを展開し、 [*Generate] をクリックします。</block>
  <block id="8c62345c24fc93b57d8b8362ae9c1324" category="list-text">タイプを選択してパッケージの概要 を指定するか、ケース番号を入力して、「 AutoSupport を生成」をクリックします。</block>
  <block id="ff5ec39d6ca2931a1cc2f84e465a78ce" category="list-text">左側のペインで、 AutoSupport * の下の *History* をクリックし、パッケージを探します。</block>
  <block id="96d6ceb47f05a2ba858f7ae8878c1524" category="paragraph">必要に応じて、 [* 更新（ Refresh ） ] をクリックできます。</block>
  <block id="46a82722d26dfee4ae9c74bee987431f" category="paragraph">AutoSupport パッケージは、標準の Deploy ユーティリティのユーザインターフェイスを使用してワークステーションにダウンロードできます。Deploy vCenter プラグインを使用してパッケージをダウンロードすることはできません。</block>
  <block id="9193a4c6677511855c3ab435f999d751" category="summary">ONTAP Select に関するサポートや詳細情報を確認するには、他にも役立つリソースが用意されています。</block>
  <block id="3cd12697cda279c9c99b093a265c1ba8" category="doc">ヘルプを参照したり、詳細情報を参照したりするには</block>
  <block id="9b0fbf172f51b4a5abce0857edfab0f9" category="section-title">ONTAP Select 製品のリソース</block>
  <block id="c49e76269f99b6773f9b3a78f408edb0" category="paragraph">次の製品ページには、さまざまな ONTAP Select リソースへのリンクが記載されています。</block>
  <block id="a8880942f614154c0bef5b881090cda1" category="inline-link">NetApp ONTAP Select の関連リソース</block>
  <block id="4dbedeedb10d03b7a8ed66a0dda3941d" category="list-text"><block ref="4dbedeedb10d03b7a8ed66a0dda3941d" category="inline-link-rx"></block></block>
  <block id="bb0cd218d1754229c2a730e5e27f5a5b" category="inline-link">NetApp ONTAP Select の製品紹介ページ</block>
  <block id="e2e78aa3752db107a66c2193b8f739a3" category="list-text"><block ref="e2e78aa3752db107a66c2193b8f739a3" category="inline-link-rx"></block></block>
  <block id="f372ae3b2fda116fe4b7463cbac902c0" category="section-title">ONTAP 9 のリソース</block>
  <block id="5358757de9216cc29d688612a3d72fe1" category="inline-link">ONTAP 9 のドキュメント</block>
  <block id="7d1750eaf694ea55e3ed364bf2fc1139" category="list-text"><block ref="7d1750eaf694ea55e3ed364bf2fc1139" category="inline-link-rx"></block></block>
  <block id="85e5e87731b3318f19ef33e2fb42f8b4" category="paragraph">ONTAP 9 のドキュメントを提供します（ CLI コマンドを除く）。</block>
  <block id="774a065cb3548cc61fb0ec3bc1494fbe" category="inline-link">ONTAP 9 ドキュメンテーション・センター</block>
  <block id="04b0bb6aae6dc41149097cc24034df97" category="list-text"><block ref="04b0bb6aae6dc41149097cc24034df97" category="inline-link-rx"></block></block>
  <block id="874bbaff78a1a5929b6a69396bce843d" category="paragraph">ONTAP 9 の CLI コマンドに関するドキュメントを提供します。</block>
  <block id="d6b9ea32b921a9f56de32062ba4b94f3" category="section-title">ブログ</block>
  <block id="6484888aa5587eda1681bdb1c47be443" category="paragraph">ONTAP Select の様々な側面をカバーする blog の記事のコレクションがある。</block>
  <block id="ed856f2e35f2bbf5d8c5eb0ad04cb1e8" category="inline-link">ONTAP Select に関するネットアップのブログ</block>
  <block id="832f2162f3fbe0c1ea6dd7cac69e6fba" category="list-text"><block ref="832f2162f3fbe0c1ea6dd7cac69e6fba" category="inline-link-rx"></block></block>
  <block id="7d61983c34edc2a8cabbea71c4732f62" category="section-title">コミュニティ</block>
  <block id="507146636808c2a67de91c71bc96d0d4" category="paragraph">他のユーザに質問をしたり、ネットアップの ONTAP Select コミュニティに投稿したりすることができます。</block>
  <block id="fad62675500d423cc82425ce5756d97e" category="inline-link">ネットアップコミュニティ： ONTAP Select</block>
  <block id="e725cbed268f80a785d5afe819470e69" category="list-text"><block ref="e725cbed268f80a785d5afe819470e69" category="inline-link-rx"></block></block>
  <block id="9ed4a475dd3705157a9fed8811f63ce2" category="section-title">NetApp Interoperability Matrix Tool で確認できます</block>
  <block id="6d8b4f8c049f3c393747d18747a67b39" category="paragraph">Interoperability Matrix Tool には、詳細な構成と製品サポート情報が記載されています。</block>
  <block id="471ff51c89daf6e35e8e2b5111039744" category="inline-link">NetApp IMT</block>
  <block id="e7174cdff2de95e16bdf33105f509464" category="list-text"><block ref="e7174cdff2de95e16bdf33105f509464" category="inline-link-rx"></block></block>
  <block id="540a1899c1be5ac42092dad9fefe4e2a" category="summary">仮想 NAS （ vNAS ）環境では、 VSAN 上の ONTAP Select クラスタ、一部の HCI 製品、 NetApp HCI テクノロジ、および外付けアレイタイプのデータストアがサポートされます。これらの構成の基盤となるインフラは、データストアの耐障害性を提供します。</block>
  <block id="6b49a92f07f85cf298a2f9ca217c257d" category="doc">VSAN および外付けアレイの構成</block>
  <block id="9fdd7c03284cb54741d141ac1c486c9f" category="paragraph">基盤の構成が VMware でサポートされることが最小要件であり、その構成が VMware HCL に掲載されている必要があります。</block>
  <block id="ef749dda351a606a7965573652d77d16" category="section-title">vNAS アーキテクチャ</block>
  <block id="e6ecb09957385d46d3e7d8f38caf834f" category="paragraph">vNAS という名称は、 DAS を使用しないすべてのセットアップで使用されます。マルチノード ONTAP Select クラスタの場合、これには、同じ HA ペアの 2 つの ONTAP Select ノードが 1 つのデータストア（ vSAN データストアを含む）を共有するアーキテクチャが含まれます。ノードは、同じ共有外付けアレイから別々のデータストアにインストールすることもできます。これにより、アレイ側の Storage Efficiency が向上し、 ONTAP Select HA ペア全体の全体的な設置面積が削減されます。ONTAP Select vNAS ソリューションのアーキテクチャは、ローカル RAID コントローラを使用する DAS の ONTAP Select のアーキテクチャと非常によく似ています。つまり、各 ONTAP Select ノードには HA パートナーのデータのコピーが引き続き保持されます。ONTAP の Storage Efficiency ポリシーは、ノード範囲に適用されます。そのため、アレイ側の Storage Efficiency を高めることを推奨します。これにより、両方の ONTAP Select ノードのデータセットに適用できる可能性があるためです。</block>
  <block id="8c9496c880ab43b48a621ee8eb919198" category="paragraph">HA ペアの各 ONTAP Select ノードで別々の外付けアレイを使用することもできます。これは、外付けストレージで ONTAP Select MetroCluster SDS を使用する場合の一般的な選択肢です。</block>
  <block id="3178f25d03b7980c52133ed9439c6c1b" category="paragraph">ONTAP Select ノードごとに別々の外付けアレイを使用する場合は、 2 つのアレイが ONTAP Select VM と同様のパフォーマンス特性を発揮することが非常に重要です。</block>
  <block id="abeafdca739746d83e662b81d42d0244" category="section-title">vNAS アーキテクチャと、ハードウェア RAID コントローラを搭載したローカル DAS の比較</block>
  <block id="52f0f673f081e3f8e712466670ca3c6c" category="paragraph">vNAS アーキテクチャは、 DAS と RAID コントローラを備えたサーバのアーキテクチャと論理的によく似ています。どちらの場合も、 ONTAP Select はデータストアスペースを消費します。そのデータストアスペースは VMDK に分割され、これらの VMDK は従来の ONTAP データアグリゲートを形成します。ONTAP Deploy は、クラスタ作成およびストレージ追加の処理中に、 VMDK が適切なサイズに設定され、正しいプレックスに割り当てられていること（ HA ペアの場合）を確認します。</block>
  <block id="e708eb46da918cd2f20598d6404435f8" category="paragraph">vNAS と、 RAID コントローラ搭載の DAS には、 2 つの大きな違いがあります。最も明確な違いは、 vNAS には RAID コントローラが必要ないということです。vNAS は、基盤となる外付けアレイが、 RAID コントローラ搭載 DAS が提供するデータの永続性と耐障害性を備えていることを前提としています。2 つ目の違いは、 NVRAM のパフォーマンスに関係します。</block>
  <block id="aead3534b35c524b8d23e75b162d87fa" category="section-title">vNAS NVRAM</block>
  <block id="b4c3c8fcfba86e760e3eb00f059b8083" category="paragraph">ONTAP Select NVRAM は VMDK です。つまり、 ONTAP Select は、ブロックアドレス指定可能デバイス（ VMDK ）上のバイトアドレス指定可能スペース（従来の NVRAM ）をエミュレートします。ただし、 NVRAM のパフォーマンスが、 ONTAP Select ノード全体のパフォーマンスにはきわめて重要です。</block>
  <block id="9cd21e4c522664c88b8fbf916177b907" category="paragraph">ハードウェア RAID コントローラを使用した DAS セットアップの場合、ハードウェア RAID コントローラキャッシュは事実上の NVRAM キャッシュとして機能します。 NVRAM VMDK へのすべての書き込みは最初に RAID コントローラキャッシュにホストされるためです。</block>
  <block id="125f9f4aaff0caf737382f04875079e0" category="paragraph">vNAS アーキテクチャの場合、 ONTAP Deploy は、 Single Instance Data Logging （ SIDL ）というブート引数を使用して、 ONTAP Select ノードを自動的に設定します。このブート引数が指定されている場合、 ONTAP Select は NVRAM をバイパスし、データペイロードをデータアグリゲートに直接書き込みます。NVRAM は、書き込み処理によって変更されたブロックのアドレスを記録するためにのみ使用されます。この機能のメリットは、 NVRAM への 1 つの書き込みと NVRAM のデステージ時のもう 1 つの書き込みで、二重の書き込みを回避できることです。この機能は vNAS でのみ有効です。 RAID コントローラキャッシュへのローカル書き込みでのレイテンシ増がわずかしかないためです。</block>
  <block id="56ed5c450ab0f5de42966d9ed30f5cd8" category="paragraph">SIDL 機能は、 ONTAP Select のすべての Storage Efficiency 機能とは互換性がありません。SIDL 機能は、次のコマンドを使用してアグリゲートレベルで無効にできます。</block>
  <block id="37464fb225dcfe14b65d40e282a69791" category="paragraph">SIDL 機能をオフにすると、書き込みパフォーマンスに影響します。アグリゲート内のすべてのボリュームの Storage Efficiency ポリシーをすべて無効にした後で、 SIDL 機能を再度有効にすることは可能です。</block>
  <block id="2279798c503a775aa28b18e932606004" category="section-title">vNAS 使用時の ONTAP Select ノードの併置</block>
  <block id="5c30d720d7d57dcc055e3b249e90fe85" category="paragraph">ONTAP Select は、共有ストレージ上のマルチノード ONTAP Select クラスタをサポートします。ONTAP Deploy では、複数の ONTAP Select ノードが同じクラスタに属していないかぎり、同じ ESX ホストに複数の ESX ノードを設定できます。この構成は、 vNAS 環境（共有データストア）でのみ有効です。DAS ストレージを使用している場合、ホストごとに複数の ONTAP Select インスタンスを使用することはできません。これらのインスタンスが同じハードウェア RAID コントローラで競合するためです。</block>
  <block id="377b3ee56ca0a3ca27bdb40fbcff905f" category="paragraph">ONTAP Deploy は、マルチノード VNAS クラスタの初期導入時に、同じホスト上の同じクラスタから複数の ONTAP Select インスタンスが配置されないようにします。次の図は、 2 つのホスト上で交差する、 2 つの 4 ノードクラスタの正しい導入例を示しています。</block>
  <block id="f9f1dbfb28a20c821662f7942e9a8466" category="paragraph">* マルチノード VNAS クラスタの初期導入 *</block>
  <block id="1ca5d462f895b07bac5ff6789689db17" category="inline-image-macro">マルチノード VNAS クラスタの初期導入</block>
  <block id="667af35d0981469316aa86eb69224996" category="paragraph"><block ref="667af35d0981469316aa86eb69224996" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e1a999076b0af5b82994674ffa8031cc" category="paragraph">導入後、 ONTAP Select ノードはホスト間で移行できます。これにより、不適切な構成やサポート対象外の構成が発生し、同じクラスタにある複数の ONTAP Select ノードが、基盤となる同じホストを共有する可能性があります。ネットアップでは、 VM の非アフィニティルールを手動で作成し、 VMware が、同じ HA ペアのノードだけでなく、同じクラスタのノード間での物理的な分離を自動的に管理するようにすることを推奨します。</block>
  <block id="399db3405baef9251b2e1f5075e2c774" category="admonition">非アフィニティルールでは、 ESX クラスタで DRS が有効になっている必要があります。</block>
  <block id="c9245638228fb080be833afd4ae02996" category="paragraph">ONTAP Select VM の非アフィニティルールを作成する方法については、次の例を参照してください。ONTAP Select クラスタに複数の HA ペアが含まれている場合は、クラスタ内のすべてのノードをこのルールに含める必要があります。</block>
  <block id="2d500f94ae10da91b1dd07b4fb06d9cf" category="inline-image-macro">VM / ホストのルール</block>
  <block id="68dca31a059ffca52e72aceabc0f0d99" category="paragraph"><block ref="68dca31a059ffca52e72aceabc0f0d99" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a7ce9d7cf3e298680d9b767efd59d751" category="inline-image-macro">VM / ホストルールを編集します</block>
  <block id="d0c57e4e689a136e3a67df3cf986b24c" category="paragraph"><block ref="d0c57e4e689a136e3a67df3cf986b24c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="13cc798e2b453aa7b57cd8c9a3fb7227" category="paragraph">次のいずれかの理由で、同じ ONTAP Select クラスタの 2 つ以上の ONTAP Select ノードが同じ ESX ホスト上に見つかる場合があります。</block>
  <block id="3136e5396726913a2169d821ecba91e0" category="list-text">VMware vSphere のライセンス制限により DRS がない、または DRS が有効になっていない。</block>
  <block id="894e15ba76e12595e4127fc6f613fa27" category="list-text">VMware HA 処理または管理者が開始した VM 移行が優先されるため、 DRS の非アフィニティルールがバイパスされる。</block>
  <block id="4e1af080979e54f8427227d0482dd893" category="paragraph">ONTAP Deploy は、 ONTAP Select VM の場所のプロアクティブな監視は行いません。ただし、クラスタの更新処理により、次のようなサポートされていない構成が ONTAP Deploy ログに反映されます。</block>
  <block id="5b7407231012a40dd88287373070ae98" category="inline-image-macro">ONTAP Deploy ログ</block>
  <block id="35f218ae1f484b62612317226b29e4b3" category="paragraph"><block ref="35f218ae1f484b62612317226b29e4b3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6a8522b0cf05272f59ef17c0af3731d6" category="summary">ONTAP Select Deploy 管理ユーティリティに付属のコマンドラインインターフェイスを使用して、シングルノードまたはマルチノードの ONTAP Select クラスタを作成できます。</block>
  <block id="2817f3be8f8876ee9e2ab05f41650d3b" category="doc">CLI を使用した ONTAP Select クラスタの導入</block>
  <block id="e25eb0d51fa04287d42f35d046772a90" category="paragraph">ESXi で ONTAP Select クラスタを作成する前に、必要な準備作業を理解しておく必要があります。</block>
  <block id="78ab916be2ff28d311828b3b149a6362" category="section-title">ONTAP Select ノードにストレージを接続するための準備をしています</block>
  <block id="618aade87a4c0dc9b9fe7ea456efd7ad" category="paragraph">ローカルのハードウェア RAID コントローラを使用する場合は、システムデータ用およびルートアグリゲートとデータアグリゲート用に各ノードに少なくとも 1 つのストレージプールを作成する必要があります。ONTAP Select ノードの設定の一環として、ストレージプールを接続する必要があります。</block>
  <block id="c423fd05ac4075cd52ed8e9ec9961c3f" category="paragraph">ソフトウェア RAID を使用する場合は、システムデータ用のストレージプールを作成し、 SSD ドライブがルートアグリゲートおよびデータアグリゲートに使用可能であることを確認する必要があります。ONTAP Select ノードの設定の一環として、ストレージプールとディスクを接続する必要があります。</block>
  <block id="d5ba525828b35ea241ddabb08b074ffd" category="section-title">使用可能な ONTAP Select バージョン</block>
  <block id="aa66e32480de432747a10957bdaa05fd" category="inline-link-macro">ONTAP Select イメージを Deploy に追加しています</block>
  <block id="f04ce539f861b20e999ae9ca7a1a5963" category="paragraph">Deploy 管理ユーティリティには、単一バージョンの ONTAP Select が含まれています。以前のバージョンの ONTAP Select を使用してクラスタを導入する場合は、まず ONTAP Select イメージを Deploy インスタンスに追加する必要があります。を参照してください <block ref="78d33d23ddbc660baa867877fc233dd4" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="700dafd7ca1606f2a30973a096a3f27f" category="section-title">本番環境向けに ONTAP Select のライセンスを付与する</block>
  <block id="9526942f4f0cae81c16b2f122cce2a1e" category="paragraph">本番環境に ONTAP Select クラスタを導入する前に、ストレージ容量ライセンスを購入し、関連するライセンスファイルをダウンロードする必要があります。各ノードでストレージのライセンスを取得するには、 _capacity Tier_model を使用するか、 _capacity pools_model を使用して共有プールのライセンスを設定します。</block>
  <block id="9b419acef9660c05b08074757cfef581" category="section-title">ライセンスファイルのアップロードと登録</block>
  <block id="973a0d9d3fbac9204b63c3c4b4ef0e8e" category="paragraph">ストレージ容量を含むライセンスファイルを取得したら、ライセンスを含むファイルを Deploy 仮想マシンにアップロードして登録する必要があります。</block>
  <block id="2fec03a9efc770f765197fa8c7911b8b" category="admonition">クラスタを評価用に導入する場合は、この手順を省略できます。</block>
  <block id="b9f0026a35bc57805d0d99fdcdfe0dd7" category="paragraph">admin ユーザアカウントのパスワードが必要です。</block>
  <block id="8fd3830e96cdef69606511603c13b5b6" category="list-text">ローカルワークステーション上のコマンドシェルで、 sftp ユーティリティを使用して、ライセンスファイルを Deploy 仮想マシンにアップロードします。</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="paragraph">例</block>
  <block id="d3da597cbedb34e76303c54f2958f024" category="list-text">SSH を使用して、管理者アカウントで Deploy ユーティリティの CLI にサインインします。</block>
  <block id="fce170f0d7ad55c661366ec716bc61e0" category="list-text">ライセンスを登録します。</block>
  <block id="20ab7302be55d4dc1a0ba5575d411e18" category="paragraph">「 license add -file-name filename 」と入力します</block>
  <block id="433e51a365a7b38eca70ff3fb9842f4f" category="paragraph">プロンプトが表示されたら、管理者アカウントのパスワードを入力します。</block>
  <block id="8321447cfcedfbf85f936b6d5ffebfe0" category="list-text">システムのライセンスを表示して、ライセンスが正しく追加されたことを確認します。</block>
  <block id="8822a9cc146d06e4ec77936054fb11ca" category="paragraph">「 license show 」を参照してください</block>
  <block id="ba93b2a719cfe3e8015ab3ec2eaf4774" category="section-title">ESXi ハイパーバイザーホストの追加</block>
  <block id="73f4469376ea1f5c82d6b88b4dd08c80" category="paragraph">ONTAP Select ノードを実行する各ハイパーバイザーホストを登録する必要があります。この一部として、 Deploy 管理ユーティリティは、ホストを管理する vCenter Server への認証、または ESXi スタンドアロンホストへの直接の認証を行います。</block>
  <block id="dd18331505610da0aa987b27dd5c8b25" category="paragraph">vCenter で管理されているホストを登録する前に、 vCenter Server 用の管理サーバアカウントを追加する必要があります。ホストが vCenter で管理されていない場合は、ホストを登録する際にホストのクレデンシャルを指定できます。この手順 を使用して各ホストを追加します。</block>
  <block id="c1f1fdaeb1fc7d288d9969efdd963bcc" category="list-text">管理者アカウントで SSH を使用して、 Deploy ユーティリティの CLI にサインインします。</block>
  <block id="783f31ff95f455c1c7bb62214f87fdd1" category="list-text">ホストが vCenter サーバで管理されている場合は、 vCenter アカウントのクレデンシャルを追加します。</block>
  <block id="12c193f5dcc3f99c7a295445ebc9b455" category="paragraph">credential add -hostname &lt;fqdn|ip&gt; -type vcenter -username vcenter _username `</block>
  <block id="c61720431284d81fa9e02425c5f95ab6" category="list-text">ホストを登録します。</block>
  <block id="05a199c9e0f61506eaad93a8dc60682f" category="list-text">vCenter で管理されていないスタンドアロンホストを登録します。ホスト登録名 &lt;fqdn|ip&gt; ハイパーバイザータイプ esx-username esx_userName'</block>
  <block id="1c33a374a227666dbe5c62e17c001cc4" category="list-text">vCenter が管理するホストを登録します。ホスト登録名 &lt;fqdn|ip&gt; ハイパーバイザータイプ esx-mgmt -server &lt;fqdn|ip&gt;`</block>
  <block id="72d7c672225aae34bedacaaa9e067e1b" category="list-text">ホストの状態を表示し、認証済みであることを確認します。</block>
  <block id="86cc5166af9ee54f72113259fac2f069" category="paragraph">host show -name &lt;fqdn|ip&gt; -detailed ’</block>
  <block id="9654fb56bf1aee9815d9cad239ed20e6" category="section-title">ONTAP Select クラスタを作成および設定する</block>
  <block id="b53d497702708c1435cf9d82b4dd011d" category="paragraph">ONTAP Select クラスタを作成し、設定する必要があります。クラスタを設定したら、個々のノードを設定できます。</block>
  <block id="6a24e211b3a07c627c36842a7b023db3" category="paragraph">クラスタに含まれるノード数と、関連付けられている設定情報を決定する必要があります。</block>
  <block id="438a70bbcab0041f9a67a5699ee42b1d" category="paragraph">ONTAP Select クラスタを作成すると、 Deploy ユーティリティは、指定したクラスタ名とノード数に基づいてノード名を自動的に生成します。Deploy は一意のノード識別子も生成します。</block>
  <block id="11398628eae69f15ea89db484fceb50e" category="list-text">クラスタを作成します。</block>
  <block id="62f2cd8373d9724c99d2f13d42ee8c6c" category="paragraph">cluster create -name clustername -node-count nodes を指定します</block>
  <block id="b1ac594c1239eacf78f84af51768bd15" category="list-text">クラスタを設定します。</block>
  <block id="fb9cd8b192d5d7274652934a6f7c4f32" category="paragraph">cluster modify -name clustername -mgmt ip ip_address -netmask netmask gateway ip_address -dns-servers &lt;fqdn|ip&gt;_list -dns-domains domain_list</block>
  <block id="5f503a75cbd22c8269b0eb1377d09880" category="list-text">クラスタの設定と状態を表示します。</block>
  <block id="fbba132f8bfb4917ab068c504260e91d" category="paragraph">cluster show -name clustername -detailed</block>
  <block id="2fc180682da581c0d11d805294eb5e13" category="section-title">ONTAP Select ノードを設定する</block>
  <block id="fb395229c68cbade5ef8a29846dadf96" category="paragraph">ONTAP Select クラスタ内の各ノードを設定する必要があります。</block>
  <block id="5ce515418398a169e0380c3856289f5f" category="paragraph">ノードの設定情報が必要です。大容量階層ライセンスファイルをアップロードして、 Deploy ユーティリティでインストールする必要があります。</block>
  <block id="5d74908d060471342c6387e13df8ef36" category="paragraph">この手順 を使用して各ノードを設定する必要があります。この例では、大容量階層ライセンスがノードに適用されています。</block>
  <block id="ca43b0b07b80357b6b79621504c12e57" category="list-text">クラスタノードに割り当てられた名前を特定します。</block>
  <block id="f9b851f69cae3703f91dd7f46ee96be9" category="paragraph">'node show -cluster-name clustername</block>
  <block id="8b5cb1e38684b903416c8da0166076b5" category="list-text">ノードを選択し、基本設定を実行します。「 node modify -name nodename -cluster-name clustername -host-name &lt;fqdn|ip&gt; -license-serial -number -instance -type type -passthrough-disks false 」</block>
  <block id="6dd204eccb05c441b87e6a643950694d" category="paragraph">ノードの RAID 設定は、 _passthrough-pdisks_parameter で示されます。ローカルハードウェア RAID コントローラを使用している場合は、この値を false に設定する必要があります。ソフトウェア RAID を使用している場合は、この値が true である必要があります。</block>
  <block id="7efc18a8265e9977fb3518551ff21574" category="paragraph">ONTAP Select ノードには大容量階層ライセンスが使用されます。</block>
  <block id="2b24bc0f21d6bbbaef36e09ddfa027a0" category="list-text">ホストで使用可能なネットワーク設定を表示します。</block>
  <block id="e5cc61140754d924e9497ca93ae33daf" category="paragraph">host network show -host-name &lt;fqdn|ip&gt; -detailed ’</block>
  <block id="bb7ea5508da973d7f3f3a022afe1dd6b" category="list-text">ノードのネットワーク設定を実行します。</block>
  <block id="441178de1ea2785382b8f6b0fe383636" category="paragraph">node modify -name nodename -cluster-name clustername -mgmt -ip ip-management-networks network_name network_name network_name network_name -internal-network network_name</block>
  <block id="f3c1a1c8717be55597746058712a8a41" category="paragraph">シングルノードクラスタを導入する場合は、内部ネットワークは必要なく、 -internal-network を削除する必要があります。</block>
  <block id="c2f2bd4587b8c71cf8e299f386400e66" category="list-text">ノードの設定を表示します。</block>
  <block id="733447df59e9b9f51345490bc3341e5d" category="paragraph">node show -name nodename -cluster-name clustername -detailed ’と入力します</block>
  <block id="d07e64799eaa81c2e7811d55f1faaaf1" category="list-text">ホストで使用可能なストレージプールを表示します。</block>
  <block id="9646f070282208e61d267e28e7ef6bb1" category="paragraph">host storage pool show -host-name &lt;fqdn|ip&gt;`</block>
  <block id="3457f038144b809169e1a74a423ab6b6" category="paragraph">VMware vSphere から使用可能なストレージプールを取得することもできます。</block>
  <block id="07f1307518e7117c7c488ec13d22f13b" category="list-text">使用可能なストレージプールを ONTAP Select ノードに接続します。</block>
  <block id="6b72087e7adfa45d3c96a64dbb0e0943" category="paragraph">'node storage pool attach -name poolname -cluster-name clustername -node-name -capacity-capacity-capacity-limit</block>
  <block id="4f1ade48acd4f9017fb7aba3b36c6398" category="paragraph">capacity-limit パラメータを指定した場合は、 GB または TB の値を指定します。</block>
  <block id="9283f6c409a12ec191b624c73670243a" category="list-text">ノードに接続されているストレージプールを表示します。</block>
  <block id="16ae8f69d20416e19ed384c85392ce7f" category="paragraph">node storage pool show -cluster-name clustername -node-name の形式です</block>
  <block id="4b1e89748ee273a82d72c64ef89f9a39" category="paragraph">クラスタとノードを設定したら、クラスタを導入できます。</block>
  <block id="68051fa26ab75827c550ca4c3606cba1" category="paragraph">マルチノードクラスタを導入する前に、ネットワーク接続チェッカーを実行して、内部ネットワーク上のクラスタノード間の接続を確認する必要があります。</block>
  <block id="29bcfb9b8c7f3dd5f5123092080684d8" category="list-text">ONTAP Select クラスタを導入します。</block>
  <block id="121916d45fa0b5e9fcf763bc06702c33" category="paragraph">「 cluster deploy -name clustername 」と入力します</block>
  <block id="3170be01fdc45e3e10fbe83b1d2be644" category="paragraph">プロンプトが表示されたら、 ONTAP 管理者アカウントに使用するパスワードを指定します。</block>
  <block id="1d8edcb67cffc7ed8d5c5ba0f36578b7" category="list-text">クラスタのステータスを表示して、導入が正常に完了したことを確認します。</block>
  <block id="e8cda75e7e5da3e0963e9bf30c7fe4c4" category="paragraph">cluster show -name clustername</block>
  <block id="a1b2fc65ee3382a95ecb29d66110e2ad" category="paragraph">ONTAP Select Deploy の設定データをバックアップする必要があります。</block>
  <block id="297413ed02fa3433b06a3824ddf5c4c8" category="summary">ONTAP Select の導入を計画する際に考慮する必要がある MetroCluster SDS の要件がいくつかあります。</block>
  <block id="ebb5c8612468796c18d71f7263ce2f4f" category="doc">MetroCluster SDS の導入準備をしています</block>
  <block id="f32f31f3f65cf8fd06f0af930a71a5a1" category="paragraph">MetroCluster SDS は、 2 ノード ONTAP Select クラスタを作成する際の構成オプションです。Remote Office / Branch Office （ ROBO ；リモートオフィス / ブランチオフィス）環境と似ていますが、 2 つのノード間の距離は最大で 10 km までです強化された 2 ノード環境では、さらにユースケースシナリオが追加されています。MetroCluster SDS の導入準備の一環として、要件と制限事項を理解しておく必要があります。</block>
  <block id="dc3b343f8493bde82e3e8299e83f6138" category="paragraph">MetroCluster SDS を導入する前に、次の要件を満たしていることを確認する必要があります。</block>
  <block id="b06ea299e97a88792e784ae5e265bc85" category="paragraph">各ノードに Premium 以上の ONTAP Select ライセンスが必要です。</block>
  <block id="5dd57c2a315d3af44c2eb40eefc47111" category="section-title">ネットワーク構成：</block>
  <block id="f2f4f127985b8989606d460ea282483e" category="paragraph">参加サイト間にはレイヤ 2 接続が必要です。10GbE と 1GbE の両方がサポートされ、以下の構成が含まれます。</block>
  <block id="e7fea67b35768c83fc1eee5ad2800c96" category="list-text">10GbE × 1</block>
  <block id="6d65990d18745957b36e9a7d3e937d03" category="list-text">1GbE × 4</block>
  <block id="b4e75c4079fb22b826131cbb4df746e8" category="admonition">データ提供ポートとインターコネクトポートは、最初に同じスイッチに接続する必要があります。</block>
  <block id="e259cf7b7f6dc1125a01404c7ae4049b" category="inline-link-macro">ネットワーキングの詳細</block>
  <block id="c24cd413ca409c1aa3382fc10d8705b2" category="paragraph">2 つのノード間のネットワークは、 5 ミリ秒の平均レイテンシと 5 ミリ秒の周期ジッターをサポートしている必要があります。クラスタを導入する前に、に記載されている手順 を使用してネットワークをテストする必要があります <block ref="6a6c3a35bed163956cd809e794515882" category="inline-link-macro-rx"></block> セクション。</block>
  <block id="9dec69cd17445dca33602d57b52d90c0" category="paragraph">すべての 2 ノード ONTAP Select クラスタと同様に、 Deploy 仮想マシンには独立したメディエーターサービスが用意されており、このサービスによってノードが監視され、障害の管理を支援します。MetroCluster SDS で利用可能な拡張距離により、ネットワークトポロジ内に 3 つの異なるサイトが作成されます。メディエーターとノードの間のリンクでのレイテンシは、ラウンドトリップ時間が 125 ミリ秒以下である必要があります。</block>
  <block id="36e88c478badf1187da17f454b8c332d" category="paragraph">直接接続型ストレージ（ DAS ）は、 HDD ディスクと SSD ディスクのどちらかを使用する構成でサポートされます。vNAS は、 VMware 環境での外付けストレージアレイや VSAN などもサポートされます。</block>
  <block id="d6c73b916c498a2010460cc1dcfffcbc" category="admonition">MetroCluster SDS を導入する場合、分散トポロジまたは「拡張」トポロジで VSAN を使用することはできません。</block>
  <block id="193036e83646828d4e1cd41104fdee82" category="paragraph">Deploy 管理ユーティリティに静的 IP アドレスを割り当てる必要があります。この要件は、 1 つ以上の ONTAP Select 2 ノードクラスタを管理する環境 All Deploy インスタンスです。</block>
  <block id="2e872cc50863e55fb4478e06d9231f07" category="summary">ONTAP Select Deploy 管理ユーティリティをインストールし、ユーティリティを使用して ONTAP Select クラスタを作成する必要があります。</block>
  <block id="28589a308ce2b6e2829dacabdabf7294" category="doc">ONTAP Select Deploy をインストールしています</block>
  <block id="9451ede3dcf8c6274c0874b432242b1d" category="section-title">仮想マシンイメージをダウンロードします</block>
  <block id="4457cc766e233dbf5bfec7006eded349" category="paragraph">ONTAP Select パッケージは、ネットアップサポートサイトからダウンロードできます。</block>
  <block id="428ed2a3ebb9fd9f1d5b11240dec37f3" category="paragraph">ONTAP Select Deploy 管理ユーティリティは、 Open Virtualization Format （ OVF ）標準に基づく仮想マシンとしてパッケージされています。単一の圧縮ファイルには 'ova' というサフィックスが付いています</block>
  <block id="97cb0dfea21cc934eab612152be86e44" category="list-text">Web ブラウザからネットアップサポートサイトにアクセスし、「 * Support Quick Links * 」をクリックします。</block>
  <block id="966c758e5fd0e52652aa5afbd8f22a24" category="list-text">[* Top Tasks] の下の [* Download Software* ] をクリックし、サインインします。</block>
  <block id="d687fa799cb928d61ab8f8c42c50439d" category="list-text">[ * 製品の検索 * ] をクリックします。</block>
  <block id="da5ed6f3275aa7228f65de977570f140" category="list-text">下にスクロールし、 * ONTAP Select * をクリックします。</block>
  <block id="49f3378bb78e3d9783ddf1d56b07097e" category="list-text">パッケージのリリースを選択します。</block>
  <block id="9bf3ac5f4cb6341117598df735958bdf" category="list-text">エンドユーザライセンス契約（ EULA ）を確認し、「 * 同意して続行」をクリックします。</block>
  <block id="a0ce89b8db68d7f3e4fb721f6bf6c751" category="list-text">適切なパッケージを選択してダウンロードし、必要に応じてすべてのプロンプトに応答します。</block>
  <block id="4ce7c1d0ecac9ee18490989135de7a8f" category="section-title">仮想マシンを導入します</block>
  <block id="24d390150f97fa124ebe58c6f7ce9bb7" category="paragraph">OVF 仮想マシンイメージを使用して、 ONTAP Select Deploy 仮想マシンをインストールおよび起動する必要があります。インストールプロセスの一環として、 DHCP または静的 IP 設定を使用するようにネットワークインターフェイスを設定する必要があります。</block>
  <block id="efcc2f6be3ed35ac69f6663f683772f3" category="paragraph">ONTAP Select Deploy 仮想マシンを導入するための準備を行う必要があります。</block>
  <block id="780f7110b279a0cc42242a48431ab5bd" category="list-text">VMware クライアント統合プラグインのインストールまたは同様の設定を必要に応じて実行し、 OVF 機能を有効にします</block>
  <block id="d90a4503eab4b7026ebe6aba8c703c74" category="list-text">IP アドレスを Deploy 仮想マシンに動的に割り当てる場合は、 VMware 環境で DHCP を有効にします</block>
  <block id="1e6b993975b8a4d8d71a33079ee2d29f" category="paragraph">仮想マシンの作成時に使用する設定情報を確認しておく必要があります。これには、仮想マシンの名前、外部ネットワーク、ホスト名などが含まれます。静的なネットワーク設定を定義する場合は、次の追加情報 が必要です。</block>
  <block id="a361c1b4cc67946dba724c8e11e34b6c" category="list-text">Deploy 仮想マシンの IP アドレス</block>
  <block id="536f68587c52377d3e98807b214c5de8" category="list-text">ネットマスク</block>
  <block id="e1abf8f6b13a06faf59bfd3d015dd968" category="list-text">ゲートウェイ（ルータ）の IP アドレス</block>
  <block id="2c314c81c686371026bc3a1b85287ead" category="list-text">プライマリ DNS サーバの IP アドレス</block>
  <block id="60c150c56022cbbbdd418bfab95c0aca" category="list-text">2 番目の DNS サーバの IP アドレス</block>
  <block id="44bd913515358cfa80f997ed9a93595a" category="list-text">DNS 検索ドメイン</block>
  <block id="1688aa16b2ed9891ff7408fdb7601d6c" category="paragraph">vSphere を使用する場合は、 Deploy OVF テンプレートウィザードのフォームを使用して、ネットワーク設定を含むすべての Deploy 設定情報を指定します。ただし、このフォームを使用しない場合は、 Deploy 仮想マシンのコンソールを使用してネットワークを設定してください。</block>
  <block id="c7b5afc9e76543d6c823b8732fde22cc" category="list-text">階層内の適切な場所に移動し、 [Deploy OVF Template* （ OVF テンプレートの展開） ] を選択します。</block>
  <block id="3186b86d87a207cefd5620929256fbd0" category="list-text">OVA ファイルを選択し、 Deploy OVF Template ウィザードを実行して、環境に適したオプションを選択します。</block>
  <block id="c400d3339e8bc65ccc2657e3aee763be" category="paragraph">管理者アカウントのパスワードを定義する必要があります。Deploy ユーティリティへのサインインの際に、このパスワードを指定する必要があります。</block>
  <block id="fdabddcc10375307fc57be0ace787d74" category="list-text">仮想マシンの導入後、新しい仮想マシンを選択し、導入ウィザードでの入力に基づいて仮想マシンの電源がオンになっていない場合はオンにします。</block>
  <block id="fb7911e9c533d9bc97f61d5bde375393" category="list-text">必要に応じて、仮想マシンコンソールを使用して Deploy ネットワークを設定できます。</block>
  <block id="1d7370ec51f294f5948f3cc2550b812a" category="list-text">コンソール * タブをクリックして ESXi ホストのセットアップ・シェルにアクセスし、電源投入プロセスを監視します。</block>
  <block id="4b6e5972b38c860adc515c05d7100df8" category="list-text">次のプロンプトが表示されるまで待ちます。</block>
  <block id="08dc93d24cbfbbfd880b1bb1ccc94728" category="paragraph">ホスト名：</block>
  <block id="be35756ada0a94e987f82992b890a61a" category="list-text">ホスト名を入力し、 *Enter* キーを押します。</block>
  <block id="5dec15fd66f38dfa6fb5e836e0dcb61a" category="paragraph">admin ユーザのパスワードを指定します。</block>
  <block id="8a356d5d6d9521b33479b519cca56a90" category="list-text">パスワードを入力し、 *Enter* キーを押します。</block>
  <block id="c5d6ff59e8e5595e5fc323f4237b333c" category="paragraph">DHCP を使用してネットワーク情報を設定しますか？[n] ：</block>
  <block id="4c2427d11d6824d2270f4f66eaa29805" category="list-text">静的 IP 設定を定義するには *n* を、 DHCP を使用するには y を入力して *Enter* キーを押します。</block>
  <block id="79a72de3f5191386741777dd0441f591" category="list-text">静的な設定を選択した場合は、必要に応じてすべてのネットワーク設定情報を指定します。</block>
  <block id="9a51bd26983db2f29b85944ae1a3fd6e" category="section-title">Deploy の Web インターフェイスへのサインイン</block>
  <block id="887ee30caedf2bee91979565f5ddf01e" category="paragraph">Web ユーザインターフェイスにサインインして、 Deploy ユーティリティが使用可能であることを確認し、初期設定を実行する必要があります。</block>
  <block id="32be4d152f2326423c990dde583d8768" category="list-text">ブラウザで IP アドレスまたはドメイン名を使用して、 Deploy ユーティリティにアクセスします。</block>
  <block id="cc0e719d3ebda123b94502d26d56a7eb" category="paragraph">https://&lt;ip_address&gt;/` にアクセスします</block>
  <block id="533f8108cde4f7f1af2f1fb435cc4710" category="list-text">管理者（ admin ）アカウント名とパスワードを入力し、サインインします。</block>
  <block id="001ba89c3853493a35f9ab59f150b2d6" category="list-text">[* ONTAP Select へようこそ * （ Welcome to * ） ] ポップアップウィンドウが表示された場合は、前提条件を確認し、 [OK] をクリックして続行します。</block>
  <block id="1d2215b67b18c63fb1146b841d364f01" category="list-text">初めてサインインしたときに、 vCenter で使用できるウィザードを使用して Deploy をインストールしなかった場合は、プロンプトが表示されたら次の設定情報を入力します。</block>
  <block id="f6c0536935d8c4b9da68277e49781b74" category="list-text">管理者アカウントの新しいパスワード（必須）</block>
  <block id="0dd298d83de1b2c4259299d711cefb70" category="list-text">AutoSupport （オプション）</block>
  <block id="3b08ef3085886d9469e1dc839034e127" category="list-text">アカウントのクレデンシャルを使用する vCenter Server （オプション）</block>
  <block id="35419898b2548b1eea69cc5ad3311fe7" category="inline-link-macro">SSH を使用した Deploy へのサインイン</block>
  <block id="369d560542f16370e510b0c24cecad7a" category="paragraph"><block ref="369d560542f16370e510b0c24cecad7a" category="inline-link-macro-rx"></block></block>
  <block id="2c01dc050e34473d6fd4829a0c9dfc67" category="summary">VMware 環境への ONTAP Select クラスタの導入準備の一環として、 ONTAP Select Deploy 管理ユーティリティを使用してクラスタを導入および設定する際に必要な情報を収集してください。</block>
  <block id="0a7c0383d497ed0eca1445bad04e443d" category="doc">ONTAP Select のインストールに必要な情報</block>
  <block id="60babef3f829c4ee764e1a15dc60db72" category="paragraph">環境 でクラスタ自体を収集する情報と、クラスタ内の個々のノードを環境 する情報があります。</block>
  <block id="dba211fd4fd9188c46772180af2767e5" category="section-title">クラスタレベルの情報</block>
  <block id="ed1b3788bf1e576d7312a37d9044ec1e" category="paragraph">ONTAP Select クラスタに関連する情報を収集する必要があります。</block>
  <block id="c7cd46eac48a4e19439c12441847b8d2" category="cell">クラスタ情報</block>
  <block id="b200a5104258672c2e641162485d0a63" category="cell">クラスタの名前</block>
  <block id="05d8127a43debef58bb810bac58cb411" category="cell">クラスタの一意の識別子。</block>
  <block id="8bfe389c10912b436556a1b478800ac7" category="cell">ライセンスモード</block>
  <block id="d185a0a0a4a9aaf4499a55a65389e62f" category="cell">評価用ライセンスまたは購入ライセンス。</block>
  <block id="cbeee9ea41835faeb0bd0853fa1ad64c" category="cell">クラスタの IP 設定</block>
  <block id="db143f7c378d8392ee000046ce29592b" category="cell">クラスタとノードの IP 設定。クラスタの管理 IP アドレス * サブネットマスク * デフォルトゲートウェイなど</block>
  <block id="358fe5edb7d6b5a0d4717f2684e05eda" category="section-title">ホストレベルの情報</block>
  <block id="255e86978cfe71aca011a71a31b60075" category="paragraph">ONTAP Select クラスタ内の各ノードに関連する情報を収集する必要があります。</block>
  <block id="f94ecb77fe8353d1d1957c2bc955ece1" category="cell">ホストの名前</block>
  <block id="9bbc47bfd7e326a3372ecfa464c801c5" category="cell">ホストの一意の識別子。</block>
  <block id="7725eaf3101f8bb2348ea7e70ba5a341" category="cell">ホストのドメイン名</block>
  <block id="fe83ffe26f9c480ccc2ea7f91d6a7bba" category="cell">ホストの完全修飾ドメイン名。</block>
  <block id="e71533835ec7903eea29ef4838d52e37" category="cell">ノードの IP 設定</block>
  <block id="eaf4d398a85a468479889bc1482e48c9" category="cell">クラスタ内の各ノードの管理 IP アドレス。</block>
  <block id="3b312bce0867598aa4c6d1d1410eb43c" category="cell">ミラーノード</block>
  <block id="ba826ef6fdab9e900b89a78a3e6d3217" category="cell">HA ペア内の関連付けられているノードの名前（マルチノードクラスタの場合のみ）。</block>
  <block id="40cf615dcacf5ec5faf6a3cdf1ff5a6e" category="cell">ストレージプール</block>
  <block id="7ac23fb68c9d6e46e3000e951496fc1b" category="cell">使用されるストレージプールの名前。</block>
  <block id="705d58eba6718feeb523595fb187883f" category="cell">ストレージディスク</block>
  <block id="83925709304ec5c45da3b341d5dc31b6" category="cell">ソフトウェア RAID を使用している場合のディスクのリスト。</block>
  <block id="3460276ef9eb483d13aa31b870077a0d" category="cell">シリアル番号</block>
  <block id="399660f543f1ae6a146da953a58688ab" category="cell">購入ライセンスを使用して導入を行う場合にネットアップから提供される一意の 9 桁のシリアル番号。</block>
  <block id="e3aafbe75cf96d5cff1980293a390948" category="section-title">ONTAP Select クラスタのオフライン状態とオンライン状態の切り替え</block>
  <block id="c751e53f249ee0116e0b9066fb94001d" category="paragraph">クラスタを作成したら、必要に応じてクラスタのステータスをオフラインまたはオンラインに変更できます。</block>
  <block id="4154d052b09c96b480cd7779551a33e8" category="list-text">[* グローバルインベントリリスト * （ Global Inventory Lists * ） ] ペインで [* ONTAP Select Clusters] をクリックします。</block>
  <block id="439347f35d25038c54a659f1881f7c1a" category="list-text">使用可能な操作を表示するには、目的のクラスタを右クリックします。</block>
  <block id="e3859870d86ae0269ef43519a4d016d3" category="list-text">必要に応じて、 [ オフラインにする ] または [ オンラインにする ] をクリックし、 [ はい ] をクリックしてリクエストを確定します。</block>
  <block id="c3722c0407afdd19e438f93c7a6bfbdc" category="list-text">[ クラスタの削除 ] をクリックし、 [ はい ] をクリックして要求を確定します。</block>
  <block id="05a944109177d24696566c9b094c3cc5" category="summary">サンプルの Python スクリプトを使用すると、いくつかの異なるタスクを実行できます。スクリプトをライブ Deploy インスタンスで使用する前に、それらのスクリプトについて理解しておく必要があります。</block>
  <block id="e6caa9a55714d201516e10a93a7e9d64" category="doc">Python スクリプトについて</block>
  <block id="8fc0fb4eef277848c570c591691188e6" category="section-title">共通の設計特性</block>
  <block id="0028192ee8f3f6bc6aed28f75fb9a5bd" category="paragraph">スクリプトは、次の一般的な特性で設計されています。</block>
  <block id="337c832af1ed0854a555bf401ea03da3" category="list-text">クライアントマシンでコマンドラインインターフェイスから実行する適切に設定された任意のクライアントマシンから Python スクリプトを実行できます。詳細については、を参照してください。</block>
  <block id="16fcf7d828f89cae499858153709ba01" category="list-text">CLI 入力パラメータの受け入れ各スクリプトは、入力パラメータを使用して CLI で制御されます。</block>
  <block id="70ded4f8c0a7dd154915aa44e35d916d" category="list-text">読み取り入力ファイル各スクリプトは、その目的に基づいて入力ファイルを読み取ります。クラスタを作成または削除する場合は、 JSON 構成ファイルを指定する必要があります。ノードライセンスを追加する場合は、有効なライセンスファイルを指定する必要があります。</block>
  <block id="f71bd299279ae929e22ae20c531b3f74" category="list-text">共通サポートモジュールを使用共通サポートモジュール _deploy_requests_py_contains a single classインポートされ、各スクリプトで使用されます。</block>
  <block id="b64e2f96d46281df4a5271bb1d831855" category="section-title">クラスタを作成</block>
  <block id="760f03544eb4b2b91f56abddab79a76a" category="paragraph">スクリプト cluster.py を使用して、 ONTAP Select クラスタを作成できます。JSON 入力ファイルの CLI パラメータと内容に基づいて、次のようにスクリプトを導入環境に変更できます。</block>
  <block id="cedae47753ff0de17bdaf98b12774e30" category="list-text">クラスタサイズ：シングルノードクラスタまたはマルチノードクラスタを導入できます。</block>
  <block id="d27666ce040cf738c8c777bc858da479" category="list-text">評価用ライセンスまたは本番用ライセンス：本番環境用の評価用ライセンスまたは購入ライセンスを使用してクラスタを導入できます。</block>
  <block id="acc90e8d6f746df313ee42d6b4de8519" category="paragraph">スクリプトの CLI 入力パラメータは次のとおりです。</block>
  <block id="abd26b080effe6080b2d4829ce5afd4f" category="list-text">Deploy サーバのホスト名または IP アドレス</block>
  <block id="ea3b95268bc57b07da837e6ec0145df3" category="list-text">admin ユーザアカウントのパスワード</block>
  <block id="b415b18913d550b49ff737398193ebf6" category="list-text">JSON 構成ファイルの名前</block>
  <block id="876f8a8700cd2a590dc0319189a55908" category="list-text">メッセージ出力の詳細フラグ</block>
  <block id="29f5a082ae232dbd76f3c5e2437ee074" category="section-title">ノードライセンスを追加する</block>
  <block id="f4908695673fd32001746691d3311733" category="paragraph">本番環境クラスタの導入を選択した場合は、 script_add_license.py__ を使用して各ノードのライセンスを追加する必要があります。ライセンスはクラスタの導入前または導入後に追加できます。</block>
  <block id="cd105befbddbd76f4592c5b512aa0314" category="list-text">ライセンスファイルの名前</block>
  <block id="215de3e5f96b8c1af251af4fe73048a7" category="list-text">ライセンスを追加するための権限を持つ ONTAP ユーザ名</block>
  <block id="cb82d6b5d827c4174c5d988710af4fe5" category="list-text">ONTAP ユーザのパスワード</block>
  <block id="0c66b66d04210cb58e6d1162e73ce50c" category="section-title">クラスタを削除する</block>
  <block id="6ee704534d0c8e37fdbab37fa7c81db3" category="paragraph">既存の ONTAP Select クラスタは、 script_delete_cluster.py _ を使用して削除できます。</block>
  <block id="e4bd755214153474324cb3c791d0988e" category="summary">ONTAP Select が組織に適していることを確認したら、本番環境の導入に必要なライセンスを購入できます。各環境の容量階層または容量プールのライセンスモデルとストレージ容量を選択する必要があります。</block>
  <block id="234785d9563681501558a56194d2bf2d" category="doc">本番環境用の購入ライセンス</block>
  <block id="3c868759d0863801160ccec7f31cd26a" category="section-title">一般的なライセンス特性</block>
  <block id="5f878954b0c63a957a4fca43d50b03b3" category="paragraph">容量階層と容量プールライセンスのモデルは、いくつかの点で大きく異なります。ただし、 2 つのライセンスモデルには次のような共通の特徴があります。</block>
  <block id="1e27a8e66b6c9b86c6097d597ad1aae5" category="list-text">本番環境に ONTAP Select を導入する場合は、必要に応じて 1 つ以上のライセンスを購入する必要があります。</block>
  <block id="15dffe620a63cf36cf7950870eb1dd7f" category="list-text">ライセンスのストレージ容量は、 1TB 単位で割り当てられます。</block>
  <block id="e87c2d5c68d6bca7e5d00d0f9ba86e6c" category="list-text">ストレージ容量は物理容量を示し、 ONTAP Select 仮想マシンで使用可能なデータディスクの合計許容サイズに対応します。</block>
  <block id="c98b46f8b9fcca6b35bccabe1a7939b7" category="list-text">すべてのプラットフォームライセンスサービスがサポートされています（ Standard 、 Premium 、 Premium XL ）。</block>
  <block id="4632083daa344ec3c92f758f314a63af" category="list-text">必要なライセンスの取得時は、必要に応じてネットアップのアカウントチームまたはパートナーにお問い合わせください。</block>
  <block id="3a93f9d290128a72adef573e6ada3782" category="list-text">ライセンスファイルを Deploy の管理ユーティリティにアップロードする必要があります。これにより、ライセンスモデルに基づいてライセンスが適用されます。</block>
  <block id="c84d0d15d89203b240d22009f0e21410" category="list-text">ライセンスのインストールと適用が完了したら、ネットアップのアカウントチームまたはパートナーに連絡して更新したライセンスを調達し、容量を追加することができます。</block>
  <block id="a3263397bbc31693f6873997c36fe75d" category="list-text">HA ペア内の両方のノードのストレージ容量とライセンス容量は同じであることが必要です。</block>
  <block id="d86f9ceaae5a2db2c1aefdb22d547e86" category="list-text">最初に購入ライセンスを使用して導入した ONTAP Select ノードを評価用ライセンスに変換することはできません。</block>
  <block id="f9e76b1ce7aec73ae826282e626e80ed" category="section-title">容量階層のライセンスモデル</block>
  <block id="07d2c59cd8b3d442f434212582fce4bc" category="paragraph">容量階層のライセンスモデルには、次のような特徴があります。</block>
  <block id="871e597c4ae832351177624116bba41c" category="list-text">ONTAP Select ノードごとにライセンスを購入する必要があります。</block>
  <block id="13bcda60ca431e945b05ba49704703a7" category="list-text">購入可能な最小容量は 1TB です。</block>
  <block id="171f2b7f54fcb35f8671d5a99f59cf4c" category="list-text">各大容量階層ライセンスにはストレージ容量が含まれており、特定のノードにロックされています。</block>
  <block id="41a121513d59eed4db3a4c7f1fc6d0ba" category="list-text">ネットアップが各 ONTAP Select ノードに対して 9 桁のライセンスシリアル番号を生成します。</block>
  <block id="b7fb304e7a779889262a8b4612155a54" category="list-text">ノードに割り当てられたストレージは永続的なものです（更新は不要）。</block>
  <block id="a1039017542e538bd9f244ed701a0b65" category="list-text">ノードのシリアル番号は 9 桁で、ライセンスのシリアル番号と同じです。</block>
  <block id="d9e741d943a65e9ffbf3b085cb693ee3" category="list-text">ライセンスファイルは、クラスタの導入時、またはクラスタの作成後 30 日以内に適用できます。</block>
  <block id="f06bc89da14b727a7173d325c2f414f2" category="section-title">容量プールのライセンスモデル</block>
  <block id="d7ca8d1fad156c6e5fcd9a56e10d2455" category="paragraph">容量プールのライセンスモデルには、次のような特徴があります。</block>
  <block id="cbdbae6aeb6edf0b767c6aa5e5e98d07" category="list-text">共有容量プールごとにライセンスを購入する必要があります。</block>
  <block id="cb58a864ca9b83c561396808328e023e" category="list-text">購入可能な最小容量は 2TB です。</block>
  <block id="0d728590b1ea6bc8ad55fef75c463c29" category="list-text">各容量プールライセンスにはストレージ容量があり、特定の License Manager インスタンスにロックされています。</block>
  <block id="1bcb44fe448d5052f21974775c2594bf" category="list-text">ネットアップは、容量プールごとに 9 桁のライセンスシリアル番号を生成します。</block>
  <block id="06b92373d44bb688094b05df7cf1ff8e" category="list-text">容量プールに割り当てられたストレージは、購入時に一定期間のみ有効です（更新が必要）。</block>
  <block id="03aef2179b374f799679e6b0d6c70010" category="list-text">ノードのシリアル番号は 20 桁で、容量プールライセンスのシリアル番号に基づいて License Manager によって生成されます。</block>
  <block id="a6483e971a591957efb5493b5bb42291" category="list-text">各ノードは、ローカルデータアグリゲートのストレージ容量を共有容量プールから自動的にリースします。</block>
  <block id="4f1b3cd9fba2e292ff3f1a184f8331f0" category="paragraph">容量プールのライセンスモデルの詳細については、 _Capacity pools licensing model_ を参照してください。</block>
  <block id="ef063895a1ede73693b222ec3a2f0a63" category="summary">最適なハードウェアを選択し、パフォーマンスと耐障害性を最適化するようにネットワークを設定します。</block>
  <block id="2e9a99934aaba2c5ae48b142fa347861" category="doc">サポートされるネットワーク構成</block>
  <block id="3ad46bc4202506ae104cdd08943bdf18" category="paragraph">サーバベンダーは、お客様にさまざまなニーズがあり、選択の自由が重要であることを理解しています。そのため、物理サーバを購入する際には、ネットワーク接続を決定する際に使用できるオプションが多数あります。ほとんどのコモディティシステムでは NIC についてさまざまな選択肢が用意されており、速度とスループットの多様な組み合わせの中から、シングルポートとマルチポートのオプションを選択できます。ONTAP Select 9.8 以降では、 VMware ESX で 25Gb/s および 40Gb/s NIC アダプタがサポートされます。</block>
  <block id="1ff04d941ae1b8262465779276105e05" category="paragraph">ONTAP Select VM のパフォーマンスは基盤のハードウェアの特性に直接左右されるため、高速の NIC を選択して VM へのスループットを高めると、クラスタのパフォーマンスと全体的なユーザエクスペリエンスが向上します。4 つの 10Gb NIC または 2 つの高速 NIC （ 25/40Gb/ 秒）を使用すると、ハイパフォーマンスなネットワークレイアウトを実現できます。他にも、サポートされる構成がいくつかあります。2 ノードクラスタの場合は、 4 × 1Gb ポートまたは 1 × 10Gb ポートがサポートされます。シングルノードクラスタの場合は、 2 × 1Gb ポートがサポートされます。</block>
  <block id="68a547a08a3ebb293924c580b641ce65" category="paragraph">* ネットワークの最小構成と推奨構成 *</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="cell"></block>
  <block id="523bd57fcc837e7be7bc3b0cd4b52afa" category="cell">最小要件</block>
  <block id="976b2628d60825feb0397b7cb29e1ab5" category="inline-image-macro">複数の物理スイッチを使用するネットワーク構成</block>
  <block id="d08307744845f9100511e47ff88bc61a" category="paragraph"><block ref="d08307744845f9100511e47ff88bc61a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bb3e372088c34ecc97b747d050480dd5" category="summary">Deploy vCenter プラグインのインストールと管理には、いくつかの作業が必要です。</block>
  <block id="f910ba58d516525e726e115e76febaed" category="section-title">Deploy の Web ユーザインターフェイスと CLI のどちらを使用するかの判断</block>
  <block id="7a4501a79d76efb07b5b457970c2db39" category="paragraph">ほとんどの場合、 Deploy の Web ユーザインターフェイスは vCenter プラグインを管理する際の最も便利なオプションです。これは、このガイドで説明するオプションです。ただし、 Deploy のコマンドラインインターフェイスを使用してプラグインを管理することもできます。詳細については、 Deploy CLI プロンプトで次のコマンドを入力します。</block>
  <block id="dffb50f47cb6e5e37a1f974dca2646c3" category="list-text">「プラグインを配備しますか ? （サブコマンドには、 install 、 remove 、 show 、および update があります）。</block>
  <block id="7637ed1ec3650c1645cc1b4c399e0b5c" category="list-text">「 deploy plugin-packages show 」を参照してください</block>
  <block id="d822a3cfdd6d0d21d8c1e1c87d73f29c" category="section-title">すべての管理タスクに共通する準備</block>
  <block id="5e49bd12c746175eab277647b74bd0ec" category="paragraph">管理タスクに関係なく、いくつかの手順を実行する必要があります。一般的な準備作業は次のとおりです。</block>
  <block id="ca5cc44d785457327f43fd7a63fb8c25" category="list-text">『 Deploy vCenter Plug-in の概要』のセクションをお読みください。</block>
  <block id="8954d398ec6c0a5a2af1894d66b9af18" category="list-text">ONTAP Select Deploy 管理ユーティリティがインストールおよび実行されていることを確認します。詳細については、『 Installation and Cluster Deployment Guide for VMware 』を参照してください。</block>
  <block id="c7c8b19bd4e92dddaf5d5212b7596a1f" category="list-text">アカウントのクレデンシャルを取得します。</block>
  <block id="dfad1810ee341fc0e3390f8a95d4b3a6" category="list-text">vCenter Server アカウント</block>
  <block id="6fbac5f8687983833e24985ff8144942" category="list-text">Deploy ユーティリティが vCenter サーバでポート 443 へのネットワークアクセスを許可するようにしてください。</block>
  <block id="8ed98bbaaf7433ee555e43d81d22c35e" category="paragraph">管理タスクによっては、追加の準備が必要になる場合があります。</block>
  <block id="621b136c70c0ca979319b330e6c7c271" category="section-title">vCenter Server アカウントの準備</block>
  <block id="07cc4cd11957fa1ad1a2fe491184cb95" category="paragraph">Deploy プラグインをインストールして使用する前に、必要な権限を持つ vCenter アカウントを作成する必要があります。必要な権限をすべて含むアカウントを 1 つ作成することも、 1 つの権限で複数のアカウントを作成することもできます。次の例では、 vCenter 権限を 3 つの個別のロールに分散し、 3 つのアカウントに割り当てることができます。</block>
  <block id="9a60ece3a29908f19b3ed705f9e60ce5" category="section-title">プラグインへのエンドユーザアクセスを検証しています</block>
  <block id="1a87f899b43ce646543ac823cf0a205f" category="paragraph">vSphere を使用したプラグインへのアクセスを検証するには、アカウントが必要です。このアカウントには、次の vCenter 権限が必要です。 sessions.validate.sessionvCenter でアカウントを作成したら、 Deploy 管理ユーティリティに対して定義する必要があります。Deploy の Web ユーザインターフェイスで、の管理タブをクリックし、クレデンシャルを入力して、 vCenter サーバの場所とクレデンシャルを指定します。</block>
  <block id="a8852fce8ebcf6f571d1877949514730" category="paragraph">このアカウントは、次の方法で使用されます。</block>
  <block id="bef62ec596316b536a1f76cd2afac1f4" category="list-text">指定した vCenter Server がプラグインの登録ダイアログウィンドウのインストールターゲットとして使用できるようになります。</block>
  <block id="836db6548ea7587e109df20e1e9215ed" category="list-text">このアカウントは、 Deploy でプラグインのインストール後に vSphere ユーザがプラグインにアクセスする要求を検証するために使用されます。</block>
  <block id="2421acaae0050ed5a313e266b6f73fb5" category="section-title">プラグインの管理</block>
  <block id="bfacdbe7ad593670e1379d0c0352e559" category="paragraph">Deploy の Web ユーザインターフェイスでは、プラグインをインストールしてアップグレードまたは削除できます。これらの管理操作のいずれかを実行するたびに、ポップアップウィンドウに vCenter アカウントを入力するように求められます。各管理操作は、個別の vCenter 権限で制御されます。</block>
  <block id="ea7ca3bbe75fcf74b28a092e916b9f60" category="paragraph">プラグインをインストール、アップグレード、および削除するには、次の権限を割り当てる必要があります。</block>
  <block id="63e4e92bb7d207ca577b11c07f827279" category="list-text">内線番号</block>
  <block id="6909b7861a457a8f46247a8fe3744ff1" category="list-text">拡張機能を登録します</block>
  <block id="866e95688b1cd31ff497f09a4e1bfa5e" category="list-text">拡張機能を更新します</block>
  <block id="258c59837f320fda57406f2237c1e703" category="list-text">拡張機能を登録解除します</block>
  <block id="46cb33733e2dbd34470e2479eaa766a7" category="paragraph">3 つの権限をすべて設定して 1 つのロールとアカウントを作成することも、必要に応じて複数のアカウントに分割して権限を割り当てることもできます。</block>
  <block id="f4c05295670186cf67b8831ae2f132a0" category="section-title">プラグインへのアクセス</block>
  <block id="acd3e8179854ca3a2619fe5afd11bc7b" category="paragraph">エンドユーザは vSphere からプラグインにアクセスできます。プラグインを使用するアカウントには、次の権限を割り当てる必要があります。</block>
  <block id="cfaa375bf6c7f9fcc1bc04d4f30c9154" category="list-text">ネットアップ</block>
  <block id="08d1c57d45bcff14c58392590a05adf4" category="list-text">ONTAP Select 導入</block>
  <block id="7b7bc2512ee1fedcd76bdc68926d4f7b" category="list-text">管理者</block>
  <block id="0fffbf1f49b9c37a392538cc2cb48383" category="summary">次のスクリプトを使用して、 ONTAP Select ノードのライセンスを追加できます。</block>
  <block id="2bf177abb469873688866ee6cceff120" category="doc">ノードライセンスを追加するスクリプト</block>
  <block id="94c8034605d41dd846d36c99c7168f29" category="summary">Representational State Transfer （ REST ）は、分散 Web アプリケーションの作成に使用される形式です。Web サービス API の設計においては、サーバベースのリソースを公開してその状態を管理するための一連のテクノロジとベストプラクティスが確立されます。主流のプロトコルと標準が使用されており、 ONTAP Select クラスタの導入と管理のための柔軟な基盤が提供されます。</block>
  <block id="8ed6428212b41847f33c5db651c2aa70" category="doc">基盤としての REST Web サービス</block>
  <block id="7f5099080bd152e508b14b6ceb0c89d7" category="section-title">アーキテクチャと従来の制約</block>
  <block id="e9c4f861f257833ba2ec75155047b6ed" category="inline-link">失策</block>
  <block id="f78efbd200eb44aed2f36fb9546571b4" category="paragraph">残りは、博士号の Roy Fielding によって正式にまとめられました<block ref="569de733b44a9b461d00c6c9f5f028ce" category="inline-link-rx"></block> 2000 年に UC アーバインにて。アーキテクチャスタイルは、一連の制約によって定義されます。これらの制約は、全体的に Web ベースのアプリケーションと基盤となるプロトコルを改善します。制約は、ステートレス通信プロトコルを使用するクライアント / サーバアーキテクチャに基づいて、 RESTful Web サービスアプリケーションを確立するものです。</block>
  <block id="b0fcdfb2c58efafaace08609d3e95f6d" category="section-title">リソースと状態の表示</block>
  <block id="d2d07b32aecf22c6a25dc91e4b898e5e" category="paragraph">リソースは、 Web ベースシステムの基本コンポーネントです。REST Web サービスアプリケーションを作成する場合、設計の早い段階で次の作業を行います。</block>
  <block id="d9d29bf529ed8529ca9bcead9f324365" category="list-text">すべてのシステムが使用するシステムまたはサーバベースのリソースを識別し、リソースを維持します。リソースには、ファイル、ビジネストランザクション、プロセス、管理エンティティなどがあります。REST Web サービスに基づいてアプリケーションを設計する際に行う最初の作業の 1 つは、リソースを識別することです。</block>
  <block id="8cd37a7166c37e6c94f6ceb0d94a1e47" category="list-text">リソースの状態の定義と関連する状態処理リソースは、常に有限数の状態のいずれかになります。状態、および状態の変化に影響する関連操作を明確に定義する必要があります。</block>
  <block id="513c805ed6e1b2d8996759a45cedb336" category="paragraph">クライアントとサーバの間でメッセージを交換しながら、一般的な CRUD （ Create 、 Read 、 Update 、 Delete ）モデルに従ってリソースにアクセスしてその状態を変更します。</block>
  <block id="6e9ee433459bf14a5380c1e7371232a9" category="section-title">URI エンドポイント</block>
  <block id="f0c290bcbbd76779df6da71beda58c5b" category="paragraph">すべての REST リソースは、明確に定義されたアドレス指定方式を使用して定義および使用可能にする必要があります。リソースが置かれているエンドポイントは、 Uniform Resource Identifier （ URI ）で識別されます。URI は、ネットワーク内の各リソースに一意の名前を作成するための一般的なフレームワークです。Uniform Resource Locator （ URL ）は、リソースを識別してアクセスするために Web サービスで使用される URI の一種です。リソースは通常、ファイルディレクトリに似た階層構造で公開されます。</block>
  <block id="34d23bd6dd51b3238872241264de74bf" category="section-title">HTTP メッセージ</block>
  <block id="472fe5bcb86c13a7cc782d4ce81f4ee0" category="paragraph">Hypertext Transfer Protocol （ HTTP ）は、 Web サービスのクライアントとサーバがリソースに関する要求と応答のメッセージを交換する際に使用するプロトコルです。Web サービスアプリケーションの設計の一環として、 HTTP 動詞（ GET や POST など）はリソースおよび対応する状態管理アクションにマッピングされます。</block>
  <block id="9ec29eda5e10e645cd480c04aa307182" category="paragraph">HTTP はステートレスです。したがって、関連する一連の要求と応答を 1 つのトランザクションで関連付けるには、要求 / 応答のデータフローで伝送される HTTP ヘッダーに追加情報 を含める必要があります。</block>
  <block id="bd4c8bbdccbcb7826a3bc4ae421c0604" category="section-title">JSON 形式</block>
  <block id="468b57dfd1e1664618873551b4d6ab01" category="paragraph">クライアントとサーバの間で情報を構造化して転送する方法は複数ありますが、最も広く使用されている方法（ Deploy REST API で使用）は JavaScript Object Notation （ JSON ）です。JSON は、単純なデータ構造をプレーンテキストで表すための業界標準であり、リソースについての状態情報の転送に使用されます。</block>
  <block id="28b9f30c7414e6259d92ab5a236f3b94" category="summary">内部クラスタネットワーク上にある 2 つ以上の ONTAP Select ノード間のネットワーク接続をテストできます。通常は、マルチノードクラスタの導入前にこのテストを実行して、原因 で処理が失敗する可能性のある問題を検出します。</block>
  <block id="ad302ee15c3654ff2341a130d6f2ef1d" category="doc">ONTAP Select ノード間の接続を確認します</block>
  <block id="5f47ba8ca8ef153067865d84e604898c" category="paragraph">テストに含まれるすべての ONTAP Select ノードを設定し、電源をオンにする必要があります。</block>
  <block id="aa19db9725c19062530071e955bf0ff5" category="paragraph">テストを開始するたびに、新しいプロセスがバックグラウンドで作成され、一意の実行識別子が割り当てられます。一度にアクティブにできるランは 1 つだけです。</block>
  <block id="c0dbf326273ddd678fd895913cfd5eda" category="paragraph">テストには、次の 2 つのモードがあります。</block>
  <block id="db9204729f08cb4385393fe5893b923a" category="list-text">Quick このモードは、基本的な無停止テストを実行します。ping テストが、ネットワークの MTU サイズと vSwitch のテストとともに実行されます。</block>
  <block id="77dbd78cf02f80eed5e827a38e313d88" category="list-text">Extended このモードでは、すべての冗長ネットワークパスでより包括的なテストが実行されます。アクティブな ONTAP Select クラスタでこのテストを実行すると、クラスタのパフォーマンスに影響する可能性があります。</block>
  <block id="fff2cd3088a57b7ead920c3c47a6346c" category="admonition">マルチノードクラスタを作成する前には、必ずクイックテストを実行することを推奨します。クイックテストが正常に完了したら、本番環境の要件に基づいて拡張テストを実行することもできます。</block>
  <block id="ef56942a9b652a5b39e1b0dad6f37fa8" category="list-text">ページ上部の * 管理 * タブをクリックし、 * ネットワークチェッカー * をクリックします。</block>
  <block id="f2f353da1661ba94dcbb3269b7980ee0" category="list-text">Start New Run * をクリックして、 HA ペアのホストとネットワークを選択します</block>
  <block id="0b30e81c88d5ec27b841310a84373595" category="paragraph">必要に応じて、 HA ペアを追加および設定できます。</block>
  <block id="5f81c29f30b61204b5999a7d3c42704f" category="list-text">[ * スタート * ] をクリックして、ネットワーク接続テストを開始します。</block>
  <block id="24fa74de44173e480cb9c7c659df9e07" category="summary">ネットワークのいくつかの側面を探索して表示できます。</block>
  <block id="63666069c5690c34701ba07f78dcae63" category="doc">ネットワーク接続を確認しています</block>
  <block id="f6b40edb5bd7c1c1d636b5d923c1e116" category="paragraph">内部クラスタネットワーク上にある 2 つ以上の ONTAP Select ノード間のネットワーク接続をテストできます。通常、このテストはマルチノードクラスタの導入前に実行して、原因 で処理が失敗する可能性のある問題を検出する必要があります。また、クラスタを導入してオンラインにしたあとに接続テストを実行することもできます。</block>
  <block id="5a37ccbdd9021d8b308837eb2278d233" category="paragraph">テストを開始するたびに、新しいプロセスがバックグラウンドで作成され、一意の実行識別子が割り当てられます。一度にアクティブにできるランは 1 つだけです。</block>
  <block id="f722dc1f81d6ffe95b2e52989e393e77" category="paragraph">このテストは常にクイックモードで実行され、基本的な無停止テストが実行されます。ping テストが、ネットワークの MTU サイズと vSwitch のテストとともに実行されます。</block>
  <block id="07fc995b63df59b40bca4f2da3ead4a0" category="list-text">[ * ネットワーク * ] オプションを展開し、 [ * 接続性チェッカー * ] をクリックします。</block>
  <block id="8d627a45a765b31616e2aeb4a95a729d" category="list-text">Run New * をクリックして、テストを開始します。</block>
  <block id="f457231cf7856f9bd04539e55264da5c" category="list-text">必要に応じて、 * Filtering * をクリックして、表示されるテストの詳細を制限するフィルタを作成します。</block>
  <block id="cfd68cc23d6b00a33d0a159f50e4fdf6" category="paragraph">各 ONTAP Select 2 ノードクラスタはメディエーターサービスによって監視されます。このサービスは、ノードで共有する HA 機能の管理を支援します。Deploy 管理ユーティリティで定義されている各 2 ノードクラスタのメディエーターサービスのステータスを表示できます。</block>
  <block id="7a17867aab988138e8d0b3ec3433ef6d" category="paragraph">次のような各メディエーターの設定を表示できます。</block>
  <block id="f9134937ba5da4d91eead723aee72481" category="list-text">現在のステータス</block>
  <block id="03cb0dbb134453fff5b17e745671e1b6" category="list-text">ONTAP Select ノード × 2</block>
  <block id="f37e78fb64b5fc16881d5598c812705f" category="list-text">HA 制御情報を格納する iSCSI ターゲット</block>
  <block id="48ec84f2677dbc847ca2401059b13ded" category="list-text">[* Mediator* ] オプションを展開し、 [ * ステータス * ] をクリックします。</block>
  <block id="621c4ecc401c253a90311bcbdfebdb73" category="list-text">必要に応じて、 * Filtering * をクリックして、メディエーターサービスによって監視される 2 ノードクラスタの表示をカスタマイズするフィルタを作成します。</block>
  <block id="893c95c096fab305c703479243f6943c" category="summary">ONTAP Select ライセンスの管理の一環として実行できる関連タスクがいくつかあります。</block>
  <block id="9eb6b36f84e03f93cb360a15fa276ffb" category="doc">ONTAP Select ライセンス</block>
  <block id="475d0b6cd5b73c22bfc1fe3b2f35cf98" category="section-title">大容量階層ライセンスを管理します</block>
  <block id="4d072981d0459a6e8dddc5e65d85a19d" category="paragraph">ONTAP Select の大容量階層ライセンスを必要に応じて追加、編集、削除できます。</block>
  <block id="d1da5ae38aafefba216edae24c73845b" category="list-text">管理者アカウントを使用して、 Web インターフェイスから Deploy ユーティリティにサインインします。</block>
  <block id="8466d9c8baffa8020cd2061f9cb4929e" category="list-text">ページ上部の * 管理 * タブをクリックします。</block>
  <block id="27de07fc9b7f932f0181131e79ec3569" category="list-text">ライセンス * をクリックし、 * 容量階層 * をクリックします。</block>
  <block id="c1a597c101487100214a5f749a6f3e48" category="list-text">必要に応じて、 * Filter * をクリックし、表示するライセンスを制限します。</block>
  <block id="394aecca280e07533a3d7792d8e0bed1" category="list-text">必要に応じて、ライセンスを選択し、をクリックします <block ref="8bad975decfb5a8958ec55339559e376" category="inline-image-macro-rx" type="image"></block> 既存のライセンスを管理します</block>
  <block id="6ee0553d617caf0c18d95b731d38d14f" category="list-text">新しいライセンスを追加するには、ページ上部の * 追加 * をクリックし、 * ライセンスのアップロード * をクリックして、ローカルワークステーションからライセンスファイルを選択します。</block>
  <block id="2a4bfb1888884681c5bca483ebf0d9a1" category="section-title">容量プールのライセンスを管理します</block>
  <block id="2a1af40a05dbd3e59e7040a6aba474e2" category="paragraph">必要に応じて、 ONTAP Select 容量プールライセンスを追加、編集、削除できます。</block>
  <block id="7be3eed19afb6e3f04dc4fe18d053f2c" category="list-text">[*Licenses*] をクリックし、 [* Capacity Pools] をクリックします。</block>
  <block id="8e2791365de62e59e56b5d6fcdd0f3e2" category="list-text">新しいライセンスを追加したり、既存のライセンスを更新したりするには、ページの上部にある「 * 追加」をクリックしてから、「 * ライセンスのアップロード * 」をクリックし、ローカルワークステーションからライセンスファイルを選択します。</block>
  <block id="d26363bf70cc27dd1ba8f09739b8f116" category="list-text">容量プールのリストを表示するには、次の手順を実行します。</block>
  <block id="b14052b3af7caf15ec0beb76766be24f" category="list-text">「 * 概要 * 」をクリックします。</block>
  <block id="e034cc23606a54a163075931f70dbbab" category="list-text">プールを選択して展開すると、プールからストレージをリースしているクラスタとノードが表示されます。</block>
  <block id="8797856e9d86b8ee20026b14229ca29a" category="list-text">ライセンスの現在のステータスを [*License Information*] で確認します。</block>
  <block id="21b26341db1dfa394a993c5d152ccf13" category="list-text">リース期限の下でプールに対して発行されたリースの期間を変更できます。</block>
  <block id="a0d12512fae580ca38325fe122b9f447" category="list-text">クラスタのリストを表示するには、次の手順を実行します。</block>
  <block id="8ab91110ae01f9e5c2c34364ebb2da32" category="list-text">[ * 詳細 * ] をクリックします。</block>
  <block id="31881fb30a812ef998d7f2111d7bcc44" category="list-text">クラスタを選択して展開し、ストレージ利用率を確認します。</block>
  <block id="0f168ca1cdd02cac089ca7bafb134cd1" category="section-title">容量プールライセンスの再インストール</block>
  <block id="844c5fe8a900e62416848502a4af7fdf" category="paragraph">すべてのアクティブな容量プールライセンスは、 Deploy 管理ユーティリティのインスタンスに含まれる特定の License Manager インスタンスにロックされます。容量プールライセンスを使用している場合に Deploy インスタンスをリストアまたはリカバリすると、元のライセンスは無効になります。新しい容量ライセンスファイルを生成し、そのライセンスを新しい Deploy インスタンスにインストールする必要があります。</block>
  <block id="be0411c455172a2eece4547673c61675" category="list-text">元の Deploy インスタンスで使用されている容量プールのライセンスをすべて確認します。</block>
  <block id="80098f7971b686ffe786b2703cea27f2" category="list-text">新しい Deploy インスタンスの作成時にバックアップをリストアする場合は、バックアップが最新かつ最新のものであるかどうかを確認してください。</block>
  <block id="9ea0cf0b607e87c61eee72761d5f73a5" category="list-text">元の Deploy インスタンスで最後に作成された ONTAP Select ノードを特定します（元の Deploy インスタンスからの最新のバックアップが新しい Deploy インスタンスにリストアされない場合のみ）。</block>
  <block id="36ee47cdf830e8ef804643369ae9cb6f" category="list-text">Deploy インスタンスをリストアまたは再作成します</block>
  <block id="3e7e570e683be353e09e19562e3196f3" category="paragraph">大まかには、このタスクは 3 つのパートで構成されます。Deploy インスタンスで使用するすべての容量プールライセンスを再生成してインストールする必要があります。新しい Deploy インスタンスにすべてのライセンスを再インストールしたら、必要に応じてシリアルシーケンス番号をリセットできます。最後に、 Deploy の IP アドレスが変更された場合は、容量プールライセンスを使用するすべての ONTAP Select ノードを更新する必要があります。</block>
  <block id="6d46c419c8dde2ad4ea4d5623e1b4350" category="list-text">ネットアップサポートに問い合わせて、元の Deploy インスタンスの容量プールライセンスのバインドを解除し、登録を解除しておきます。</block>
  <block id="dc94932a20b0a7c73d1e6aa60af35223" category="list-text">各容量プールライセンスの新しいライセンスファイルを取得してダウンロードします。</block>
  <block id="8018479e33974a2b0f774cf42ec399e5" category="list-text">新しい Deploy インスタンスに容量プールライセンスをインストールします。</block>
  <block id="99683d4e14f8df30b153000825273e2d" category="list-text">[*Licenses*] をクリックし、 [* Capacity Pool*] をクリックします。</block>
  <block id="095bb96ffb3551a58960c96316107d76" category="list-text">[ * 追加 ] 、 [ * ライセンスのアップロード * ] の順にクリックして、ライセンスを選択してアップロードします。</block>
  <block id="e05566aa3784020545c76d92dcb376ab" category="list-text">バックアップをリストアせずに新しい Deploy インスタンスを作成した場合、または最新ではないバックアップを使用した場合は、シリアルシーケンス番号を更新する必要があります。</block>
  <block id="1c4bd3e7e2bc88b1415fade6249d5a46" category="list-text">管理者アカウントを使用して、 Deploy ユーティリティのコマンドラインインターフェイスにサインインします。</block>
  <block id="1de9bd334d99fc24b79e751ee32ab23c" category="list-text">元の Deploy インスタンスで最後に作成されたノードのシリアル番号を表示します。</block>
  <block id="f1b01fce580cdfa665fe93882b1d06f5" category="paragraph">node show -cluster-name cluster_name -name node_name -detailed ’</block>
  <block id="1aec8309fce03632e850fb225a041dd9" category="list-text">20 桁のノードシリアル番号の最後の 8 桁を抽出して、元の Deploy インスタンスで使用されていた最後のシリアルシーケンス番号を取得します。</block>
  <block id="6b5a573590d2b4e33bc4abb08fbfc691" category="list-text">新しいシリアル・シーケンス番号を作成するには、シリアル・シーケンス番号に 20 を追加します。</block>
  <block id="569ba0d8b8c86f41c90c5df6e562c9a2" category="list-text">新しい Deploy インスタンスのシリアルシーケンス番号を設定します。</block>
  <block id="0426f75052d2375cd4d03853499c9218" category="paragraph">「 license-manager modify -serial-sequence SEQ_NUMBER 」を参照してください</block>
  <block id="ab5251cc25a6494baca2bffd2a2d2a30" category="list-text">新しい Deploy インスタンスに割り当てられた IP アドレスが元の Deploy インスタンスの IP アドレスと異なる場合は、容量プールライセンスを使用するすべての ONTAP Select ノードで IP アドレスを更新する必要があります。</block>
  <block id="d4e6e8c5111a4fa039aeebcb814b9716" category="list-text">ONTAP Select ノードの ONTAP コマンドラインインターフェイスにサインインします。</block>
  <block id="5172e21efeb1892262831ef5031d5316" category="list-text">advanced 権限モードに切り替えます。</block>
  <block id="8751fc11929a47a202fa63c5dca19f5c" category="paragraph">「 set adv` 」</block>
  <block id="a8a37ba1161f9107f9ddb65d7c79c164" category="list-text">現在の設定を表示します。</block>
  <block id="0751f3a066840ee186e51768399a17d4" category="paragraph">「 system license license-manager show 」と表示されます</block>
  <block id="98f8649e2f83d631b66784b6b451ed1c" category="list-text">ノードで使用する License Manager （ Deploy ）の IP アドレスを設定します。</block>
  <block id="f06ba64d3be7b8d25f7ebbcfc88db033" category="paragraph">'system license license-manager modify -hostnew_IP_address</block>
  <block id="c7f9feffe334207728ba020aee079917" category="section-title">評価用ライセンスを本番環境用ライセンスに変換する</block>
  <block id="de2312541c249bc72eb1d78f6c56e732" category="paragraph">ONTAP Select 評価用クラスタをアップグレードして、 Deploy 管理ユーティリティで本番用の大容量階層ライセンスを使用できます。</block>
  <block id="ee8cad83de99bf5e35f6f80fad453d75" category="list-text">ONTAP Select 9.5P1 は Deploy 2.11 以降で使用する必要があります</block>
  <block id="bc882e7be43ec2480a6be229d77c8eaf" category="list-text">各ノードには、本番環境ライセンスに最低限必要な容量をサポートするための十分なストレージを割り当てる必要があります。</block>
  <block id="b94a9bad5ae121ac9e7cd292197b59e1" category="list-text">評価用クラスタのノードごとに大容量階層ライセンスが必要です。</block>
  <block id="f5d5a8d93d0ff3b80b514c776adc3d06" category="paragraph">シングルノードクラスタのクラスタライセンスを変更する場合は、システムが停止します。ただし、マルチノードクラスタの場合は、変換プロセスで各ノードが一度に 1 つずつリブートされてライセンスが適用されるため、これは該当しません。</block>
  <block id="2bb59383631b39d52464741628ce0ca4" category="list-text">ページ上部の * クラスタ * タブをクリックし、目的のクラスタを選択します。</block>
  <block id="2b92ba791b5d35e9921e9be06d12553c" category="list-text">クラスタの詳細ページの上部で、 * ここをクリック * をクリックしてクラスタライセンスを変更します。</block>
  <block id="3ec0b37e2f174766469a343ec8265983" category="paragraph">また、 [ クラスタの詳細 * ] セクションで評価ライセンスの横にある [ * 変更 * ] をクリックすることもできます。</block>
  <block id="5a3b7bb229a1d7655341b191f93fef35" category="list-text">ノードごとに使用可能な本番環境ライセンスを選択するか、必要に応じて追加のライセンスをアップロードします。</block>
  <block id="36d90e9baa4dfd0dda8eeaac2623f12c" category="list-text">ONTAP クレデンシャルを入力し、 * Modify * をクリックします。</block>
  <block id="7d7d0d771e408e152fe9f59aa783a245" category="paragraph">クラスタのライセンスのアップグレードには数分かかることがあります。ページを離れる前、または他の変更を行う前に、プロセスを完了させてください。</block>
  <block id="58c19e610497280d55686885113b1e5a" category="paragraph">評価用環境で各ノードに割り当てられていた 20 桁のノードシリアル番号は、アップグレードに使用する本番用ライセンスの 9 桁のシリアル番号に置き換えられます。</block>
  <block id="ae6ece3040d8e73c3c76bc342db2a5b5" category="summary">ONTAP Select のドキュメントポータルへようこそ。</block>
  <block id="7436b418bed093768e360d32105591d2" category="doc">ONTAP Select のドキュメント</block>
  <block id="8a7497698e274b257189171d812c4134" category="paragraph">NetApp ONTAP Select は、 VMware ESXi ハイパーバイザーを実行するさまざまなコモディティハードウェアサーバに導入可能な Software-Defined Storage アプライアンスです。柔軟性と拡張性に優れたプライベートクラウドインフラの構築に必要な即応性を提供します。</block>
  <block id="1fde0727b387439572ade83eecff4f68" category="section-title">新機能をご紹介します</block>
  <block id="93c13bfba0d6bca47835d55338a89bcb" category="section-title">製品ドキュメントをナビゲートする</block>
  <block id="fa0fa8503380df9df5c58ad57a531ff5" category="inline-link">ONTAP Select 製品ライブラリ</block>
  <block id="f24c86f59b1831aca015361d668be674" category="paragraph">ここでは、の以前のリリースでサポートされている KVM バージョンのリリースノートと製品のドキュメントを示します<block ref="39a2274ac9dcd1e1802780008f8c7665" category="inline-link-rx"></block>。</block>
  <block id="a753bf5f3b9313fdceb106b5c3e89d3f" category="section-title">詳細情報を入手して、ピアに接続してください</block>
  <block id="e4781b422f188feda95092622ffa38cb" category="list-text"><block ref="e4781b422f188feda95092622ffa38cb" category="inline-link-macro-rx"></block></block>
  <block id="b87a9c9ea368680a72e263613450dbb4" category="summary">VMware では、 VMFS 5 から VMFS 6 へのインプレースアップグレードはサポートされていません。Storage vMotion を使用して、既存の ONTAP Select ノードの VMFS 5 データストアから VMFS 6 データストアに移行できます。</block>
  <block id="07ba205c6ca4744e07307257583de34b" category="doc">Storage vMotion を使用した VMFS6 へのアップグレード</block>
  <block id="f4695bdb8876fc952051ba7b1a91f1a1" category="paragraph">ONTAP Select 仮想マシンの場合、 Storage vMotion はシングルノードクラスタおよびマルチノードクラスタに使用できます。この機能は、ストレージのみならず、コンピューティングとストレージの移行にも使用できます。</block>
  <block id="10b5b21ed1ee90eca305b558caf7d03b" category="inline-image-macro">移動</block>
  <block id="9ab1e79cc9779bc5566c1e669988d5d4" category="paragraph"><block ref="9ab1e79cc9779bc5566c1e669988d5d4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2407a2984f6d706a5e314d6a7edd5a54" category="paragraph">新しいホストが ONTAP Select ノードをサポートできることを確認します。たとえば、元のホストで RAID コントローラと DAS ストレージを使用している場合は、新しいホストでも同様の構成を使用する必要があります。</block>
  <block id="c5017cc800276e7a21aa5cb43d34f3dc" category="admonition">ONTAP Select VM が不適切な環境で再びホストされると、パフォーマンスに重大な問題が発生する可能性があります。</block>
  <block id="42ddf132a52b6eac1c3b1a4c1ab53b3f" category="list-text">ONTAP Select 仮想マシンをシャットダウンします。</block>
  <block id="bfa5ad47e929cf8346ddc5a9b7cd146f" category="paragraph">HA ペア構成のノードの場合は、最初にストレージフェイルオーバーを実行します。</block>
  <block id="053a361add1051cdf03538aae9974f25" category="list-text">[*CD/DVD drive*] オプションをクリアします。</block>
  <block id="5779fdc31e8695f9d256b30ca44e0bf8" category="paragraph">この手順は、 ONTAP Deploy を使用せずに ONTAP Select をインストールした場合は適用されません。</block>
  <block id="54a029420d74c0dff69239155cf510b5" category="inline-image-macro">設定を編集します</block>
  <block id="f6ffa1d4ac3c74a24928bdd7a54c92fe" category="paragraph"><block ref="f6ffa1d4ac3c74a24928bdd7a54c92fe" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6889b707af27bb9b94898b9302157603" category="list-text">Storage vMotion の処理が完了したら、 ONTAP Select 仮想マシンの電源をオンにします。</block>
  <block id="db5f593c1a454a8bcb60b10bed77e268" category="paragraph">このノードが HA ペアの一部である場合は、手動によるギブバックを実行できます。</block>
  <block id="db7b07152273fa97e7ad1f11373e7bdd" category="list-text">Deploy ユーティリティを使用して「 cluster refresh 」操作を実行し、正常に実行されたことを確認します。</block>
  <block id="31cfa58461a9d8d1a6f68b6a0421413f" category="list-text">Deploy ユーティリティのデータベースをバックアップします。</block>
  <block id="f420e93bdeaed2d209146f3ccb967ffb" category="paragraph">Storage vMotion 操作が完了したら、 Deploy ユーティリティを使用して「 cluster refresh 」操作を実行する必要があります。「 cluster refresh 」では、 ONTAP Deploy データベースが ONTAP Select ノードの新しい場所で更新されます。</block>
  <block id="f33060d1d5fd62eca6bf1719621be78e" category="summary">データトラフィックと管理トラフィックを別々のレイヤ 2 ネットワークに分離します。</block>
  <block id="d1f39001e92e36a72cf4d7ed46ec5db9" category="doc">データトラフィックと管理トラフィックの分離</block>
  <block id="c32f292fb82b55bccdd68f8bac5b6017" category="paragraph">ONTAP Select の外部ネットワークトラフィックは、データトラフィック（ CIFS 、 NFS 、 iSCSI ）、管理トラフィック、およびレプリケーショントラフィック（ SnapMirror ）の 3 つに分類されます。ONTAP クラスタ内では、それぞれのトラフィック形式が別々の論理インターフェイスを使用しますが、これらのインターフェイスを仮想ネットワークポートでホストする必要があります。マルチノード構成の ONTAP Select では、これらはポート e0a および e0b/e0g として指定されます。シングルノード構成では、これらは e0a および e0b/e0c として指定され、残りのポートは内部クラスタサービス用に予約されます。</block>
  <block id="30ef8e48c19263f94cf944627bca9094" category="paragraph">データトラフィックと管理トラフィックは、別々のレイヤ 2 ネットワークに分離することを推奨します。ONTAP Select 環境では VLAN タグを使用して分離します。具体的には、管理トラフィック用に、 VLAN タグ付きポートグループをネットワークアダプタ 1 （ポート e0a ）に割り当てます。次に、データトラフィック用に、別のポートグループをポート e0b と e0c （シングルノードクラスタ）、および e0b と e0g （マルチノードクラスタ）に割り当てます。</block>
  <block id="79402368c8f0306d9bc3ebbd2f09773e" category="paragraph">このドキュメントで前述した VST 解決策 では不十分な場合は、データ LIF と管理 LIF の両方を同じ仮想ポートに配置することが必要になる場合があります。そのためには、 VM が VLAN タギングを実行する、 VGT と呼ばれるプロセスを使用します。</block>
  <block id="d0586db433fa0f9c39476f34bfb10d85" category="admonition">ONTAP Deploy ユーティリティを使用する場合は、 VGT でデータネットワークと管理ネットワークを分離することができません。このプロセスはクラスタのセットアップの完了後に実行する必要があります。</block>
  <block id="32e5bb3261ad06dc47dff621c610bcc6" category="paragraph">VGT と 2 ノードクラスタを使用する場合は、さらに注意が必要です。2 ノードクラスタ構成では、ノード管理 IP アドレスを使用して、 ONTAP が完全に使用可能になる前にメディエーターへの接続を確立します。したがって、ノード管理 LIF （ポート e0a ）にマッピングされたポートグループでは、 EST タギングと VST タギングのみがサポートされます。さらに、管理トラフィックとデータトラフィックの両方が同じポートグループを使用している場合、 2 ノードクラスタ全体でサポートされるのは、 EST と VST だけです。</block>
  <block id="d440190d2c3342899df5462eb346c973" category="paragraph">VST と VGT のどちらの構成オプションもサポートされます。次の図は VST のシナリオを示しており、トラフィックは割り当てられたポートグループを使用して vSwitch レイヤでタグ付けされます。この構成では、クラスタとノードの管理 LIF が ONTAP ポート e0a に割り当てられ、割り当てられたポートグループを通じて VLAN ID 10 でタグ付けされます。データ LIF は、ポート e0b および e0c または e0g のいずれかに割り当てられ、 2 番目のポートグループを使用して VLAN ID 20 が付与されます。クラスタポートは 3 番目のポートグループを使用し、 VLAN ID 30 が付与されます。</block>
  <block id="6a19574830852193632d68559cfc9f96" category="paragraph">* VST によるデータと管理の分離 *</block>
  <block id="c9ec63be3cbb0784efe852dfd6b4a15e" category="inline-image-macro">VST を使用したデータと管理の分離</block>
  <block id="eb319bc1007d8ea6518b2d765678095c" category="paragraph"><block ref="eb319bc1007d8ea6518b2d765678095c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5695583fa15ef8b374258d7ab0742d78" category="paragraph">次の図は 2 つ目の VGT のシナリオを示しており、 ONTAP VM が別々のブロードキャストドメインに配置されている VLAN ポートを使用してトラフィックをタグ付けします。この例では、仮想ポート e0a-10 / e0b-10 / （ e0c または e0g ） -10 および e0a-20 / e0b-20 が VM ポート e0a と e0b の上に配置されています。この構成では、 vSwitch レイヤではなく ONTAP 内で直接ネットワークをタグ付けすることが可能です。管理 LIF とデータ LIF はこれらの仮想ポートに配置されているため、 1 つの VM ポート内でレイヤ 2 をさらに分離できるようになっています。クラスタ VLAN （ VLAN ID 30 ）は引き続きポートグループでタグ付けされます。</block>
  <block id="fcbd19b726fdd6160dfe2ab43f285a55" category="paragraph">* 注： *</block>
  <block id="09a6c21fee97fefad5130345d10f0847" category="list-text">この構成は、複数の IPspace を使用する場合に特に適しています。さらに細かな論理的な分離とマルチテナンシーが必要である場合は、 VLAN ポートを別々のカスタム IPspace にグループ化してください。</block>
  <block id="16aa3f653fd07730d523ba1dd7fc133b" category="list-text">VGT をサポートするため、物理スイッチのトランクポートに ESXi / ESX ホストネットワークアダプタを接続する必要があります。仮想スイッチに接続されたポートグループでトランキングを有効にするには、 VLAN ID を 4095 に設定する必要があります。</block>
  <block id="8a216da865f34a3eccf3ce7160a2a744" category="paragraph">* VGT を使用したデータと管理の分離 *</block>
  <block id="929f7d27410370d9a4c34db726705783" category="inline-image-macro">VGT を使用したデータと管理の分離</block>
  <block id="f1f2f2af828f49b4c7eaa8f521667e90" category="paragraph"><block ref="f1f2f2af828f49b4c7eaa8f521667e90" category="inline-image-macro-rx" type="image"></block></block>
  <block id="558d57ff93878576d5f675e031faa71b" category="summary">シングルスイッチおよびマルチスイッチの環境に基づくアップストリームの物理スイッチ構成の詳細。</block>
  <block id="de3596be66250636da3fce790282dabe" category="paragraph">仮想スイッチレイヤから物理スイッチへの接続方法を決定する際には、十分な検討が必要です。アップストリームの物理ネットワークレイヤでも、レイヤ 2 VLAN を使用した分離によって、内部クラスタトラフィックを外部データサービスから分離する必要があります。</block>
  <block id="91af838720993b36772c44c04100baa2" category="paragraph">物理スイッチポートは、トランクポートとして構成する必要があります。ONTAP Select 外部トラフィックは、 2 つの方法のいずれかで複数のレイヤ 2 ネットワークに分離できます。1 つの方法は、 ONTAP VLAN タグ付き仮想ポートを 1 つのポートグループで使用する方法です。もう 1 つの方法は、 VST モードで別々のポートグループを管理ポート e0a に割り当てる方法です。また、 ONTAP Select のリリースと、シングルノード構成かマルチノード構成かに応じて、データポートを e0b および e0c/e0g に割り当てる必要があります。外部トラフィックが複数のレイヤ 2 ネットワークに分離されている場合は、アップリンクの物理スイッチポートの VLAN が許可されている VLAN のリストに含まれている必要があります。</block>
  <block id="637affdd0360b4c48f3641bfa9fb86d2" category="paragraph">ONTAP Select の内部ネットワークトラフィックには、リンクローカルの IP アドレスで定義される仮想インターフェイスが使用されます。この IP アドレスはルーティングされないため、クラスタノード間の内部トラフィックは単一のレイヤ 2 ネットワークを経由する必要があります。ONTAP Select クラスタノード間のルートホップはサポートされません。</block>
  <block id="ef8103e2d30178fa85b545ac937546f6" category="section-title">共有物理スイッチ</block>
  <block id="8e6faa39d264b0f8fbc053f7a7ecbf94" category="paragraph">次の図は、マルチノード ONTAP Select クラスタの 1 つのノードが使用するスイッチの構成例です。この例では、内部と外部のネットワークポートグループをホストする vSwitch が使用する物理 NIC が、同じアップストリームスイッチにケーブル接続されています。スイッチトラフィックは、別々の VLAN に含まれているブロードキャストドメインを使用して分離されています。</block>
  <block id="04b0831bc08b98c95bbde214ab7895b9" category="admonition">ONTAP Select 内部ネットワークでは、タギングはポートグループレベルで行われます。この例では外部ネットワークに VGT が使用されていますが、このポートグループでは VGT と VST の両方がサポートされます。</block>
  <block id="c9fc6e68c46875e91b72e293a130c551" category="paragraph">* 共有物理スイッチを使用したネットワーク構成 *</block>
  <block id="1a0bebe54950213cff4db0acd43f356d" category="inline-image-macro">共有物理スイッチを使用したネットワーク構成</block>
  <block id="cddfb10924e63bc2750ebab406aa1b5f" category="paragraph"><block ref="cddfb10924e63bc2750ebab406aa1b5f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dae566cbb13f195fd806f10b4f86b786" category="admonition">この構成では、共有スイッチが単一点障害となります。可能であれば、複数のスイッチを使用して、物理的なハードウェア障害が発生した場合にクラスタネットワークが停止しないようにする必要があります。</block>
  <block id="edbe813e210ee18fd03abc1360c36c64" category="section-title">複数の物理スイッチ</block>
  <block id="b86d891d2cd253801a3966418ae213cf" category="paragraph">冗長性が必要な場合は、複数の物理ネットワークスイッチを使用する必要があります。次の図は、マルチノード ONTAP Select クラスタの 1 つのノードでの推奨構成です。内部と外部のポートグループの NIC を別々の物理スイッチに接続することで、単一のハードウェアスイッチ障害からユーザを保護しています。スパニングツリーの問題を回避するために、スイッチ間には仮想ポートチャネルが設定されています。</block>
  <block id="0be1a0f5e1de77cd057aa621b3224aa4" category="paragraph">* 複数の物理スイッチを使用したネットワーク構成 *</block>
  <block id="1306b8baa2659a44b018c4c3cff7a2ed" category="paragraph"><block ref="1306b8baa2659a44b018c4c3cff7a2ed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f39c5431d2026e960c0f380a0c0c4ef9" category="summary">ONTAP Select クラスタの導入に使用できるワークフロープロセスがあります。</block>
  <block id="43b13cac79173588a7f38f74b27f2a09" category="doc">ONTAP Select のインストールと導入のワークフロー</block>
  <block id="f4e7ce7ba166f67f662306fe747a596e" category="paragraph">次のワークフローを使用して、 ONTAP Select クラスタを導入および管理できます。</block>
  <block id="2c3df213abea0ad1cb494572704542f9" category="inline-image-macro">では、 ONTAP Select クラスタの導入に必要な完全なワークフローについて説明します。</block>
  <block id="bc0723c49208cb7ede4ce6ea0a477957" category="paragraph"><block ref="bc0723c49208cb7ede4ce6ea0a477957" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c9732055d20960435002cec722852b3e" category="summary">コマンドラインインターフェイスを使用して、既存の Deploy ユーティリティの仮想マシンをインプレースアップグレードできます。</block>
  <block id="659c3a84c9dba168bffceea5e4a6215d" category="doc">Deploy インスタンスをアップグレードする</block>
  <block id="a0352e441ba04fb28d070a715c9d2ff2" category="paragraph">アップグレード中には、 Deploy を使用して他のタスクを実行しないでください。Deploy ユーティリティのアップグレードに関する情報と制限事項については、最新のリリースノートを参照してください。</block>
  <block id="bdf2a2ac041f7761bba15d758fb6621a" category="section-title">アップグレードパッケージをダウンロードします</block>
  <block id="eb75a7c0dc84d14c47a84e436b8082cc" category="paragraph">アップグレードプロセスを開始するには、ネットアップサポートサイトから適切な Deploy 仮想マシンアップグレードファイルをダウンロードする必要があります。アップグレードパッケージは単一の圧縮ファイル形式です。</block>
  <block id="67a5c1dd24ee56878ca59f7cbb4a6602" category="list-text">Web ブラウザからネットアップサポートサイトにアクセスし、「 * Support Quick Links * 」をクリックします。</block>
  <block id="bccf3e76ee48d8e82f2ceba72b62d7af" category="list-text">下にスクロールし、 * ONTAP Select Deploy アップグレード * をクリックします。</block>
  <block id="a8601f098fd28588686f1b5ce31da2a1" category="list-text">アップグレードパッケージの目的のリリースを選択します。</block>
  <block id="def8f653fff47640d3bcce40244c6331" category="list-text">適切なパッケージを選択してダウンロードし、環境に応じてすべてのプロンプトに応答します。</block>
  <block id="09ea0908fbfc4cde85bf416e35dc55c8" category="inline-link-macro">ネットアップサポート</block>
  <block id="256b9e5b7f511be2eea8558649199f73" category="paragraph"><block ref="256b9e5b7f511be2eea8558649199f73" category="inline-link-macro-rx"></block></block>
  <block id="fbb4656ab9a036fa141b344cf65d53a6" category="section-title">Deploy 仮想マシンにパッケージをアップロードしています</block>
  <block id="e1592123d1df946558bd9bf257720d21" category="paragraph">アップグレードパッケージを取得したら、ファイルを Deploy 仮想マシンにアップロードする必要があります。</block>
  <block id="d5d592c7eaf2cef1bd79103f367e703c" category="paragraph">アップグレードファイルをローカルワークステーションで使用できるようにしておく必要があります。また、管理者ユーザアカウントのパスワードが必要です。</block>
  <block id="2b4b559d53be4bdb64aeeae26870beb2" category="paragraph">このタスクは、ファイルを Deploy 仮想マシンにアップロードする方法の 1 つです。ご使用の環境に適したその他のオプションがある場合もあります。</block>
  <block id="fc867a2c06f0b493d05e8508b022600e" category="list-text">ローカルワークステーション上のコマンドシェルで、 sftp ユーティリティを使用して、イメージファイルを Deploy 仮想マシンにアップロードします。</block>
  <block id="4d31142bb7c8f427942e83be227bb1f0" category="paragraph">アップグレードファイルは、 admin ユーザのホームディレクトリに格納されます。</block>
  <block id="cff2646f28c605bf4435cf5b8260a4e7" category="section-title">アップグレードパッケージを適用しています</block>
  <block id="baa4f96e18f8e9fced4eec3f5a81a23a" category="paragraph">アップグレードファイルが Deploy 仮想マシンにアップロードされたら、アップグレードを適用できます。</block>
  <block id="dbb14ca7f13323519486701e4b502763" category="paragraph">Deploy ユーティリティの仮想マシンでアップグレードファイルを配置したディレクトリを把握しておく必要があります。また、アップグレードの実行中には、 Deploy を使用して他のタスクを実行しないでください。</block>
  <block id="ddd583d223b6cdfc7284a7d618756d41" category="list-text">適切なディレクトリパスとファイル名を使用してアップグレードを実行します。</block>
  <block id="f5fb71abd32be9bc904db11637b6b903" category="paragraph">「 deploy upgrade-package-path filepath 」と入力します</block>
  <block id="150fc0d33877571bc7e496a88e0dcdb5" category="paragraph">アップグレード手順 が完了すると、 Deploy 仮想マシン設定のバックアップを作成するよう求められます。また、新しく作成した Deploy ページを表示するには、ブラウザキャッシュをクリアする必要があります。</block>
  <block id="e5338fa1dff19c951b23cd8d57a1bb1d" category="summary">SSH を使用して Deploy 管理シェルにサインインする必要があります。サインインしたら、問題 CLI コマンドを使用して ONTAP Select クラスタを作成し、関連する管理手順を実行できます。</block>
  <block id="1e1c82929b36e8b866f932a031b19c58" category="paragraph">Deploy 管理者（ admin ）アカウントの現在のパスワードが必要です。初めてサインインし、 vCenter を使用して Deploy 仮想マシンをインストールする場合は、インストール時に設定したパスワードを使用してください。</block>
  <block id="ccb606fde10157eafe6d1e665b68829a" category="list-text">Deploy 仮想マシンの管理者アカウントと管理 IP アドレスを使用してサインインします。次に例を示します。</block>
  <block id="7a9f53879e57ec9aca69d4acaba8a330" category="paragraph">ssh admin@&lt;10.235.82.22&gt;`</block>
  <block id="18c3c3eb46e4632917dcdff90d15d0de" category="list-text">会社名（必須）</block>
  <block id="bf228c91d777320bb66324531a85cdb5" category="list-text">プロキシ URL （オプション）</block>
  <block id="a070d5cad46a2ff939c511d82e8fa8a6" category="list-text">「 * ？ * 」と入力し、 Enter キーを押すと、使用可能な管理シェルコマンドのリストが表示されます。</block>
  <block id="a24ca07ebedf77f4a6bb2763a6a344d9" category="summary">ONTAP Select Deploy 管理ユーティリティに付属の Web ユーザインターフェイスを使用して、シングルノードまたはマルチノードの ONTAP Select クラスタを導入できます。</block>
  <block id="4bdcc660d7ba4c9d9cca694831038425" category="paragraph">Deploy ユーティリティの Web インターフェイスを使用して ONTAP Select クラスタを作成する場合は、特定の手順が表示されます。具体的なプロセスは、シングルノードクラスタとマルチノードクラスタのどちらを導入するかによって異なります。</block>
  <block id="7d6b71f0ac6e642e55386ff517f26dcb" category="admonition">Deploy ユーティリティの CLI を使用して ONTAP Select クラスタを導入することもできます。</block>
  <block id="efad7811273daca9266e086dc55571c9" category="paragraph">導入を準備し、正常に実行されることを確認する必要があります。</block>
  <block id="411e79ebb4981efce9ce6a2b1f40a34f" category="list-text">初期計画</block>
  <block id="f5a6377fa98426b942cb6b4550d297da" category="list-text">ドキュメントの _Plan_and _License_Sections を確認します。この情報に基づいて、クラスタに関する次の事項を決定できます。</block>
  <block id="1b21b0d71706897b69f108572c444d40" category="list-text">ハイパーバイザー</block>
  <block id="0ce159ef649591974fe60d01c47f9f48" category="list-text">ノードの数</block>
  <block id="82060d81b7ce43c57280e879899f9a2c" category="list-text">ライセンスタイプ</block>
  <block id="da194a96f5d968cb44a162849f8db7ea" category="list-text">プラットフォームサイズ（インスタンスタイプ）</block>
  <block id="7df2592d21ee2d7b12cfa029e519d7b9" category="list-text">ONTAP Select のバージョン</block>
  <block id="07c910df832eed07eccb9da18112e34b" category="list-text">ホストの準備</block>
  <block id="37d0d8277e2cec2cf18d723f103fbca0" category="list-text">ONTAP Select ノードを実行するハイパーバイザーホストを準備し、ライセンスモデルに基づいて必要なストレージライセンスファイルを用意する必要があります。準備要件を表示するには：</block>
  <block id="c93ac09febb4264dc3b4e28bc4aa22ba" category="list-text">Deploy の Web ユーザインターフェイスにサインインします。</block>
  <block id="9c3a59d6f34c8cd48494cf65ab055e67" category="inline-image-macro">疑問符</block>
  <block id="34d1b92a9bea981532796b3947d5c933" category="list-text">をクリックします <block ref="597586a3d1dcebe6ad038a4dde446a9e" category="inline-image-macro-rx" type="image"></block> をクリックします。</block>
  <block id="557b212863af34dee6642f1dd8feef4c" category="list-text">[ 前提条件 ] をクリックします。</block>
  <block id="a08bb19599dcb78fd73e7aa3b405980f" category="list-text">下にスクロールして要件を確認し、 * OK * をクリックします。</block>
  <block id="d5b05ba2463ff6cca0078e72e50f28e7" category="list-text">ライセンスファイル</block>
  <block id="85341d624e9b0303539956bd22bfd4d4" category="list-text">クラスタを本番環境に導入する場合は、ライセンスモデルに基づいてストレージライセンスファイルを取得する必要があります。</block>
  <block id="f0d5638b299d1abdeea7e3509c4a29b5" category="list-text">インストールとアカウントのクレデンシャルを導入</block>
  <block id="8d17d740b6327f02bc672d5bfc02645d" category="list-text">Deploy 管理ユーティリティをインストールして初期設定を実行する必要があります。を参照してください <block ref="591e64415012a524e3833cbec7c08a35" category="inline-link-macro-rx"></block> を参照してください。インストールプロセスで設定した Deploy 管理者アカウントのパスワードが必要です。</block>
  <block id="aed014e58fdd7a5646368dcc7246b28f" category="list-text">以前の ONTAP Select ノードイメージをインストールしています</block>
  <block id="4d373a3765638749ba65e936d51da9c4" category="list-text">デフォルトでは、 Deploy 管理ユーティリティには、リリース時点の ONTAP Select の最新バージョンが含まれています。以前のバージョンの ONTAP Select を使用してクラスタを導入する場合は、 ONTAP Select イメージを Deploy インスタンスに追加する必要があります。を参照してください <block ref="b1d42ed6470398387d373e3f35d8d69e" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="b87008505cc6fe630b46cc1e948e36f1" category="list-text">起動ページを開始しています</block>
  <block id="8a8160f2e850747bb7fabd6819906b08" category="list-text">最初のページ * 「 ONTAP Select Deploy の使用」では、クラスタを作成する複数の手順が紹介されています。次の 5 つの主要な手順があります。</block>
  <block id="fb98e8390277794afc419e842f4bccd9" category="list-text">ライセンスを追加します</block>
  <block id="d60f56bb9d55a941e09cc5c959de9a36" category="list-text">ホストをインベントリに追加します</block>
  <block id="f1783cedf199ea90c1cf0ff538262716" category="list-text">クラスタを作成します</block>
  <block id="7b8833fb04a6b84fadcfe679b52ce68b" category="list-text">ネットワークの事前確認</block>
  <block id="caed535f5a1e318fff54ea6d8139100c" category="list-text">クラスタを導入</block>
  <block id="4a27c1e90fe3acd696c1f0934ce7e3b5" category="admonition">ページ上部のタブ（クラスタ、ハイパーバイザーホスト、管理）をクリックすると、同じ手順を別々に実行できます。</block>
  <block id="9dae84e581f54bbd3529b1a828393655" category="list-text">ネットワークチェッカー</block>
  <block id="18889d3b7d7412c773430265b3f7a703" category="list-text">マルチノードクラスタを導入する場合は、ネットワークチェッカーに関する詳しい知識が必要です。</block>
  <block id="4680945aec88d9bcced06d39ec485a67" category="list-text">クラスタを導入したあと</block>
  <block id="3a4abd9eeeda413a4bf9956a7ec34228" category="paragraph">ONTAP Select Deploy の Web ユーザインターフェイスを使用して、シングルノードの ONTAP Select クラスタを導入できます。</block>
  <block id="25ba26f357a31d39960ce1746018e712" category="paragraph">本番環境用に 1 つのノードで構成される ONTAP Select クラスタが作成されます。</block>
  <block id="55e9b658bcd6b4ca65de5ed9557f68db" category="list-text">管理者アカウント（ admin ）を使用して、 Web インターフェイス経由で Deploy ユーティリティにサインインします。</block>
  <block id="f419e9f320490f02ec41e0cead19dc2a" category="list-text">「 ONTAP Select へようこそ」ポップアップウィンドウが表示された場合は、設定の前提条件を満たしていることを確認し、「 * OK * 」をクリックします。</block>
  <block id="ba7cc5d6bb74cdd0aaa5fe5a9bc4b4d3" category="list-text">[Getting Started * cluster launch （ * はじめに * クラスタの起動） ] ページが表示されない場合は、をクリックします <block ref="597586a3d1dcebe6ad038a4dde446a9e" category="inline-image-macro-rx" type="image"></block> ページの上部で、 [ はじめに ] をクリックします。</block>
  <block id="5d0652261e3e13ff5041f1c875d60d9c" category="list-text">[* はじめに（ Getting Started * ） ] ページで、 [* アップロード（ * Upload ） ] をクリックしてローカルワークステーションからライセンスを選択し、 [ 開く（ * Open ） ] をクリックしてライセンスをアップロードします。</block>
  <block id="3f4187941dcc4a52259a3955f138c314" category="list-text">[*Refresh] をクリックし、ライセンスが追加されたことを確認します。</block>
  <block id="f11dc7320c4209cdff4f85de946666bf" category="list-text">[ 次へ * ] をクリックしてハイパーバイザー・ホストを追加し、 [ * 追加 ] をクリックします。</block>
  <block id="53e73285c80e404176db427bbdbf3a01" category="paragraph">vCenter サーバに接続して ESXi ホストを追加するか、または直接 ESXi ホストを追加できます。必要に応じて、ホストの詳細とクレデンシャルを入力します。</block>
  <block id="180a2ecafc5641b9bb33d5a6fe6ba41d" category="list-text">[*Refresh] をクリックし、ホストの [*Type*] の値が [*ESX*] であることを確認します。</block>
  <block id="4693647f83597e4a631ffdc39034b06d" category="paragraph">指定したアカウントクレデンシャルは、 Deploy のクレデンシャルデータベースに追加されます。</block>
  <block id="b46a9a6d9c38c08d97979def3d4a6e23" category="list-text">[Next] をクリックして、クラスタ作成プロセスを開始します。</block>
  <block id="a291fbe570213bb24c1d06ffc86d2dc0" category="list-text">「 * クラスタの詳細 * 」セクションで、クラスタについて説明する必要なすべての情報を指定し、「 * 完了 * 」をクリックします。</block>
  <block id="0f602d7fe375d87b4dfff619bb7a3b50" category="list-text">ノードのセットアップ * で、ノード管理 IP アドレスを指定してノードのライセンスを選択します。必要に応じて新しいライセンスをアップロードできます。ノード名は必要に応じて変更することもできます。</block>
  <block id="a57c05031d6102136a8bfe300ea61093" category="list-text">ハイパーバイザー * と * ネットワーク * の構成を提供します。</block>
  <block id="f1928401d0f38929a4645cc2dbff7269" category="paragraph">仮想マシンのサイズと使用可能な機能セットを定義する 3 つのノード構成があります。これらのインスタンスタイプは、 Standard 、 Premium 、および Premium XL の購入ライセンスでそれぞれサポートされています。ノードに対して選択するライセンスは、インスタンスタイプと一致するか、それよりも大きくする必要があります。</block>
  <block id="77bd5556fc873a5f14bb16bd6159b24f" category="paragraph">ハイパーバイザーホストおよび管理ネットワークとデータネットワークを選択します。</block>
  <block id="3118e59890d54fc6e861b3ed19f01dd1" category="list-text">* ストレージ * の構成を入力し、 * 完了 * をクリックします。</block>
  <block id="1a61adfd179794f0468e7cc27a3731c5" category="paragraph">プラットフォームライセンスレベルとホスト構成に基づいてドライブを選択できます。</block>
  <block id="83b2958f895c780b1ce04a69f29fa14f" category="list-text">クラスタの設定を確認します。</block>
  <block id="7dce122004969d56ae2e0245cb754d35" category="inline-image-macro">編集</block>
  <block id="fc27442e8051c88f8a185d91ced22a20" category="paragraph">をクリックすると、設定を変更できます <block ref="cd4fada87571e8da586532fce60b382a" category="inline-image-macro-rx" type="image"></block> をクリックします。</block>
  <block id="674ac8fe871dc102602a9bf96882a339" category="list-text">[ 次へ ] をクリックし、 ONTAP 管理者パスワードを入力します。</block>
  <block id="6e4ee895001e74a8e30d8d23a8ef73a4" category="list-text">クラスタ作成 * をクリックしてクラスタ作成プロセスを開始し、ポップアップ・ウィンドウで * OK * をクリックします。</block>
  <block id="aa28e7538205e834e26c77f5630f8893" category="list-text">クラスタ作成の複数ステップからなるプロセスを監視し、クラスタが正常に作成されたことを確認する。</block>
  <block id="037cb8cf634438a48c4a376dd2eaecea" category="paragraph">ページは一定の間隔で自動的に更新されます。</block>
  <block id="e1fdfbd988f463b21214e88021ddf580" category="admonition">クラスタの作成処理が開始され、完了できなかった場合は、定義済みの ONTAP 管理パスワードが登録されないことがあります。この場合、 admin アカウントの password_changeme123_ を使用して、 ONTAP Select クラスタの管理インターフェイスにアクセスできます。</block>
  <block id="d409594d71c1119a8e70a3f177e882c0" category="paragraph">ONTAP Select AutoSupport 機能が設定されていることを確認し、 ONTAP Select Deploy の設定データをバックアップする必要があります。</block>
  <block id="bd5ae2e61e1784e8eadc165e6029ecf8" category="summary">ONTAP Select 環境のセキュリティ保護の一環として実行できる関連タスクがいくつかあります。</block>
  <block id="2fae32629d4ef4fc6341f1751b405e45" category="doc">セキュリティ</block>
  <block id="6ba2d4941e369d15ce3b54f9f454eabc" category="section-title">Deploy 管理者パスワードの変更</block>
  <block id="f6e7ecbcea2de8db01c5a89f472b5c12" category="paragraph">Web ユーザインターフェイスを使用して、 Deploy 仮想マシンの管理者アカウントのパスワードを必要に応じて変更できます。</block>
  <block id="5eb7189d5e920191e71ecea776ec7da4" category="list-text">ページ右上の数字アイコンをクリックし、 * パスワードの変更 * を選択します。</block>
  <block id="f8a9454d92a9d9bc630a35ebb2c81b21" category="list-text">プロンプトが表示されたら、現在のパスワードと新しいパスワードを入力し、 * Submit * をクリックします。</block>
  <block id="ca82a9aa971f219a9dfc943d7680f38d" category="section-title">管理サーバアカウントの追加</block>
  <block id="9dadd969116b721eb787be459e7b922a" category="paragraph">Deploy のクレデンシャルストアデータベースに管理サーバアカウントを追加できます。</block>
  <block id="0a40d7e5dcc7941e6e97fd035ac2a9de" category="paragraph">ここでは、クレデンシャルのタイプと、 ONTAP Select Deploy でのクレデンシャルの使用方法について説明します。</block>
  <block id="332b2db1def748fc17e96efc47883aa1" category="list-text">[* 管理サーバー * ] をクリックし、 [* vCenter の追加 * ] をクリックします。</block>
  <block id="04ed37c814e1276cc045000e0be44595" category="list-text">次の情報を入力し、 * 追加 * をクリックします。</block>
  <block id="750448002ffa3f7152c9cd79d7cd29d0" category="cell">フィールド名</block>
  <block id="322329bcbeb3aef8e91b14d380aebe9d" category="cell">次の手順を実行します。</block>
  <block id="7375dc6256c8d0a0a04779ac14dd4461" category="cell">名前 / IP アドレス</block>
  <block id="2db815fb1b463d55c3e2ccc29907ec60" category="cell">vCenter Server のドメイン名または IP アドレスを指定してください。</block>
  <block id="f6039d44b29456b20f8f373155ae4973" category="cell">ユーザ名</block>
  <block id="b66b88e5444ef925b36954e800f7be80" category="cell">vCenter にアクセスするためのアカウントのユーザ名を入力します。</block>
  <block id="0c575d6697b13b90fe9265a49b2b10f5" category="cell">関連付けられているユーザ名のパスワードを入力します。</block>
  <block id="cb1751571a03f0b709cac75b01eb12e0" category="list-text">必要に応じて、 Deploy vCenter プラグインを登録（インストール）できます。</block>
  <block id="55b7d550f419b7a7427bd835751e71af" category="list-text">新しい管理サーバを追加したら、必要に応じてをクリックできます <block ref="8bad975decfb5a8958ec55339559e376" category="inline-image-macro-rx" type="image"></block> 次のいずれかを選択します。</block>
  <block id="ee2ee700615c2258dc72b2287ee4ebea" category="list-text">クレデンシャルを更新</block>
  <block id="694be4e8e57b4513bce45777ae09862c" category="list-text">プラグインとして登録</block>
  <block id="9d7584891713572b5d5bd09e474db779" category="list-text">クレデンシャルを検証する</block>
  <block id="ccc612cd14c06b1f422a5bb1a7ec9dd4" category="list-text">管理サーバを削除します</block>
  <block id="9b7d2f090671cf0f165ca48fad944d0c" category="section-title">ライセンスの管理</block>
  <block id="135032340b739678e7d11a4dc182011c" category="list-text">ライセンス * オプションを展開し、 * 容量階層 * または * 容量プール * をクリックしてライセンスタイプを選択します。</block>
  <block id="2f71211a5b13795979d370821fc6fdd2" category="paragraph">現在のライセンスと問題が表示されます。</block>
  <block id="ae011d09e98ede92d7644eb32c2d48fa" category="list-text">必要に応じて、 [*Filtering] をクリックし、表示するライセンスを制限するフィルタを作成します。</block>
  <block id="9c8cada1d3ed3914ccdebd9d2cad2de7" category="list-text">必要なタスクを実行します。</block>
  <block id="60934424bea7411ca31794101c17532a" category="list-text">ライセンスを追加するには、 *+add* をクリックし、 * ライセンスのアップロード * をクリックして、ライセンスファイルを選択します。</block>
  <block id="68884bc2bf346fe01e990666cbafe836" category="list-text">既存のライセンスを削除するには、ライセンスの右側にあるごみ箱のアイコンをクリックします。</block>
  <block id="5f21d6245c5bb0178e94ca31973b2629" category="summary">容量階層のライセンスモデルではなく容量プールのライセンスモデルを使用すると、いくつかのメリットがあります。</block>
  <block id="f375253c446097df1911643c823bcebc" category="doc">利点のまとめ</block>
  <block id="9d7eafb0b72f9b5f7663e196c8c405d4" category="section-title">ストレージ容量をより効率的に使用できます</block>
  <block id="045609ee650288df1c254d2307390990" category="paragraph">容量階層ライセンスを使用している場合は、各ノードに固定のストレージ容量を割り当てます。未使用のスペースを他のノードと共有することはできず、無駄になります。容量プールライセンスがあれば、各ノードがデータアグリゲートのサイズに基づいて必要な容量のみを消費します。</block>
  <block id="c49054c6883b9886c6f31a2e8723ffe6" category="paragraph">また、容量は中央のプールに固定されるため、組織内の多数のノードで共有できます。</block>
  <block id="5aaf2ab29a3c1228e8c4125acd634e5e" category="section-title">管理オーバーヘッドが大幅に削減され、コストが削減されます</block>
  <block id="d103dad4fce7c3b935c3371288ee0e36" category="paragraph">大容量階層ライセンスを使用する場合は、ノードごとにライセンスを取得してインストールする必要があります。容量プールを使用する場合は、共有プールごとに 1 つのライセンスがあります。これにより、管理オーバーヘッドが大幅に削減され、コストが削減されます。</block>
  <block id="1e8785eff311926f53d67ca62acdaa7b" category="section-title">利用率指標の向上</block>
  <block id="c9e41b9dec6359fc66760c0eb4d6fa5f" category="paragraph">Deploy の Web ユーザインターフェイスでは、容量プールの使用方法に関する情報が強化されています。容量プールで使用されているストレージの量と使用可能なストレージの量、プールからストレージを使用しているノード、クラスタから容量を割り当てるプールを簡単に確認できます。</block>
  <block id="3db3547bcabe9c3ed4c1a8d9ade67c26" category="summary">ソフトウェア RAID は、 ONTAP ソフトウェアスタック内で実装される RAID 抽象化レイヤです。FAS などの従来型 ONTAP プラットフォーム内の RAID レイヤと同じ機能を提供します。RAID レイヤはドライブパリティ計算を実行し、 ONTAP Select ノード内の個々のドライブ障害に対する保護を提供します。</block>
  <block id="72516b350fb14e2e3d6c3218313ea038" category="doc">ローカル接続ストレージ向けのソフトウェア RAID サービス</block>
  <block id="3687f8d0eeb8ce0b039211af5645386b" category="paragraph">ONTAP Select には、ハードウェア RAID 構成とは関係なく、ソフトウェア RAID オプションも用意されています。ハードウェア RAID コントローラは、使用できない場合や、 ONTAP Select をスモールフォームファクタコモディティハードウェアに導入する場合など、特定の環境では望ましくない場合があります。ソフトウェア RAID では、このような環境も対象となるように、使用可能な導入オプションが拡張されご使用の環境でソフトウェア RAID を有効にするには、次の点に注意してください。</block>
  <block id="ba78d9bc321fc3ee90a95f7c31638c59" category="list-text">Premium または Premium XL ライセンスがある場合に使用できます。</block>
  <block id="eebf6ea2ee46e8530008306b8870d60a" category="list-text">ONTAP ルートディスクとデータディスクでは、 SSD または NVMe （ Premium XL ライセンスが必要）ドライブのみがサポートされます。</block>
  <block id="c76e75604936e38a9f0ecb8870e09062" category="list-text">ONTAP Select VM ブートパーティション用に別のシステムディスクが必要です。</block>
  <block id="fa246858b45dc233a0bdb89592ce5ecd" category="list-text">別のディスク（ SSD または NVMe ドライブ）を選択して、システムディスクのデータストアを作成します（ NVRAM 、 Boot / CF カード、コアダンプ、およびマルチノードセットアップのメディエーター）。</block>
  <block id="28f44037af103f0c930309365629f8ef" category="paragraph">* メモ *</block>
  <block id="e706626e85410ea82090ae7851391f6a" category="list-text">サービスディスクとシステムディスクは同じ意味で使用されています。</block>
  <block id="f7f94501061697350cc8cc8923e9f01c" category="list-text">サービスディスクとは、 ONTAP Select VM 内で使用される VMDK で、クラスタリング、ブートなどのさまざまな項目を処理するために使用されます。</block>
  <block id="d5286ac0f0cb4a9ebadbf1e2284c0036" category="list-text">サービスディスクは、ホストから見た単一の物理ディスク（総称してサービス / システム物理ディスク）に物理的に配置されます。その物理ディスクには DAS データストアが含まれている必要があります。ONTAP Deploy は、クラスタの導入時に ONTAP Select VM 用にこれらのサービスディスクを作成します。</block>
  <block id="8e06bfc0d19fc77ae0afdb8d915cba44" category="list-text">ONTAP Select システムディスクを複数のデータストアまたは複数の物理ドライブに分割することはできません。</block>
  <block id="ae53f0b18ae561048e9e68da79653a2c" category="list-text">ハードウェア RAID は廃止されていません。</block>
  <block id="60244f3ca85db5e7a5a991f8d7390183" category="section-title">ローカル接続ストレージ向けのソフトウェア RAID 構成</block>
  <block id="44041c5e10d06ec4fea2969c916c19d5" category="paragraph">ソフトウェア RAID を使用する場合は、ハードウェア RAID コントローラがないことが理想的ですが、システムに既存の RAID コントローラがある場合は、次の要件に従う必要があります。</block>
  <block id="53fb23810df5a40d55b84f003ecfe715" category="list-text">ハードウェア RAID コントローラを無効にして、ディスクがシステム（ JBOD ）で直接認識できるようにする必要があります。この変更は通常、 RAID コントローラの BIOS で行うことができます</block>
  <block id="2c1d0dc8c738fb8cd53919ff88936761" category="list-text">または、ハードウェア RAID コントローラが SAS HBA モードになっている必要があります。たとえば、一部の BIOS 設定では、 RAID に加えて「 AHCI 」モードが許可されており、これを選択すると JBOD モードを有効にできます。これによりパススルーが有効になり、物理ドライブがホスト上と同じように認識されます。</block>
  <block id="f91c8d369d9bc5534cc65fdd0cf87f50" category="paragraph">コントローラでサポートされるドライブの最大数によっては、追加のコントローラが必要になる場合があります。SAS HBA モードでは、速度 6Gb/ 秒以上の IO コントローラ（ SAS HBA ）がサポートされていることを確認してください。ただし、ネットアップが推奨するのは速度 12Gbps です。</block>
  <block id="7236710018f688fcbfb73a07698e1dc0" category="paragraph">他のハードウェア RAID コントローラモードや構成はサポートされていません。たとえば、一部のコントローラは、ディスクのパススルーを意図的に有効にする RAID 0 のサポートを許可していますが、望ましくない結果が生じる可能性があります。サポートされる物理ディスクのサイズ（ SSD のみ）は 200GB~16TB です。</block>
  <block id="7c075be1e0db241c27816a229098fd87" category="admonition">管理者は、 ONTAP Select VM で使用されているドライブを追跡し、ホスト上のドライブが誤って使用されないようにする必要があります。</block>
  <block id="cf3ece53165fb12e6a62c8c31bb10b74" category="section-title">ONTAP Select の仮想ディスクと物理ディスク</block>
  <block id="047a82130a722cc87d04ce1c3c768e41" category="paragraph">ハードウェア RAID コントローラを使用する構成では、 RAID コントローラによって物理ディスクの冗長性が提供されます。ONTAP Select には、 ONTAP 管理者がデータアグリゲートを設定できる 1 つ以上の VMDK が表示されます。これらの VMDK は RAID 0 形式でストライピングされます。 ONTAP ソフトウェア RAID の使用は冗長で非効率、かつハードウェアレベルでの耐障害性のために効果的であるためです。さらに、システムディスクに使用される VMDK は、ユーザデータの格納に使用される VMDK と同じデータストアに配置されます。</block>
  <block id="6a13d03cae29f356b7fc6b0917986685" category="paragraph">ソフトウェア RAID を使用する場合、 ONTAP Deploy は、 NVMe 用の一連の仮想ディスク（ VMDK ）と物理ディスクの raw デバイスマッピング（ RDM ）を ONTAP Select に提供します。また、 NVMe 用のパススルーデバイスまたは DirectPath IO デバイスもに提供します。</block>
  <block id="c1aafe133c0b3ba98838fb81849a7116" category="paragraph">次の図では、この関係を詳しく説明し、特に、 ONTAP Select VM 内部で使用される仮想ディスクと、ユーザデータの格納に使用される物理ディスクの違いを示します。</block>
  <block id="cef8adb4c866583d14e938aa050f98d8" category="paragraph">* ONTAP Select ソフトウェア RAID: 仮想ディスクと RDM* の使用</block>
  <block id="9c6ce597c0c93e3268f8d2583b8cb7f0" category="inline-image-macro">ONTAP Select ソフトウェア RAID ：仮想ディスクと RDM の使用</block>
  <block id="c9e9e00419c44ba1f3635807cbad6fdf" category="paragraph"><block ref="c9e9e00419c44ba1f3635807cbad6fdf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3ed4b3ccfe42c1bf099f8a9afa7354d4" category="paragraph">システムディスク（ VMDK ）は、同じ物理ディスク上の同じデータストア内にあります。仮想 NVRAM ディスクには、高速で耐久性の高いメディアが必要です。したがって、 NVMe データストアと SSD タイプのデータストアのみがサポートされます。</block>
  <block id="71a360146fb162de0eac10c2e64c0d5e" category="inline-image-macro">NVMe ドライブを搭載した ONTAP Select ソフトウェア RAID ：仮想ディスクおよびパススルーデバイスの使用</block>
  <block id="538c97540e657f23b7d18dc28e89ce28" category="paragraph"><block ref="538c97540e657f23b7d18dc28e89ce28" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6fc33fd5fc34cd4d0e1c573fe07dbfc6" category="paragraph">システムディスク（ VMDK ）は、同じ物理ディスク上の同じデータストア内にあります。仮想 NVRAM ディスクには、高速で耐久性の高いメディアが必要です。したがって、 NVMe データストアと SSD タイプのデータストアのみがサポートされます。NVMe ドライブをデータに使用する場合は、パフォーマンス上の理由からシステムディスクも NVMe デバイスにする必要があります。All NVMe 構成のシステムディスクに適しているのは、 Intel Optane カードです。</block>
  <block id="2171a187e31b22b36301174d9bf05b3a" category="admonition">現在のリリースでは、 ONTAP Select システムディスクを複数のデータストアまたは複数の物理ドライブに分割することはできません。</block>
  <block id="db287db693103f0eb0bc0980a4f1a354" category="paragraph">各データディスクは、小規模なルートパーティション（ストライプ）と 2 つの同一サイズのパーティションという 3 つの部分に分割され、 ONTAP Select VM 内に 2 つのデータディスクが作成されます。シングルノードクラスタと HA ペアのノードの次の図に示すように、パーティションは Root Data Data （ RD2 ）スキーマを使用します。</block>
  <block id="dca5b62211054283d4211aef3e88f4c8" category="paragraph">「 P 」はパリティ・ドライブを示します。「 DP 」はデュアル・パリティ・ドライブを表し、「 S 」はスペア・ドライブを表します。</block>
  <block id="f318527ee8916e5ca47f3d5ed9945b54" category="paragraph">* シングルノードクラスタ用の RDD ディスクパーティショニング *</block>
  <block id="fc8e2c1dda0465d080cba6462209023c" category="inline-image-macro">シングルノードクラスタの RDD ディスクパーティショニング</block>
  <block id="7ac31542e221cec8982a853b92968209" category="paragraph"><block ref="7ac31542e221cec8982a853b92968209" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6bf481156f28eb413de2a86da5c02655" category="paragraph">* マルチノードクラスタ（ HA ペア）の RDD ディスクパーティショニング *</block>
  <block id="0d705f093e6a9c502f09f0101718b722" category="inline-image-macro">マルチノードクラスタ（ HA ペア）の RDD ディスクパーティショニング</block>
  <block id="87b7be5aa608878acc67090d7376b040" category="paragraph"><block ref="87b7be5aa608878acc67090d7376b040" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b22bc536dec106d0fd23eb107a048c4c" category="paragraph">ONTAP ソフトウェア RAID は、 RAID タイプとして RAID 4 、 RAID-DP 、および RAID-TEC をサポートしています。これらは、 FAS プラットフォームと AFF プラットフォームで使用される RAID 構成と同じです。ルートプロビジョニング ONTAP Select では、 RAID 4 と RAID-DP のみがサポートされます。データアグリゲートに RAID-TEC を使用する場合、全体の保護は RAID-DP になります。ONTAP Select HA は、各ノードの構成を他のノードにレプリケートするシェアードナッシングアーキテクチャを使用します。つまり、各ノードは、ルートパーティションと、そのピアのルートパーティションのコピーを格納する必要があります。データディスクにはルートパーティションが 1 つあるため、最小データディスク数は ONTAP Select ノードが HA ペアの一部かどうかによって異なります。</block>
  <block id="6c1c3b52b9fafd2100a63b937535e0f3" category="paragraph">シングルノードクラスタの場合、すべてのデータパーティションを使用してローカル（アクティブ）データが格納されます。HA ペアの一部であるノードでは、 1 つのデータパーティションを使用してそのノードのローカル（アクティブ）データが格納され、 2 つ目のデータパーティションを使用して HA ピアのアクティブデータがミラーリングされます。</block>
  <block id="aa91cf53bb1527f525c6fdf50ca815d5" category="section-title">パススルー（ DirectPath IO ）デバイス vs.RDM （ raw デバイスマップ）</block>
  <block id="b22e6426b8ceb501eb1ce0d225e63b38" category="paragraph">VMware ESX では、 NVMe ディスクを Raw デバイスマップとしてサポートしていません。ONTAP Select で NVMe ディスクを直接制御するには、 ESX で NVMe ドライブがパススルーデバイスとして設定されている必要があります。NVMe デバイスをパススルーデバイスとして設定するには、サーバ BIOS でサポートが必要であり、システム停止が伴うため、 ESX ホストのリブートが必要になることに注意してください。さらに、 ESX ホストあたりの最大パススルーデバイス数は 16 です。ただし、 ONTAP Deploy ではこれが 14 に制限されています。この ONTAP Select ノードあたりの上限は 14 個です。つまり、すべての NVMe 構成で、容量を犠牲にして非常に高い IOPS 密度（ IOPS/TB ）が実現します。また、ストレージ容量の大きいハイパフォーマンス構成が求められる場合は、大容量の ONTAP Select VM 、システムディスク用の Intel Optane カード、データストレージ用の公称数の SSD ドライブを推奨します。</block>
  <block id="7a4bd36022e514de0f12d5bae592d99d" category="admonition">NVMe のパフォーマンスを最大限に引き出すには、 ONTAP Select VM のサイズを大きくすることを検討します。</block>
  <block id="7bc139a0138c6067c327337cb182f8e0" category="paragraph">パススルーデバイスと RDM には、さらに違いがあります。RDM は実行中の VM にマッピングできます。パススルーデバイスには VM のリブートが必要です。つまり、 NVMe ドライブの交換や容量拡張（ドライブの追加）用の手順 では、 ONTAP Select VM をリブートする必要があります。ドライブの交換と容量拡張（ドライブの追加）処理は、 ONTAP Deploy のワークフローによって実行されます。ONTAP Deploy は、シングルノードクラスタの ONTAP Select リブートおよび HA ペアのフェイルオーバー / フェイルバックを管理します。ただし、 SSD データドライブを使用する（ ONTAP Select のリブートやフェイルオーバーは不要）と NVMe データドライブを使用する（ ONTAP Select のリブートやフェイルオーバーが必要）の違いに注意する必要があります。</block>
  <block id="bfe1db46b73b47c7ae447ac33fb69e45" category="section-title">物理ディスクと仮想ディスクのプロビジョニング</block>
  <block id="0f2dd21a47272055ac8bb22a37ed1c81" category="paragraph">より効率的なユーザエクスペリエンスを提供するため、 ONTAP Deploy は指定されたデータストア（物理システムディスク）からシステム（仮想）ディスクを自動的にプロビジョニングし、それらを ONTAP Select VM に接続します。この処理は、 ONTAP Select VM がブートできるようにするため、初期セットアップ時に自動的に実行されます。RDM はパーティショニングされ、ルートアグリゲートが自動的に構築されます。ONTAP Select ノードが HA ペアの一部である場合、データパーティションはローカルストレージプールとミラーストレージプールに自動的に割り当てられます。この割り当ては、クラスタ作成処理とストレージ追加処理の両方で自動的に行われます。</block>
  <block id="cee5e25191b9dce69623e9ea9da32f76" category="paragraph">ONTAP Select VM のデータディスクは基盤となる物理ディスクに関連付けられているため、物理ディスクを多くして構成を作成するとパフォーマンスに影響します。</block>
  <block id="92697c9f70bfac874ab426e8b9d6fdf7" category="admonition">ルートアグリゲートの RAID グループタイプは、使用可能なディスクの数によって異なります。適切な RAID グループタイプは、 ONTAP Deploy によって選択されます。ノードに十分なディスクが割り当てられている場合は RAID-DP が使用され、そうでない場合は RAID-4 ルートアグリゲートが作成されます。</block>
  <block id="8beda13ba1dfbc50d967dfcff3d01a5c" category="paragraph">ソフトウェア RAID を使用して ONTAP Select VM に容量を追加する場合、管理者は物理ドライブのサイズと必要なドライブ数を考慮する必要があります。詳細については、を参照してください <block ref="3758ab6c14151317cde23ae6146a416a" category="inline-link-macro-rx"></block>。</block>
  <block id="699c39c6bac177f440d7e25a11eb2a32" category="paragraph">FAS システムや AFF システムと同様に、既存の RAID グループに追加できるのは、容量が同等以上のドライブのみです。容量が大きいドライブは、適切なサイズに調整されます。新しい RAID グループを作成する場合は、アグリゲート全体のパフォーマンスが低下しないように、新しい RAID グループのサイズが既存の RAID グループのサイズと一致する必要があります。</block>
  <block id="37545088a0d85d89a9496bee0b242ab6" category="section-title">ONTAP Select ディスクを対応する ESX ディスクと一致させます</block>
  <block id="a44033dbfcef3014d1535041b262038f" category="paragraph">ONTAP Select ディスクには通常、 NET x.y というラベルが付けられますディスク UUID は、次の ONTAP コマンドを使用して取得できます。</block>
  <block id="82130f34a60b2de00ac2e3139e13fb5b" category="inline-image-macro">ONTAP Select ディスクと対応する ESX ディスクの照合</block>
  <block id="74a7c8af4aa4bac9725ff850beb40b8d" category="paragraph"><block ref="74a7c8af4aa4bac9725ff850beb40b8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2a65a90733b904bc599f431b2bacdf4b" category="paragraph">ESXi シェルで、次のコマンドを入力して、特定の物理ディスク（ naa.unique-id で識別）の LED を点滅させることができます。</block>
  <block id="b318e3ce8108059983a7b332b8d1047f" category="section-title">ソフトウェア RAID 使用時に複数のドライブ障害が発生した場合</block>
  <block id="adde1f59e221bd8bc0f7b097114c5b3a" category="paragraph">場合によっては、複数のドライブで同時に障害が発生する状況が発生することがあります。システムの動作は、アグリゲート RAID 保護と、障害が発生したドライブの数によって異なります。</block>
  <block id="22e734a7b15ad33b4b32a5a36e1625e5" category="paragraph">1 つの RAID-TEC 4 アグリゲートは、 1 つのディスク障害、 RAID-DP アグリゲートは 2 つのディスク障害、 1 つの RAID 4 アグリゲートは 3 つのディスク障害が発生しても停止することはありません。</block>
  <block id="406158272ee9bca8ac0cb6fb1cbda719" category="paragraph">障害ディスクの数が RAID タイプでサポートされている障害の最大数よりも少なく、スペアディスクが使用可能な場合は、再構築プロセスが自動的に開始されます。スペアディスクを使用できない場合、アグリゲートは、スペアディスクが追加されるまでデグレード状態のデータを提供します。</block>
  <block id="7660ce9a6e2c4e7dfc2fdec1d7cba702" category="paragraph">障害ディスクの数が、 RAID タイプでサポートされる障害の最大数を超えている場合、ローカルプレックスは障害が発生したとマークされ、アグリゲートはデグレードの状態になります。データは、 HA パートナーの 2 番目のプレックスから提供されます。つまり、ノード 1 の I/O 要求は、クラスタインターコネクトポート e0e （ iSCSI ）を介し、ノード 2 に物理的に配置されているディスクに送信されます。2 つ目のプレックスにも障害が発生すると、アグリゲートは障害が発生したとマークされ、データが使用できなくなります。</block>
  <block id="fc009512059b2e62d9f72f2b6648313c" category="paragraph">適切なデータミラーリングを再開するために、障害が発生したプレックスは、削除して再作成する必要があります。また、データアグリゲートのデグレードにつながるマルチディスク障害が発生すると、ルートアグリゲートもデグレードされることに注意してください。ONTAP Select は、ルート / データ / データ（ RDD ）パーティショニングスキーマを使用して、各物理ドライブをルートパーティションと 2 つのデータパーティションに分割します。そのため、 1 つ以上のディスクを失うと、ローカルルートアグリゲートやリモートルートアグリゲートのコピーのほか、ローカルデータアグリゲートやリモートデータアグリゲートのコピーなど、複数のアグリゲートに影響が及ぶ可能性があります。</block>
  <block id="f7f034960d16c32b605295a9e39541cd" category="admonition">1 つまたは複数のドライブ障害をテストまたはシミュレートするには 'storage disk fail -disk net-x.y-immediate コマンドを使用しますシステムにスペアがある場合は、アグリゲートの再構築が開始されます。再構築のステータスは、 storage aggregate show コマンドを使用して確認できます。シミュレートされた障害のあるドライブを削除するには、 ONTAP Deploy を使用します。ONTAP はドライブを「破損」としてマークしていることに注意してください。ドライブは実際には破損しておらず、 ONTAP Deploy を使用して再び追加できます。破損したラベルを消去するには、 ONTAP Select CLI で次のコマンドを入力します。</block>
  <block id="7900f137f5b84159e689df34552f1fdb" category="paragraph">最後のコマンドの出力は空である必要があります。</block>
  <block id="a18d9a58110d3cb59ca5ec3ac833794b" category="paragraph">NetApp FAS システムには、従来より物理 NVRAM PCI カードが取り付けられていました。このカードは、書き込みパフォーマンスが大幅に向上する不揮発性フラッシュメモリを搭載した高性能カードです。これは、クライアントへのライトバックをすぐに確認できる機能を ONTAP に付与することで実現されます。また、変更されたデータブロックを低速のストレージメディアに移動する、デステージと呼ばれるプロセスをスケジュール設定することもできます。</block>
  <block id="4743aed05956c45786febf4f789a111e" category="paragraph">コモディティシステムには通常、このタイプの機器が取り付けられていません。このため、 NVRAM カードの機能が仮想化されて、 ONTAP Select システムブートディスク上のパーティションに配置されてきました。そのため、インスタンスのシステム仮想ディスクの配置は非常に重要です。</block>
  <block id="ce78ffc97df7b01d036f243f07839070" category="summary">ONTAP Deploy は、 ONTAP Select クラスタ内の各ノードにストレージを追加し、ライセンスを付与するために使用できます。</block>
  <block id="9d9a4fa3f8bc822652ce73f5ccc63a4e" category="paragraph">ONTAP Deploy のストレージ追加機能は、管理下のストレージを増やす唯一の方法であり、 ONTAP Select VM を直接変更することはできません。次の図に、ストレージ追加ウィザードを開始する「 + 」アイコンを示します。</block>
  <block id="c3a3966f7642611a1f29ac32ece5424a" category="inline-image-macro">クラスタとノードの詳細</block>
  <block id="5173484fc77540455696c27455d0de7a" category="paragraph"><block ref="5173484fc77540455696c27455d0de7a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c72b04b0554efd3656eec23c41c05f12" category="paragraph">ここでは、容量を拡張する際の重要な考慮事項を記載します。既存のライセンスがスペースの総容量（既存の容量と新規の容量の合計）に対応している必要があります。ノードがライセンスされた容量を超えることになるストレージ追加処理は失敗します。最初に十分な容量の新しいライセンスをインストールしておく必要があります。</block>
  <block id="58f7f2ba3bb082a6686d5b046b0aa53a" category="paragraph">既存の ONTAP Select アグリゲートに容量を追加する場合は、新しいストレージプール（データストア）に既存のストレージプールと同様のパフォーマンスプロファイルが必要です。AFF に似たパーソナリティ（フラッシュが有効）とともにインストールされた ONTAP Select ノードに、 SSD 以外のストレージを追加することはできません。DAS と外付けストレージの混在もサポートされていません。</block>
  <block id="36e73d62c2cd5ec3c0822a48bf19fe4e" category="paragraph">ローカル接続ストレージをシステムに追加して新たなローカル（ DAS ）ストレージプールにする場合は、 RAID グループおよび LUN を追加で作成する必要があります。FAS システムと同様に、新しいスペースを同じアグリゲートに追加する場合は、新しい RAID グループのパフォーマンスが元の RAID グループとほぼ同じになるようにする必要があります。アグリゲートを新規に作成する場合は、新しい RAID グループに別のレイアウト使用してもかまいませんが、新しいアグリゲートがパフォーマンスに与える影響を十分に理解しておく必要があります。</block>
  <block id="7c15e86bf0142fe631a60e5d9751a63d" category="paragraph">データストアの合計サイズが ESX でサポートされる最大データストアサイズを超えないかぎり、新しいスペースはエクステントとして同じデータストアに追加できます。ONTAP Select がインストールされているデータストアには、データストアエクステントを動的に追加でき、 ONTAP Select ノードの処理には影響しません。</block>
  <block id="bca4690e209f4ec52d3556e6f3d5208c" category="paragraph">ONTAP Select ノードが HA ペアの一部である場合は、さらにいくつかの点を考慮する必要があります。</block>
  <block id="1be1dc04dca3e9f64446a7d5ae548de3" category="paragraph">HA ペアでは、各ノードにパートナーのデータのミラーコピーが格納されます。ノード 1 にスペースを追加する場合は、ノード 1 のすべてのデータがノード 2 にレプリケートされるように、同量のスペースをパートナーノード 2 に追加する必要があります。つまり、ノード 1 の容量を追加した結果としてノード 2 に追加された容量は、ノード 2 では認識されず、アクセスすることもできません。ノード 2 にスペースが追加されるのは、 HA イベントの際にノード 1 のデータを完全に保護するためです。</block>
  <block id="26ba22543c192da0770b9acdb1bc47a1" category="paragraph">パフォーマンスについてさらに考慮する必要があります。ノード 1 のデータは、ノード 2 に同期的にレプリケートされます。このため、ノード 1 の新しいスペース（データストア）のパフォーマンスが、ノード 2 の新しいスペース（データストア）のパフォーマンスと一致している必要があります。つまり、両方のノードにスペースを追加しても、ドライブテクノロジや RAID グループサイズが異なっていると、パフォーマンスに問題が生じるおそれがあります。これは、パートナーノードにデータのコピーを保持するために使用される RAID SyncMirror 処理が原因です。</block>
  <block id="920279c3d28790b2da0df018d33d7679" category="paragraph">HA ペアの両方のノードでユーザがアクセスできる容量を増やすには、ノードごとに 1 つ、合計 2 つの処理を実行する必要があります。各ストレージ追加処理で、両方のノードに追加のスペースが必要となります。各ノードで必要な合計スペースは、ノード 1 で必要なスペースとノード 2 で必要なスペースの合計です。</block>
  <block id="70b6bb0143eb5da91ca21e3a386a320e" category="paragraph">初期セットアップでは、 2 つのノードがあり、各ノードにはスペースが 30TB のデータストアが 2 つあります。ONTAP Deploy は 2 ノードクラスタを作成し、各ノードはデータストア 1 から 10TB のスペースを使用します。ONTAP Deploy は、各ノードに 5TB のアクティブスペースを設定します。</block>
  <block id="92eb2ca36080eb092b0e00699c8bf1a6" category="paragraph">次の図は、ノード 1 に対する単一ストレージの追加操作の結果を示しています。ONTAP Select は引き続き各ノードで同じ量のストレージ（ 15TB ）を使用します。ただし、ノード 1 には、ノード 2 （ 5TB ）よりアクティブなストレージ（ 10TB ）があります。両方のノードは、各ノードがもう一方のノードのデータのコピーをホストするため、完全に保護されます。データストア 1 にはさらに空きスペースが残っており、データストア 2 はすべて空きスペースのままです。</block>
  <block id="9c58e50e6990e27f87e7507a46af7108" category="paragraph">* 容量配分： 1 回のストレージ追加操作後の割り当てと空き容量 *</block>
  <block id="b8d9427f239f75cb2027be984dac0827" category="inline-image-macro">容量の配分： 1 回のストレージ追加操作後の割り当てと空きスペース</block>
  <block id="0f75ffd0dcd28bc3d2848ecbf4fdd6ca" category="paragraph"><block ref="0f75ffd0dcd28bc3d2848ecbf4fdd6ca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c1630983d9bccfd6a116ddbf3988abd" category="paragraph">ノード 1 でさらにストレージ追加処理を実行すると、データストア 1 の残りの空きスペースとデータストア 2 の一部が使用されます（容量の上限を使用）。最初のストレージ追加処理では、データストア 1 に残っている 15TB の空きスペースが使用されます。次の図は、 2 つ目のストレージ追加処理の結果を示しています。この時点で、ノード 1 には 50TB のアクティブデータが管理下にあり、ノード 2 には元の 5TB があります。</block>
  <block id="60335c45479d5492effa61fb2225712e" category="paragraph">* 容量配分：ノード 1 に対する 2 つのストレージ追加操作後の割り当てと空き容量 *</block>
  <block id="476966ed5717093f384f41d2ca32b81f" category="inline-image-macro">容量の配分：ノード 1 に対する 2 つのストレージの追加操作後の割り当てと空きスペース</block>
  <block id="fc4be5f1fdb7bb07a7386ed63d05c92b" category="paragraph"><block ref="fc4be5f1fdb7bb07a7386ed63d05c92b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c6cac66c9b03fe4a35bf51f65f070337" category="paragraph">容量追加処理で使用される VMDK の最大サイズは 16TB です。クラスタ作成処理で使用できる VMDK の最大サイズは引き続き 8TB です。ONTAP Deploy では、構成（シングルノードクラスタまたはマルチノードクラスタ）および追加する容量に応じて、適切なサイズの VMDK が作成されます。ただし、各 VMDK の最大サイズは、クラスタ作成処理の場合は 8TB 、ストレージ追加処理の場合は 16TB です。</block>
  <block id="d5ceb4529d77e5f9b62aaf9c310c6fa5" category="section-title">ソフトウェア RAID を使用した ONTAP Select の容量の拡張</block>
  <block id="231c62b8ed7956e4482cd655242877c0" category="paragraph">ストレージ追加ウィザードを使用すると、ソフトウェア RAID を使用して、 ONTAP Select ノードの管理下にある容量を増やすことができます。このウィザードでは、使用可能な DAS SDD ドライブのみが表示され、 ONTAP Select VM に RDM としてマッピングできます。</block>
  <block id="b653d76b3eb8cecfcec59abdfb944659" category="paragraph">容量ライセンスを 1TB 単位で増やすことはできますが、ソフトウェア RAID を使用する場合は、容量を物理的に 1TB 単位で増やすことはできません。FAS または AFF アレイにディスクを追加する場合と同様に、 1 回の操作で追加できるストレージの最小容量は、特定の要因によって決まります。</block>
  <block id="632dab84293dcc8061b7aac2b700b22a" category="paragraph">HA ペアでノード 1 にストレージを追加するには、ノードの HA ペア（ノード 2 ）でも同じ数のドライブを使用できる必要があります。ローカルドライブとリモートディスクの両方が、ノード 1 での 1 回のストレージ追加処理で使用されます。つまり、リモートドライブを使用して、ノード 1 の新しいストレージがノード 2 にレプリケートされ、保護されることが確認されます。ローカルで使用可能なストレージをノード 2 に追加するには、両方のノードで、別のストレージ追加処理を実行し、別途同数のドライブを使用できる必要があります。</block>
  <block id="783dbe20511974f468aa9ebeebc23e1a" category="paragraph">ONTAP Select は、新しいドライブを既存のドライブと同じルート、データ、データパーティションにパーティショニングします。パーティショニング処理は、新しいアグリゲートの作成時、または既存のアグリゲートの拡張時に実行されます。各ディスクのルートパーティションストライプサイズは、既存ディスクの既存のルートパーティションサイズと一致するように設定されます。したがって、 2 つの同じデータパーティションサイズのそれぞれについて、ディスクの合計容量からルートパーティションサイズを引いた値を 2 で割った値を算出できます。ルートパーティションストライプサイズは可変で、初期クラスタセットアップ時に次のように計算されます。必要なルートスペースの合計（シングルノードクラスタの場合は 68GB 、 HA ペアの場合は 136GB ）を、最初のディスク数からスペアドライブとパリティドライブを引いた数で割ります。ルートパーティションストライプサイズは、システムに追加されるすべてのドライブで一定になるように維持されます。</block>
  <block id="7f03910ef079fabe5de20f27a6c70a6c" category="paragraph">新しいアグリゲートを作成する場合、必要な最小ドライブ数は、 RAID タイプ、および ONTAP Select ノードが HA ペアの一部かどうかによって異なります。</block>
  <block id="a7422510d5a43585fa8699b39a3cb49e" category="paragraph">既存のアグリゲートにストレージを追加する場合は、さらに考慮すべき点があります。RAID グループがまだ最大数に達していない場合は、既存の RAID グループにドライブを追加できます。既存の RAID グループにスピンドルを追加する際の従来の FAS と AFF のベストプラクティスがここでも適用され、新しいスピンドルにホットスポットができる点が懸念事項となります。また、既存の RAID グループに追加できるのは、データパーティションのサイズが同じかそれ以上のドライブだけです。前述したように、データパーティションのサイズは、ドライブの物理サイズとは異なります。追加するデータパーティションが既存のパーティションより大きい場合、新しいドライブは適切なサイズに調整されます。つまり、新しい各ドライブの容量には使用されない部分が残ります。</block>
  <block id="7b0a69ff25da57918670458098c0bcb2" category="paragraph">新しいドライブを使用して、既存のアグリゲートの一部として新しい RAID グループを作成することもできます。この場合、 RAID グループのサイズは既存の RAID グループのサイズと同じである必要があります。</block>
  <block id="a0529b215fbb180f33a4b55d2d06fa65" category="summary">不要になった ONTAP Select イメージは、 Deploy 管理ユーティリティのインスタンスから削除できます。</block>
  <block id="88f5f2d536b432f9590bf24f8b05bc59" category="doc">Deploy からの ONTAP Select イメージの削除</block>
  <block id="44f3dc9f001188ee5a7b34cbdc80486f" category="admonition">クラスタで使用中の ONTAP Select イメージを削除しないでください。</block>
  <block id="bdcc30baa721ccd0a5acff90c91be1eb" category="paragraph">クラスタで現在使用されていない、または将来のクラスタ導入で使用する予定の古い ONTAP Select イメージを削除できます。</block>
  <block id="782ecd049df8bffe850b977d8d9ef2dd" category="list-text">管理者（ admin ）アカウントで SSH を使用して、 Deploy ユーティリティの CLI にサインインします。</block>
  <block id="fa1108d6713a8e964a0091afacde76b4" category="list-text">Deploy で管理されるクラスタを表示して、使用中の ONTAP イメージを記録します。</block>
  <block id="494cb4f7976c64f111b74e9089d5bbd5" category="paragraph">「 cluster show 」を参照してください</block>
  <block id="bc51625a3fe6a0e7ccf7a1059630b41c" category="paragraph">各ケースのバージョン番号とハイパーバイザープラットフォームをメモします。</block>
  <block id="8b7bd3ee934f35f730dee72837b5aee2" category="list-text">Bash シェルを起動します。</block>
  <block id="34eaf92501247fea4a9be97412cef6df" category="paragraph">シェル bash</block>
  <block id="75c67769109540e212db27715ac58ee9" category="list-text">使用可能なすべての ONTAP Select イメージを表示します。</block>
  <block id="bac8e85676787adaae3dcc2dd52d64fa" category="paragraph">ls -LH /opt/NetApp/images</block>
  <block id="cda33a034ba882bacd58315a77cc81b3" category="list-text">必要に応じて、 ESXi イメージを削除します。</block>
  <block id="19b0df5ac5e7fed3b93ef14a626c1330" category="paragraph">例 rm -r /opt/NetApp/images/DataONTAPv-9.3RC1 -vidconsole-esx.ova</block>
  <block id="144e136136c9b5e30873de1afe8813d2" category="list-text">ONTAP Select 9.10.1 より前のリリースを使用する場合は、 KVM イメージを削除することもできます。</block>
  <block id="acbb93a8e2ab3c3f0b3c4adb7b2094ff" category="paragraph">例 rm -r /opt/NetApp/images/DataONTAPv -9.3RC1 -serialconsole-kvm.raw.tar</block>
  <block id="cf3870a4ea8df9ca19bca44e9ddb94ff" category="summary">ONTAP Select Deploy 管理ユーティリティのインストールを計画する際に考慮する必要のある一般的な要件がいくつかあります。</block>
  <block id="dbc858bba588a84f31510f7236fc9029" category="doc">ONTAP Select Deploy の一般的な要件と計画</block>
  <block id="69bed9e4fad549efbae3d288b2a4e6ac" category="section-title">Deploy ユーティリティと ONTAP Select クラスタのペアリング</block>
  <block id="61abb7e80f6314967e8ba9eff0a2f665" category="paragraph">Deploy ユーティリティのインスタンスを ONTAP Select クラスタにペアリングする際に使用するいくつかのオプションがあります。</block>
  <block id="ff3a5f3a2407de2098c9852e73aafaba" category="admonition">すべての導入シナリオでは、単一の ONTAP Select クラスタとクラスタ内のノードを、 Deploy 管理ユーティリティの 1 つのインスタンスだけで管理できます。Deploy ユーティリティの 2 つ以上の異なるインスタンスによって 1 つのクラスタを管理することはできません。</block>
  <block id="4915d09e84a3dbe0ea9a6ff2c9ff1bce" category="paragraph">Deploy ユーティリティの専用のインスタンスを使用して、各 ONTAP Select クラスタを導入および管理できます。この 1 対 1 の構成では、ユーティリティとクラスタの各ペアリングが明確に分離されます。この構成では、小規模な障害ドメインで高度な分離が実現されます。</block>
  <block id="98b434283d51242b8abe90e0bca8c608" category="paragraph">Deploy ユーティリティの単一インスタンスを使用して、複数の ONTAP Select クラスタを組織で導入および管理できます。この 1 対多の構成では、すべての処理データと設定データが Deploy ユーティリティの同じインスタンスによって管理されます。</block>
  <block id="cb5c4ac43d5ce9027654eba19116e388" category="admonition">Deploy ユーティリティの 1 つのインスタンスで、最大 400 個の ONTAP Select ノードまたは 100 個のクラスタを管理できます。</block>
  <block id="c345b09f8ba5f2ac2cd82288cfbed6f6" category="section-title">クレデンシャルストアを使用した認証</block>
  <block id="ccff6764a404cdbfc02d31c4c6b41443" category="paragraph">ONTAP Select Deploy クレデンシャルストアは、アカウント情報を保持するデータベースです。Deploy は、クラスタの作成と管理の一環として、アカウントのクレデンシャルを使用してホスト認証を実行します。ONTAP Select の導入計画の一環として、クレデンシャルストアがどのように使用されるかを理解しておく必要があります。</block>
  <block id="1ea2947dc8d9221eb1191bb16ac646e9" category="admonition">アカウント情報は、 AES 暗号化アルゴリズムと SHA-256 ハッシュアルゴリズムを使用し、データベースに安全に保存されます。</block>
  <block id="cae10f600cbb13bc7d34a887977c79a8" category="paragraph">次のタイプのクレデンシャルがサポートされます。</block>
  <block id="473ff5b444e8cefb39620100d2cc4834" category="list-text">ONTAP Select ノードを VMware ESXi に直接導入する際にハイパーバイザーホストを認証するために使用するホスト</block>
  <block id="f9c8e615168b7695f683bda1636a1fd7" category="list-text">ホストが VMware vCenter で管理されている場合、 ESXi への ONTAP Select ノードの導入時に vCenter サーバの認証に使用する vCenter</block>
  <block id="bf733d8a933c1601697f364223fc7ecb" category="section-title">にアクセスします</block>
  <block id="6bc6433efd5abd7e3ac98556742ca0e4" category="paragraph">クレデンシャルストアは、ハイパーバイザーホストの追加など、 Deploy を使用する通常の管理タスクの実行時に内部的にアクセスされます。Deploy の Web ユーザインターフェイスと CLI を使用して、クレデンシャルストアを直接管理することもできます。</block>
  <block id="545d5da191e6a6ba8756e03d9e72b5d9" category="summary">ワークフローに従って、 ONTAP Select 環境用のライセンスを購入して適用できます。</block>
  <block id="6bf97a07b409df8a63f240116f097a26" category="doc">ライセンス購入時のワークフロー</block>
  <block id="67f277ce98738f33f83293525780e9a2" category="paragraph">次のワークフローは、 ONTAP Select 環境用のライセンスを購入して適用するプロセスを示しています。ライセンスを購入する際には、ライセンスモデルとストレージ容量を選択する必要があります。</block>
  <block id="6fff1f3e41423b59b387036f1c43f446" category="paragraph">具体的なプロセスは、大容量階層ライセンスと大容量プールライセンスのどちらを使用しているかによって異なります。</block>
  <block id="0062e2b8fb35cb9835391a2defa6a065" category="list-text">9 桁のライセンスシリアル番号</block>
  <block id="79e0e2c63445d0a61c41da376fa86f53" category="list-text">シリアル番号環境 ：ノード（大容量階層）またはストレージプール（大容量プール）</block>
  <block id="466feccbc5c615c8c64edaa9f141fd74" category="list-text">ライセンスロック ID</block>
  <block id="8a1682395c44d437628616757dac21b3" category="list-text">容量プールライセンスを使用する場合は、 Deploy インスタンスのライセンスロック ID が必要です</block>
  <block id="c6fdf62cd5d566315189e3fc6458c3d7" category="list-text">ライセンス Web サイト</block>
  <block id="43180a10c14034015ad04f63c4222224" category="list-text">容量階層ライセンスと容量プールライセンスは Web サイトごとに異なります</block>
  <block id="d981b46179e3f91d5fe1f32dd9134fff" category="inline-image-macro">本番用 ONTAP Select 環境用のストレージライセンスを購入してインストールするプロセスについて説明します。</block>
  <block id="87f55f3b9d86ff28fa332ac74ae68458" category="paragraph"><block ref="87f55f3b9d86ff28fa332ac74ae68458" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cfefdf9f9116733d1d1ad3b350177013" category="summary">Deploy vCenter プラグインをインストールして使用する前に、プラグインを確実に実行するための準備を行う必要があります。</block>
  <block id="101e8fbb4dc56aa62c99481f0ec9a1c2" category="doc">Deploy vCenter プラグインの使用を計画している</block>
  <block id="7ddb33edf227a18eb76201fcb9e2c9db" category="section-title">ソフトウェア要件</block>
  <block id="0624fb538625e751d26bf8ea362893ea" category="paragraph">次の表に示すいくつかのソフトウェア要件について考慮する必要があります。</block>
  <block id="719d067b229178f03bcfa1da4ac4dede" category="cell">ソフトウェア</block>
  <block id="1b5464d2bddbf5499996a29c5e0e13f6" category="cell">サポートされているバージョン</block>
  <block id="8fb96250b2438555dcfddff0011edace" category="cell">ONTAP Select Deploy ユーティリティ</block>
  <block id="fd17b6c696e7bedef99de0c5c3ac7d6b" category="cell">2.11.2 以降</block>
  <block id="8887a9a417a1629326acdb917d224337" category="cell">VMware vSphere の場合</block>
  <block id="eddf0f8949fda8efedbdf833db2d30cf" category="cell">6.5 GA 以降</block>
  <block id="28e4e01e65ffb3b990721a482ef6b4ee" category="cell">VMware vSphere のユーザインターフェイス</block>
  <block id="1db80d6b5817436139445775eed1fb4e" category="cell">HTML5 （ Flash ベースバージョンはサポートされません）</block>
  <block id="1aa66ef3a8e34a7a538960a80d2e1e31" category="cell">ESXi</block>
  <block id="e4ff9e9e2ac41b72ce17f223f81eb5eb" category="cell">6.5U2 以降</block>
  <block id="7687a9c140938d5e2bcab5e6dd438fd8" category="section-title">クラスタサイズの制限</block>
  <block id="708e826a07a428cdc8cdfebb938668c7" category="paragraph">次の表に示すように、クラスタサイズに関するいくつかの制限事項について考慮する必要があります。</block>
  <block id="7d74f3b92b19da5e606d737d339a9679" category="cell">項目</block>
  <block id="07b512cac5dcad17feb5552614dfcae5" category="cell">サポートされる最大数</block>
  <block id="5e29468fa86353e7e6540b018302dc12" category="cell">ONTAP Select Deploy クラスタ</block>
  <block id="f899139df5e1059396431415e770c6dd" category="cell">100</block>
  <block id="63727060fc5c8a878243cc70c6e1fed8" category="cell">ノード（仮想マシン）</block>
  <block id="a9b7ba70783b617e9998dc4dd82eb3c5" category="cell">1000</block>
  <block id="8124579383e90243e4b06323d2b37f8d" category="cell">ホスト</block>
  <block id="7a53928fa4dd31e82c6ef826f341daec" category="cell">800</block>
  <block id="056ce74caaeaca6f523878ad72be2cd6" category="section-title">vCenter ユーザアカウント用の RBAC 権限</block>
  <block id="2c0c1187bb0d92d976901af61fc4a020" category="paragraph">プラグインの管理とアクセスには、複数の vCenter 権限が必要です。これらの権限は、次の 3 つのカテゴリのアクションに対応しています。</block>
  <block id="b38b7900e48d08c2c366cf7549413e50" category="list-text">Deploy を使用したプラグインの管理：</block>
  <block id="349838fb1d851d3e2014b9fe39203275" category="list-text">をインストールします</block>
  <block id="f683581d3e75f05f9d9215f9b4696cef" category="list-text">アップグレード</block>
  <block id="1063e38cb53d94d386f21227fcd84717" category="list-text">取り外します</block>
  <block id="27268191a2908870d8d86ace4788fa0a" category="list-text">vSphere Client を使用してプラグインにアクセスします</block>
  <block id="894caafeebbb7a22e0ed42c29a950172" category="list-text">vSphere を使用したプラグインへのユーザアクセスを検証しています</block>
  <block id="0db7774919fb890dcc3ed5259354e794" category="paragraph">を参照してください <block ref="a49c9d07548800a416a9df1c3c013670" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="6cabef0183e83926b9d5e8a467fc0617" category="section-title">AutoSupport の制限事項</block>
  <block id="230af85ccc504a1d75fd7d6f7de89d45" category="paragraph">Deploy vCenter プラグインは、 Deploy 管理ユーティリティ（プラグインの URL を含む）で最小限の使用情報を提供します。ただし、 AutoSupport には、 AutoSupport ビューアで表示できるインストール済みプラグインの表が含まれています。</block>
  <block id="80528d8b1ce8e239d7a62cc697fc4fad" category="admonition">Deploy プラグインを使用して、 vSphere Web Client から AutoSupport パッケージをダウンロードすることはできません。AutoSupport パッケージをダウンロードするには、標準の Deploy インターフェイスを使用する必要があります。</block>
  <block id="d66c3d45d2bb8165afc4400849d5ef66" category="section-title">その他の制限事項</block>
  <block id="efa2d81e09c03ac8f59db37e7754f469" category="paragraph">Deploy vCenter プラグインのインストールおよび使用にあたっては、さらにいくつかの制限事項を考慮する必要があります。</block>
  <block id="87047e87df6869e14bcf3acb222c063f" category="list-text">vCenter プラグインの各インスタンスでサポートされる vCenter Server は 1 台だけです。</block>
  <block id="95ce6f8819c17468d26e9273113e2925" category="list-text">リンクモードで設定されている vCenter Server はサポートされません。</block>
  <block id="4095acf87d608456e73a1a24f974cf96" category="list-text">vSphere の Deploy プラグイン GUI には、同じ vCenter サーバで管理される ONTAP Select 仮想マシンを含むクラスタのみが表示されます。スタンドアロンの ESXi ホストおよび KVM ホストで実行される ONTAP Select クラスタは含まれません。</block>
  <block id="662957ac48fad69fa3488fc904aded55" category="summary">ONTAP Select Deploy 用の VMware vCenter プラグインは、 VMware 環境で作業する ONTAP Select 管理者向けに設計されています。標準の Deploy ユーザインターフェイスの代わりに使用できます。</block>
  <block id="6684129c7e9c85958e2da9c9ee4d2753" category="doc">Deploy vCenter プラグインの概要</block>
  <block id="ebb7874046669ed4e56e4d69923550da" category="section-title">Deploy に同梱</block>
  <block id="72cc4e78f6d43e57cfb6c0624686f0c0" category="paragraph">Deploy vCenter プラグインは、 Deploy 管理ユーティリティに付属しています。Deploy のユーザインターフェイスを使用してプラグインを vCenter Server にインストールしたら、 vSphere Web インターフェイスからプラグインにアクセスできます。</block>
  <block id="dce5a2ac88ba228e004d240db831333d" category="section-title">VMware との統合</block>
  <block id="05a978679963a65ef0471a3f71c497a7" category="paragraph">多くの企業にとって、 VMware vCenter は、仮想化されたデータセンターとクラウドリソースを管理するための中央プラットフォームです。Deploy プラグインは vCenter と緊密に統合されているため、管理者は ONTAP Select ドメインと vCenter ドメインをすばやく移動して、さまざまなリソース間の関係を活用できます。</block>
  <block id="500ed246a37a8c04530f138730489936" category="section-title">Deploy vCenter プラグインが提供する機能</block>
  <block id="d8c23fccab8dfc9a1e8f55bd9133bfdd" category="paragraph">Deploy vCenter プラグインをインストールしたあと、「グローバルインベントリリスト」ペインの vSphere で 2 つの主要オプションを使用できます。</block>
  <block id="b8c9d15465163a3fb70dc6b5d53726a1" category="section-title">ONTAP Select クラスタ</block>
  <block id="1ab8b5b145677403a81e0a7daa6db410" category="paragraph">ONTAP Select クラスタオプションは、標準の Deploy Web ユーザインターフェイスの * クラスタ * タブとほぼ同じです。次の表に、このストレージシステムに搭載されている機能を示します。</block>
  <block id="02a36900f737458042d0c81b7d82cf9a" category="cell">実行する処理</block>
  <block id="93974b48ac034ffa0747193f54e6d328" category="cell">方法</block>
  <block id="e983a1da7ea1c60fc3605f69acbae7c8" category="cell">新規 ONTAP Select をクリックします。</block>
  <block id="de75afdfddc812d48827ad21f4daf4de" category="cell">クラスタの詳細を表示します</block>
  <block id="1947bdc9d3cac4aa2c058359fa17af7c" category="cell">クラスタを選択し、概要をクリックして、詳細をクリックします。</block>
  <block id="1206151f4dd75a5646c4126fb875fefb" category="cell">クラスタのイベントメッセージを表示します</block>
  <block id="77b598f179622174d25ade88b41f49da" category="cell">クラスタを選択し、概要をクリックして、イベントをクリックします。</block>
  <block id="133f51223baea485dd706006bbb2170e" category="cell">クラスタをオンラインまたはオフラインにするか、クラスタを削除します</block>
  <block id="81d6aa1cfd002fd251efaab6da1eb5da" category="cell">クラスタを選択し、 Actions （アクション）をクリックして、目的のアクションをクリックします。</block>
  <block id="835b7ac0eaf285552b7ec179de33d014" category="cell">System Manager を起動します</block>
  <block id="ef7f822413bae9f13292de051a4eb1b8" category="cell">クラスタを選択し、概要をクリックして詳細をクリックし、 System Manager の起動をクリックします。</block>
  <block id="0d0078df04ca4473abee58b88785b566" category="cell">クラスタで使用されている ESXi ホストを表示する</block>
  <block id="ca404b448374b3ff52a5c4f3918aead4" category="cell">クラスタを選択し、 [ その他のオブジェクト ] をクリックして、 [ ホスト ] をクリックします。詳細およびその他の操作を表示するには、ホストを選択してください。</block>
  <block id="4a0172c5463c8f1dd90814384618b5a8" category="cell">クラスタで使用されている ONTAP VM を表示します</block>
  <block id="8a61dce252ddbd44854ca0593686eb06" category="cell">クラスタを選択し、 More Objects をクリックして、 ONTAP VMs をクリックします。詳細やその他の操作を確認するには、 VM を選択してください。</block>
  <block id="123e22cf56d87af9915dfda8402df179" category="cell">クラスタで使用されているデータストアを表示します</block>
  <block id="2320807a698f4b672d7d13a1c2143ad2" category="cell">クラスタを選択し、 [ その他のオブジェクト ] をクリックして、 [ データストア ] をクリックします。データストアを選択すると、詳細やその他の操作が表示されます。</block>
  <block id="7e84ed6bead39521ef337f6b18425e55" category="cell">クラスタで使用されているネットワークを表示する</block>
  <block id="17c6b216f08c5a7afd2ece504600a03f" category="cell">クラスタを選択して [ その他のオブジェクト ] をクリックし、 [ ネットワーク ] をクリックします。ネットワークを選択すると、詳細やその他の操作が表示されます。</block>
  <block id="bbe112759c03d579393c744a60d596a8" category="paragraph">ONTAP Select Deploy オプションは、標準の Deploy Web ユーザインターフェイスの「 * Hypervisor Hosts * 」タブと「 * Administration * 」タブに相当します。次の表で説明するように、ページ上部の 3 つのタブを使用して機能を実行できます。</block>
  <block id="5c6ba25104401c9ee0650230fc6ba413" category="cell">タブをクリックする</block>
  <block id="290612199861c31d1036b185b4e69b75" category="cell">まとめ</block>
  <block id="74d572111b5bd37bd0d0ea69a5f665f7" category="cell">ホスト名や IP アドレスなど、 Deploy インスタンスの特性について説明します。</block>
  <block id="c2ca16d048ec66e04bca283eab048ec2" category="cell">ホスト</block>
  <block id="2d867b440fb33facc6ece8014025c66f" category="cell">ONTAP Select Deploy に登録されている ESXi ホストに関する情報が表示されます。ホストを追加または削除できます。</block>
  <block id="7258e7251413465e0a3eb58094430bde" category="cell">管理</block>
  <block id="3eeeacc9338a8e138db727b103868ca4" category="cell">Deploy ユーティリティを使用して管理タスクを実行できます。この機能は、 ONTAP Select Deploy の標準のユーザインターフェイスに相当します。ただし、プラグインで * Credentials * オプションと * Plugins * オプションが使用できない点が異なります。</block>
  <block id="f6e427d62567cc2c1af425d88a368c25" category="section-title">vCenter プラグインと標準の Deploy ユーザインターフェイスを比較する</block>
  <block id="862db17a1cf74ad9147b0639b3701307" category="paragraph">vSphere 経由で vCenter プラグインに付属する機能は、標準の Deploy ユーザインターフェイスに相当します。ただし、プラグインには付属していない機能がいくつかあり、 Deploy のユーザインターフェイスでのみ使用できます。</block>
  <block id="334a0ca1025659ebaff18094dc698886" category="section-title">vCenter プラグインの管理</block>
  <block id="c4ab795634e3dcd65f56293229d3e4d7" category="paragraph">vCenter プラグインを使用して vCenter プラグインをインストール、更新、削除、または確認することはできません。これらの管理タスクは、ネイティブの Deploy ユーザインターフェイスを使用して実行する必要があります。</block>
  <block id="bb423e5a9f870f6017ccfc4e1dda8054" category="section-title">vCenter クレデンシャルの管理</block>
  <block id="172dfa2a1b833a94fda1d5cd88d071c3" category="paragraph">vCenter プラグインをインストールする前に、標準の Deploy ユーザインターフェイスを使用して、 Deploy に必要な vCenter クレデンシャルを追加する必要があります。</block>
  <block id="54488fe4a57b2279c32676a699fa75d5" category="section-title">ONTAP Select クラスタは、同じ vCenter サーバで制御されている必要があります</block>
  <block id="c4366a578ebf8b0504ec1301ace5b3a8" category="paragraph">ONTAP Select クラスタの導入とサポートは、プラグインがインストールされている単一の vCenter サーバでのみ実行できます。このプラグインを使用して、スタンドアロンの ESXi または KVM ホストで実行されている他の vCenter サーバまたはクラスタで管理されている ONTAP Select クラスタにアクセスすることはできません。</block>
  <block id="26ed05650e4e62098cfd8ab5c5c2ad3c" category="summary">Deploy vCenter プラグインには、 vSphere Web Client からアクセスできます。</block>
  <block id="cf651e85a73edc43eb5753f0d5ae772c" category="doc">vSphere を使用した vCenter Plug-in へのアクセス</block>
  <block id="2c0de079059404228b35bed19dd1de60" category="paragraph">vCenter プラグインをインストールする必要があります。また、 vSphere へのサインインに使用する vCenter アカウントには、次の権限が必要です。</block>
  <block id="d43a4d989794fe39d37e67d81c3d6960" category="list-text">サインインしている場合は、 vSphere Web Client からサインアウトします。</block>
  <block id="0c02264c426dcdd54d7cfb6563614f7e" category="list-text">vSphere Web Client を使用して vCenter にサインインし、 HTML5 を選択して SSL 証明書を受け入れます。</block>
  <block id="db781aeeef6aa8bda07bc2e256b6ba49" category="paragraph">サインアウトして再びサインインすると、 vCenter の構成情報が更新されます。</block>
  <block id="891e037d102decc49c1996392c1e5e0a" category="list-text">[* グローバルインベントリリスト * ] をクリックします。</block>
  <block id="f1d6fcc0b0a73d8f970dd075367e8cbe" category="paragraph">オプション * ONTAP Select クラスタ * および * ONTAP Select Deploy * は、左側のペインで使用できます。表示されない場合は、サインアウトしてから再度サインインしてください。</block>
  <block id="1ca766faa92c70c3c82cc691fe561b8e" category="section-title">Deploy システムを設定する</block>
  <block id="3b3e654163f0e7b29341eb1aa30df785" category="paragraph">Deploy ユーティリティの動作に影響する基本的なシステム設定パラメータを設定する必要があります。</block>
  <block id="efe859d84c9f5e9b01e49fc82cf18c72" category="paragraph">Deploy の設定データは AutoSupport で使用されます。</block>
  <block id="050af8cd6e12c3dfe3c0f7620453f1bb" category="list-text">[* Settings &amp; AutoSupport * （設定とセットアップ） ] をクリックし、をクリックします <block ref="cd4fada87571e8da586532fce60b382a" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="888563373f351b4e7149037b49745a39" category="list-text">環境に応じて構成データを指定し、 * 変更 * をクリックします。</block>
  <block id="2b2744f98d397893c56a764168eebf40" category="paragraph">プロキシサーバーを使用する場合は、次のようにプロキシ URL を設定できます。 http://USERNAME:PASSWORD@&lt;FQDN|IP&gt;:PORT`</block>
  <block id="c94bfa4f4888b2cb74343441a95dba81" category="paragraph">例： \http://user1:mypassword@proxy.company-demo.com:80`</block>
  <block id="800142ed89dee6b953c16fe023a8e4fe" category="section-title">ONTAP Select Deploy イベントメッセージを表示する</block>
  <block id="5df9c2ab957902d7b05542b2968ee266" category="paragraph">ONTAP Select Deploy ユーティリティには、システムのアクティビティに関する情報を提供するイベントロギングファシリティが含まれています。問題をデバッグする場合やサポートから指示があったときにイベントログの内容を表示する必要があります。</block>
  <block id="ec53a8c4f07baed5d8825072c89799be" category="list-text">ステータス</block>
  <block id="a76d4ef5f3f6a672bbfab2865563e530" category="list-text">時間</block>
  <block id="c3f512d1ec7b456b529c3fd08c50341f" category="list-text">[* イベントとジョブ * ] をクリックし、 [* イベント * ] をクリックします。</block>
  <block id="f723f5a1f800a38600e09405c6f046d5" category="list-text">必要に応じて、 * Filter * をクリックし、表示するイベント・メッセージを制限するフィルタを作成します。</block>
  <block id="bcc7b146575fde3e6746541524c7ded3" category="paragraph">AutoSupport 機能は必要に応じて有効または無効にすることができます。</block>
  <block id="e195e7e88383a925f0ffa9a58ca60da8" category="paragraph">AutoSupport は、ネットアップが ONTAP Select のサポートに使用する主要なトラブルシューティングツールです。したがって、どうしても必要な場合以外は AutoSupport を無効にしないでください。AutoSupport を無効にしてもデータは収集されますが、ネットアップには送信されません。</block>
  <block id="6370c059730ac58ebb21c660f116a23d" category="list-text">[* Settings &amp; AutoSupport * （設定とセットアップ） ] をクリックし、をクリックします <block ref="8bad975decfb5a8958ec55339559e376" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="fb535f0264b290cf2997e774f02014d0" category="list-text">必要に応じて、 AutoSupport 機能を有効または無効にします。</block>
  <block id="c1993cf81b795c351ad6a9a79fa05139" category="section-title">AutoSupport パッケージの生成とダウンロード</block>
  <block id="daca56a111d58bf7e3cc12fdc84cae6c" category="paragraph">ONTAP Select には、 AutoSupport パッケージを生成する機能が用意されています。問題をデバッグする場合やサポートから指示があったときにパッケージを生成する必要があります。</block>
  <block id="614104925192a5c53507c0cafaa1f081" category="paragraph">ネットアップサポートの指示とガイダンスに従って、次の AutoSupport パッケージを生成できます。</block>
  <block id="5e908cc31ac1bd8fc00c73a4ea4cd1f0" category="list-text">[* 生成（ Generate ） ] をクリックする。</block>
  <block id="4e290774d37a8ace19a4d21d9e6c24b0" category="list-text">タイプを選択し、パッケージの概要 を指定します。必要に応じてケース番号を指定することもできます。</block>
  <block id="a5a3a8aa215340d20759cef169110a02" category="paragraph">各 AutoSupport パッケージには、一意のシーケンス ID 番号が割り当てられます。</block>
  <block id="7253da97bc820e0a0b3571962a546eca" category="list-text">必要に応じて、 * AutoSupport History* で適切なパッケージを選択し、ダウンロードアイコンをクリックして AutoSupport ファイルをローカルワークステーションに保存します。</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="summary">著作権に関する声明、商標、特許などにアクセスできます。</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法的通知</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">著作権</block>
  <block id="09e95b77ffe81fe465a83ba99efad5c8" category="paragraph"><block ref="09e95b77ffe81fe465a83ba99efad5c8" category="inline-link-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商標</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp 、 NetApp のロゴ、および NetApp の商標ページに記載されているマークは、 NetApp, Inc. の商標です。その他の会社名および製品名は、それぞれの所有者の商標である場合があります。</block>
  <block id="7aa531e9acfe2b98e34d2c92fe9846ff" category="paragraph"><block ref="7aa531e9acfe2b98e34d2c92fe9846ff" category="inline-link-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">特許</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">ネットアップが所有する特許の最新リストは、次のサイトで入手できます。</block>
  <block id="d7f1fbcf9ce4e42f705add574d262b2c" category="paragraph"><block ref="d7f1fbcf9ce4e42f705add574d262b2c" category="inline-link-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">プライバシーポリシー</block>
  <block id="fc248f74f5e36542f7f5627b8610e9a3" category="paragraph"><block ref="fc248f74f5e36542f7f5627b8610e9a3" category="inline-link-rx"></block></block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">オープンソース</block>
  <block id="531245fe0415d5f672afee491f44b87a" category="paragraph">Notice ファイルは、ネットアップソフトウェアで使用しているサードパーティの著作権とライセンスに関する情報を提供します。</block>
  <block id="ffc775822cbd19e463401855c97e8181" category="summary">ONTAP Select MetroCluster SDS は、強化された保護機能とコスト効率の高い実装を提供します。</block>
  <block id="787fb8fbafed37b77c3881f9e0c851a0" category="doc">MetroCluster ソフトウェア・デファインド・ストレージ</block>
  <block id="468c7067a5232ce7f7b5f71d1c6e1685" category="paragraph">2 ノードクラスタは、一定の最小要件が満たされている場合、 2 つの場所に拡張できます。このアーキテクチャは、ハードウェアベースの MetroCluster と（ハードウェア定義またはソフトウェア定義の）単一のデータセンタークラスタ間に適しています。ONTAP Select MetroCluster SDS の要件では、 Software-Defined Storage ソリューションの一般的な柔軟性に加え、 Software-Defined Storage ソリューションとハードウェアベースの MetroCluster SDS との違いが強調されています。独自のハードウェアは必要ありません。</block>
  <block id="189f86e135df200ab301cdba9724b737" category="paragraph">MetroCluster とは異なり、 ONTAP Select は既存のネットワークインフラを使用し、最大 5 ミリ秒 RTT のネットワークレイテンシをサポートします。最大ジッタは 5 ミリ秒で、合計 10 ミリ秒の最大レイテンシを実現します。レイテンシプロファイルの方が重要であるものの、最大距離を 10km 以下にすることも要件となっています。マーケットスペースでの分離要件では、実際の距離よりも物理的な分離の方が重要です。たとえば、別の建物に配置することが必要になる場合があります。別のケースでは、同じ建物内に別々の部屋を配置することもできます。実際の物理的な配置に関係なく、 MetroCluster SDS としての 2 ノードクラスタとは、各ノードで別々のアップリンクスイッチを使用することを意味します。</block>
  <block id="c0a1eea8b1af6026a021d360f96c66d8" category="paragraph">2 ノード HA 構成では、フェイルオーバー中にアクティブノードを適切に識別し、ネットワークパーティション内で両方のノードが独立してアクティブのままになるスプリットブレインシナリオを回避するためにメディエーターが必要です。この処理は、以前にも提供されていた、通常の 2 ノード HA 構成と同じです。サイト障害時に適切な保護とフェイルオーバーを行うには、 2 つの HA ノードとは異なるサイトにメディエーターを配置する必要があります。メディエーターと各 ONTAP Select ノードの間で許容される最大レイテンシは 125 ミリ秒です。</block>
  <block id="94552a5199f7104b614575781d58ffef" category="paragraph">この解決策 を使用することで、企業のお客様は、コモディティハードウェア上で Software-Defined Storage 解決策 の柔軟性を確実に活用できます。データはエンタープライズクラスの RPO ゼロ解決策 で保護されているため、安心して導入できます。</block>
  <block id="7df0d3f86ea85895ce805f02d425a395" category="paragraph">ONTAP Select MetroCluster SDS には、次のような利点があります。</block>
  <block id="55f4eec83ef8167eeb9aae4734147eab" category="list-text">MetroCluster SDS は、 ONTAP Select 向けに、別の側面（データセンターからデータセンターへ）から保護機能を提供します。お客様は、 Software-Defined Storage と ONTAP のあらゆるメリットを活用できるだけでなく、この追加の保護機能を活用できるようになりました。</block>
  <block id="efd88036e2c90f7b3284371d9cdbb406" category="list-text">MetroCluster SDS は、 RPO ゼロと自動フェイルオーバーにより、ビジネスクリティカルなデータ保護を実現します。データストレージとアプリケーションアクセスポイントの両方が、自動的に正常に稼働しているデータセンターまたはノードに切り替わります。このとき、 IT 担当者の関与は一切ありません。</block>
  <block id="31414fd6f8904fe7a521040b566ba467" category="list-text">MetroCluster SDS は対費用効果に優れています。既存のネットワークインフラを活用して HA ペア間の耐障害性を拡張できるため、ハードウェアを追加する必要がありません。また、同じクラスタ内で、アクティブ / アクティブのデータアクセスとデータセンターの冗長性を実現します。</block>
  <block id="d6f1b8d7589890e7cbb2e641d329ba0b" category="paragraph">* MetroCluster SDS*</block>
  <block id="2349eb72d5f3fb7f659802fcc79a02f8" category="inline-image-macro">DAS 上に構築されたプライベートクラウド</block>
  <block id="67550f4cdbfd87619a6b9d0a3b78729e" category="paragraph"><block ref="67550f4cdbfd87619a6b9d0a3b78729e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="aa93950c1aed200eaa527c1dac76c135" category="inline-link-macro">2 ノード HA とマルチノード HA</block>
  <block id="2873f708ad14d01a4941aae540a49300" category="paragraph">ベストプラクティスやその他の要件については、セクションを参照してください <block ref="b5a87e2c6cb220b53b8486e8e1bc1eac" category="inline-link-macro-rx"></block> および <block ref="3a9138e6cecc138f508a809e03f2cd7a" category="inline-link-macro-rx"></block>。</block>
  <block id="c6546b53840ec8245dd4d4d70fcdbc26" category="list-text">CIFS</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="list-text">iSCSI</block>
  <block id="794cb725c5631ad99b5b7c000307f0df" category="list-text">SnapMirror</block>
  <block id="5bc075cee240a70af54270621d93765c" category="list-text">SnapVault</block>
  <block id="a701f5d044348085ee4f97fef6636845" category="list-text">FlexClone</block>
  <block id="82ef718f4ebe0c276814ee3d51e33361" category="list-text">SnapRestore</block>
  <block id="c4b8c29f448328e82ce27062b5fd9c28" category="list-text">NetApp Volume Encryption の略</block>
  <block id="37f51edec96ed159381e4d3d076a8787" category="list-text">重複排除機能と圧縮機能</block>
  <block id="1effda8a28add2fb64ed5a7d4d67deae" category="list-text">ONTAP のマルチテナンシー機能</block>
  <block id="f8f58e06b7004f2c9a02a8875d2bd10d" category="list-text">NetApp Volume Encryption （規制対象外の国のみ）</block>
  <block id="8fe0c9f8f23d1eb8317ecbfc3412e145" category="list-text">SnapLock エンタープライズ</block>
  <block id="55449fd175613962d882ab450cfc5f3c" category="list-text">FabricPool</block>
  <block id="cd4d0565c73e994a0df5b7c0a072acc6" category="list-text">Data Availability Service の略</block>
  <block id="fe22023b7eac61fb7114a4a9abd199bc" category="list-text">FlexCache （コストゼロ）</block>
  <block id="53b398e6d63ff4fbc7624b7d3737c3ea" category="list-text">SyncMirror （コストゼロ）</block>
  <block id="eab10597f9ef50e8058170729878869e" category="list-text">MetroCluster SDS （ ONTAP Select プレミアムライセンスサービス）</block>
  <block id="b3575342fc6b994ce81d8810bb513442" category="admonition">StorageGRID Webscale を使用するときに FabricPool ライセンスは必要ありません。</block>
  <block id="c3c1ba002ed4d0d1ae23559793a734bd" category="inline-link-macro">ONTAP Select と ONTAP 9 の比較</block>
  <block id="77aaedb7dde5f69b11a5683a958edbfc" category="list-text"><block ref="77aaedb7dde5f69b11a5683a958edbfc" category="inline-link-macro-rx"></block></block>
  <block id="5cd0ad520dbcfbdeee9d38a1ad945c17" category="summary">ONTAP Select クラスタを導入したら、 ONTAP ソフトウェアの標準のアップグレード手順 を使用して、各ノードの ONTAP イメージを必要に応じてアップグレードできます。</block>
  <block id="35ea187dfcf2503e5ff4fc0b93b2f417" category="doc">ONTAP Select ノードをアップグレードします</block>
  <block id="047bc25615b74f5ee9ad03d531e71221" category="paragraph">ONTAP Select クラスタを導入したら、必要に応じて、クラスタ内の各ノードで ONTAP イメージをアップグレードできます。</block>
  <block id="30cf2dd94fe579c8d10145706d2803f2" category="admonition">Deploy 管理ユーティリティを使用して、既存の ONTAP Select ノードのアップグレードを実行することはできません。Deploy ユーティリティは、新しい ONTAP Select クラスタの作成にのみ使用できます。</block>
  <block id="debe5df850e1b90f9e0e1e836af7a573" category="section-title">General 手順 の略</block>
  <block id="6faefe32fa9943fbdd41223aa8a6c274" category="paragraph">既存の ONTAP Select ノードをアップグレードするには、以下の手順を実行する必要があります。</block>
  <block id="e105a9c27bf2d9ddd5067b411d434cd6" category="list-text">ネットアップサポートサイトのダウンロードページに移動します。</block>
  <block id="68f9ff06ec00760816a8852081d652a9" category="inline-link">ネットアップサポートのダウンロードページ</block>
  <block id="332fd48f854bf692aea555e091e1b3cc" category="paragraph"><block ref="332fd48f854bf692aea555e091e1b3cc" category="inline-link-rx"></block></block>
  <block id="eea1cec828c419810e082867558ec301" category="list-text">ONTAP Select Node Upgrade* をクリックします。</block>
  <block id="a864f71b844955db4e27746202712f1b" category="list-text">必要に応じて、すべてのプロンプトに対応した適切なアップグレードイメージを選択してダウンロードします。</block>
  <block id="b150e9cbbbaebd9df8d68a2aea7f72c5" category="list-text">ONTAP Select ノードをアップグレードする前に、追加情報 リリースノートおよび必要な手順を確認してください。使用しているバージョンの ONTAP Select のリリースノートは、製品ライブラリのページからアクセスできます。</block>
  <block id="f1dfdf3ad3b4debf7b9ee14f56bcdf31" category="paragraph"><block ref="f1dfdf3ad3b4debf7b9ee14f56bcdf31" category="inline-link-rx"></block></block>
  <block id="202772c1f92d500b0765ed04693d11e5" category="list-text">ONTAP Select アップグレードファイルを使用して、標準の ONTAP アップグレード手順で ONTAP Select ノードをアップグレードします。</block>
  <block id="c09b5be4c2da04f4040eef1878f258aa" category="inline-link">ONTAP 9 のドキュメント</block>
  <block id="0a9a1aee49880df035cf38bf72561e77" category="paragraph"><block ref="0a9a1aee49880df035cf38bf72561e77" category="inline-link-rx"></block></block>
  <block id="e98ba8d677b2b1a2c4e56606afda3ebc" category="section-title">ONTAP Select ノードをリバートする</block>
  <block id="e103d647fff37a97960261d1c1f21683" category="paragraph">最初にインストールされているバージョンより前のバージョンに ONTAP Select ノードをリバートすることはできません。例：</block>
  <block id="197344851cd98aae2d51b8e7b2ee55d1" category="list-text">ONTAP Select 9.4 が最初にインストールされている</block>
  <block id="596fa73fcca2409447adfd4bdcf93db5" category="list-text">ノードをバージョン 9.5 にアップグレードしてから、必要に応じてバージョン 9.4 にリバートできます。</block>
  <block id="4432e300d5150c0ab75c4270241b302c" category="list-text">ONTAP Select 9.5 が最初にインストールされています</block>
  <block id="272051a33695b156336545a377862e85" category="list-text">このバージョンは元々インストールされていたバージョンより前のバージョンであるため、バージョン 9.4 に戻すことはできません。</block>
  <block id="4c3e4e8caa551b8a13a92c359712cfe1" category="section-title">VMXNET3 ネットワークドライバを使用する</block>
  <block id="945faeb3fd5dc1d5bd5f3e7c95861bfc" category="paragraph">Deploy 2.10 を使用した ONTAP Select 9.5 以降では、 VMware ESXi での新しいクラスタの導入に付属するデフォルトのネットワークドライバとして VMXNET3 が用意されています。既存の ONTAP Select ノードをバージョン 9.5 にアップグレードした場合、ネットワークドライバは自動的にアップグレードされません。VMXNET3 に手動でアップグレードする必要があります。アップグレードについてサポートが必要な場合は、ネットアップサポートにお問い合わせください。</block>
  <block id="07c8a5b8b80ed7661d95b9bce5bd8b54" category="summary">REST で共通のテクノロジとベストプラクティスは確立されますが、各 API の詳細は設計内容に応じて異なる場合があります。API を使用する前に、 ONTAP Select Deploy API の詳細と運用上の特性を把握しておく必要があります。</block>
  <block id="f9423483f907b342ce1d6b2a5646580f" category="doc">基本的な動作特性</block>
  <block id="ffc3a232eea6b80d3f2a2bcac9d3a918" category="section-title">ハイパーバイザーホストと ONTAP Select ノードです</block>
  <block id="0c7d5b426c6c1b387e77689e4c452553" category="paragraph">a_hypervisor host_ は、 ONTAP Select 仮想マシンをホストするコアハードウェアプラットフォームです。ONTAP Select 仮想マシンを導入してハイパーバイザーホストでアクティブにすると、その仮想マシンは _ ONTAP Select node_name とみなされます。Deploy REST API のバージョン 3 では、ホストオブジェクトとノードオブジェクトは別々になります。これにより、 1 つ以上の ONTAP Select ノードを同じハイパーバイザーホストで実行できる 1 対多の関係が実現します。</block>
  <block id="7f65a5bae7570e7d2a9cc75be01898fc" category="section-title">オブジェクト ID</block>
  <block id="d13f780251d1a2de2f8b4354243e3d0c" category="paragraph">各リソースインスタンスまたはオブジェクトには、作成時に一意の識別子が割り当てられます。これらの識別子は、 ONTAP Select Deploy の特定のインスタンス内でグローバルに一意です。新しいオブジェクトインスタンスを作成する API 呼び出しを発行すると、関連付けられた ID 値が HTTP 応答の「 location 」ヘッダーの呼び出し元に返されます。リソースインスタンスを以降の呼び出しで参照する際には、この識別子を抽出して使用できます。</block>
  <block id="83e21aa294744cfc75cee4862af31f56" category="admonition">オブジェクト識別子の内容と内部構造は、いつでも変更される可能性があります。識別子を使用するのは、該当する API 呼び出しで関連付けられているオブジェクトを参照するときに必要に応じてのみです。</block>
  <block id="edaad2a9cdb0f29fb86c7665dfda9f38" category="section-title">要求 ID</block>
  <block id="d8b779052c4398d2d75faef64ae88b1a" category="paragraph">成功したすべての API 要求には、一意の識別子が割り当てられます。識別子は、関連する HTTP 応答の「 request-id 」ヘッダーで返されます。要求 ID を使用すると、単一の API 要求と応答のトランザクションのアクティビティをまとめて参照できます。たとえば、要求 ID に基づいて、トランザクションのすべてのイベントメッセージを取得できます</block>
  <block id="1ceab7656e04d401f036ef5079fa82c5" category="section-title">同期呼び出しと非同期呼び出し</block>
  <block id="2bcc4158fbbdcce44047af9c51ba81f1" category="paragraph">サーバがクライアントから受信した HTTP 要求を実行する主な方法は 2 つあります。</block>
  <block id="9de3202eb40e04ea7d58c9c0cca95d05" category="list-text">同期サーバは要求をただちに実行し、ステータスコード 200 、 201 、または 204 で応答します。</block>
  <block id="f32e4bf37e882568b1aa99a6f4a0fc9c" category="list-text">非同期サーバは要求を受け入れ、ステータスコード 202 で応答します。これは、サーバがクライアント要求を受け入れ、要求を完了するためのバックグラウンドタスクを開始したことを示します。最終的な成功または失敗はすぐには確認できないため、追加の API 呼び出しで確認する必要があります。</block>
  <block id="4ee1f720ab1f4fc35ad0c6aefd6a85d8" category="section-title">長時間のジョブが完了したことを確認する</block>
  <block id="879fecd0e4433c41c52717b5c1fdc54d" category="paragraph">通常、完了までに時間がかかる操作は、サーバでバックグラウンドタスクを使用して非同期に処理されます。Deploy REST API では、タスクを追跡し、現在の状態などの情報を提供するジョブオブジェクトによってすべてのバックグラウンドタスクがアンカーで設定されます。一意の識別子を含むジョブオブジェクトは、バックグラウンドタスクが作成されたあとの HTTP 応答で返されます。</block>
  <block id="544283be69c3ae6d9ee496c88a70a63b" category="paragraph">ジョブオブジェクトを直接照会することで、関連する API 呼び出しの成功または失敗を確認できます。ジョブ object_for 追加情報 を使用した非同期処理を参照してください。</block>
  <block id="442f9be61da0b6ff93ba62f97cb9a538" category="paragraph">ジョブオブジェクトを使用する以外に、要求の成功または失敗を判断する方法がいくつかあります。これには次のものがあります。</block>
  <block id="9ad700788ea219a947fc1edc3832325d" category="list-text">イベントメッセージ特定の API 呼び出しに関連するすべてのイベントメッセージを取得するには、元の応答で返された要求 ID を使用します。通常、イベントメッセージには成功または失敗の兆候が含まれており、エラー状態のデバッグ時にも役立ちます。</block>
  <block id="a99747e21f3cb668c9bbc0cb52e9798f" category="list-text">リソースの状態または状態いくつかのリソースには状態またはステータスの値が保持されており、リクエストの成功または失敗を間接的に判断するためにクエリできます。</block>
  <block id="f83c877592ae6667e4f8b98d490281d8" category="paragraph">Deploy API では、次のセキュリティテクノロジを使用します。</block>
  <block id="1993a29cd22f4d42c6925aedd2416473" category="list-text">Transport Layer Security ： Deploy サーバとクライアントの間でネットワークを介して送信されるすべてのトラフィックは、 TLS を介して暗号化されます。暗号化されていないチャネル上で HTTP プロトコルを使用することはサポートされていません。TLS バージョン 1.2 がサポートされています。</block>
  <block id="21392618546d9ab8ba4ef3600ae3644e" category="list-text">HTTP 認証：すべての API トランザクションにベーシック認証が使用されます。base64 文字列のユーザ名とパスワードを含む HTTP ヘッダーがすべての要求に追加されます。</block>
  <block id="6fad90e28618e0a28b3096e32fc10067" category="summary">容量階層ライセンスを使用している場合は、 ONTAP Select ノードごとにライセンスファイルを取得する必要があります。ライセンスファイルではノードのストレージ容量を定義します。このファイルは、ネットアップが割り当てた一意の 9 桁のシリアル番号を使用してノードにロックされます。</block>
  <block id="6d1a0d7c1d5f3f225d0b6d9969fd7d36" category="doc">大容量階層ライセンスを取得しています</block>
  <block id="b83de81d9df2daba7b299079440e4a70" category="paragraph">ネットアップがノードに割り当てた 9 桁のライセンスシリアル番号が必要です。ライセンスファイルを取得する前に、注文書の出荷日から少なくとも 24 時間待ってください。</block>
  <block id="6bb55d7bed113bc9f1eb1ceaa56c67c3" category="paragraph">大容量階層ライセンスが必要な ONTAP Select ノードごとにこのタスクを実行する必要があります。</block>
  <block id="f1119e2a8337db49fe7086c2b2267602" category="list-text">Web ブラウザを使用して ONTAP Select ライセンスサイトにアクセスします。</block>
  <block id="ac8e78a77fe7ca32132b86474e8c9de5" category="paragraph">https://register.netapp.com/register/getlicensefile`</block>
  <block id="84db9bc9926628faaa27e124a2df79bb" category="list-text">ネットアップアカウントのクレデンシャルを使用してサインインします。</block>
  <block id="e0d72df37475949c1895bd017090e2ba" category="list-text">[*License Generator] ページで、ドロップダウン・ボックスから目的のライセンス製品を選択します。</block>
  <block id="c6168e990a24ff351dac74269242b940" category="list-text">同じページの残りのフィールドには、 ONTAP Select ノードのシリアル番号である * Product Serial # * を入力します。</block>
  <block id="4b5d2dd70af718ebe67bfea5b43d8667" category="list-text">[Submit （送信） ] をクリックします。</block>
  <block id="fd0e43e383af3c2416ecdfe2b8f5d547" category="list-text">要求の検証が完了したら、ライセンスの配信方法を選択します。</block>
  <block id="a057173e5bcafc2c46615838165047cc" category="paragraph">ライセンスのダウンロード * または電子メールライセンス * のいずれかをクリックできます。</block>
  <block id="8da6730d9b8223d2d2f6dc8027912c3c" category="list-text">選択した配信方法に基づいてライセンスファイルを受け取ったことを確認します。</block>
  <block id="f32f830159376ee58bd53b11aacde459" category="paragraph">ライセンスファイルを ONTAP Select ノードに適用するには、 Deploy 管理ユーティリティにアップロードする必要があります。</block>
  <block id="8e8fc289580557ae031c599be7e92e29" category="section-title">ONTAP Select クラスタを削除する</block>
  <block id="b6f79329088da6ccdb0fc3183dbc7d37" category="paragraph">コマンドラインインターフェイスを使用して、不要になった ONTAP Select クラスタを削除できます。</block>
  <block id="ce1478f04f5ca7b5563f3cdf75694972" category="list-text">管理者アカウントを使用して、 Deploy 仮想マシンの CLI にサインインします。</block>
  <block id="c84d5e1c036f282aca0eeb1f50b9512a" category="list-text">クラスタ・ステータスを表示します。 cluster show -name clustername</block>
  <block id="a0955a37475dafaf4985b69df73c80b6" category="list-text">クラスタがオフラインになっていない場合は、オフライン状態の「 cluster offline-name clustername 」に移動します</block>
  <block id="711d696edcc5a2b80e2ea8d6d99c7cdc" category="list-text">クラスタがオフライン状態になったことを確認したら ' クラスタを削除します cluster delete -name clustername</block>
  <block id="b5a04f0b908059ef31247ca46d104984" category="summary">次のスクリプトを使用すると、 ONTAP Select クラスタ内のノードのサイズを変更できます。</block>
  <block id="87893408d1481a1bac18183ffec8cfa5" category="doc">クラスタノードのサイズを変更するスクリプト</block>
  <block id="8780923881269f13ee5868170e81a3f3" category="summary">ONTAP Select Deploy の Web ユーザインターフェイスを使用して、 vCenter Server から Deploy プラグインをアップグレードまたは削除できます。プラグインがインストールされたままであることを確認することもできます。</block>
  <block id="1d0e643ba8a575a7a7fddb6e78ac3df4" category="doc">Deploy vCenter プラグインの確認と削除</block>
  <block id="baf0a19f6a3069c412245edffed9acf1" category="list-text">レビュー <block ref="75f28255e4266cc51d172429cbf25186" category="inline-link-macro-rx"></block>。</block>
  <block id="6e6a78ee79fc1d608b94c9a89278564d" category="list-text">VMware vCenter プラグインをインストールして登録する必要があります。</block>
  <block id="a046761d7796a24a8c1d7485344d0569" category="list-text">vCenter 管理者アカウントには、次の vCenter 権限が必要です。</block>
  <block id="aba2ec67a1afe6a4ec6929f542f8a4a9" category="list-text">管理者アカウントを使用して、 Deploy ユーティリティにサインインします。</block>
  <block id="ab5d4e1027e5ccd368f9e74affd38771" category="list-text">ページ上部の * 管理 * タブをクリックし、左側のペインで * 管理サーバー * をクリックします。</block>
  <block id="1d610236bede37f99e20b0a26790844b" category="list-text">ターゲットの管理サーバを選択し、をクリックします <block ref="8bad975decfb5a8958ec55339559e376" category="inline-image-macro-rx" type="image"></block> オプションで次の項目を選択します。</block>
  <block id="0e53b618be046c96f7281de53bd988fa" category="list-text">* プラグインの確認 *</block>
  <block id="ba30651e4345fa9f47805adc67d99e01" category="list-text">* プラグインの登録解除 *</block>
  <block id="0a10be9ceb02fd9fbefe0e3b4c3282d8" category="list-text">必要に応じて、 vCenter クレデンシャルを入力します。</block>
  <block id="ad24ad16d0a4b77924d616ef2b1a1dad" category="paragraph">プラグインを削除する場合、次のいずれかの手順を実行して vCenter Server からの削除を完了する必要があります。</block>
  <block id="d992c88e2d6aa9253fa092e4985204a1" category="list-text">vCenter Server をリブートします</block>
  <block id="ddf37cd48aa651a6dac23935c397562d" category="list-text">vCenter Server からプラグインを手動で削除します</block>
  <block id="21771a7f7ffa01865e445543920a4a48" category="summary">Deploy API 呼び出し、特にリソースの作成や変更を行う呼び出しは、他の呼び出しよりも完了に時間がかかることがあります。ONTAP Select Deploy は、これらの長時間実行される要求を非同期で処理します。</block>
  <block id="8f4fc3addf595e93ce580272da612827" category="doc">ジョブオブジェクトを使用した非同期処理</block>
  <block id="a220d1661d8edb698de8ce440de1d336" category="section-title">ジョブオブジェクトを使用して記述された非同期要求</block>
  <block id="a553eaf717d815d40534f03a40971109" category="paragraph">非同期的に実行される API 呼び出しを行うと、 HTTP 応答コード 202 が返されます。この応答コードは、要求が正常に検証され受け入れられたものの、まだ完了していないことを示します。要求はバックグラウンドタスクとして処理され、クライアントへの最初の HTTP 応答後も引き続き実行されます。応答には、要求に対応するジョブオブジェクトと、その一意の識別子が含まれます。</block>
  <block id="cb67053771ba0db6003fcab5c33193fa" category="admonition">非同期的に処理する API 呼び出しを決定するには、 ONTAP Select Deploy のオンラインドキュメントページを参照してください。</block>
  <block id="0b59094893d51f7145a2630314a487ad" category="section-title">API 要求に関連付けられたジョブオブジェクトの照会</block>
  <block id="209bf0af79fa3398acc92ada94b76284" category="paragraph">HTTP 応答で返されるジョブオブジェクトには、いくつかのプロパティが含まれています。状態プロパティを照会して、要求が正常に完了したかどうかを確認できます。ジョブオブジェクトは次のいずれかの状態になります。</block>
  <block id="7b2f31b90fe1c2cc33a52233c1925df3" category="list-text">キューに登録され</block>
  <block id="5bda814c4aedb126839228f1a3d92f09" category="list-text">実行中です</block>
  <block id="505a83f220c02df2f85c3810cd9ceb38" category="list-text">成功</block>
  <block id="e139a585510a502bbf1841cf589f5086" category="list-text">失敗</block>
  <block id="b2f8c6e297f33ec946f672b62d4e4a40" category="paragraph">ジョブオブジェクトをポーリングするときに、タスクの終了状態（成功または失敗）を検出するために使用できる 2 つの方法があります。</block>
  <block id="2740937b12ed4b7fe5b2352097b9ef2b" category="list-text">標準のポーリング要求の現在のジョブの状態がすぐに返されます</block>
  <block id="a7fcab5759e6f07a270fea141992bed9" category="list-text">ロングポーリング要求のジョブ状態は、次のいずれかの場合にのみ返されます。</block>
  <block id="bb6f4f8c618eb7f5906c2a827d4f8def" category="list-text">状態が、ポーリング要求で指定された日時の値よりも最近変更されました</block>
  <block id="9e70a59c1e6484c6ebab4e13da1c0fe1" category="list-text">タイムアウト値が期限切れ（ 1 ～ 120 秒）</block>
  <block id="204e18ea3c430127cc3ecd3869724213" category="paragraph">標準のポーリングとロングポーリングでは、同じ API 呼び出しを使用してジョブオブジェクトが照会されます。ただし ' 長いポーリング要求には 'poll_timeout' と 'last_modified' の 2 つのクエリーパラメータが含まれています</block>
  <block id="d61957e3a7d9aaba4ca0b6e23416abb5" category="admonition">Deploy 仮想マシンのワークロードを減らすためには、常に長いポーリングを使用してください。</block>
  <block id="6bf66c95880dec487d135a49bd2f166f" category="section-title">非同期要求を発行するための一般的な手順</block>
  <block id="65b453bf08c9684e437a5825535a4027" category="paragraph">非同期 API 呼び出しを完了する大まかな手順を次に示します。</block>
  <block id="fb1c67f608d30f44600e6db0accadcc4" category="list-text">問題：非同期 API 呼び出し。</block>
  <block id="a5b82a65bce9c4bb30ff07764a311b65" category="list-text">要求が正常に受け取られたことを示す HTTP 応答 202 を受信します。</block>
  <block id="c14204fc561259d66fa2aef5b4314029" category="list-text">応答の本文からジョブオブジェクトの識別子を抽出します。</block>
  <block id="a5cab11a9c789b5b0fa7447694e06c64" category="list-text">ループ内で、各サイクルで次の手順を実行します。</block>
  <block id="c264be0843833c0497e73f18533d675d" category="list-text">長時間のポーリング要求でジョブの現在の状態を取得します</block>
  <block id="0347794109580ef0b93925c162a6a1de" category="list-text">ジョブが非終了状態（待機中、実行中）の場合は、もう一度ループを実行します。</block>
  <block id="6caaacff3c8abae5d9b2e02a5e4d0829" category="list-text">ジョブが終了状態（ success または failure ）になったら停止します。</block>
  <block id="6d42c54012b863cd6eedcc3d403ad0c6" category="summary">ONTAP Select 9.5 のパフォーマンス - 高品質の HA 直接接続 SSD ストレージ。</block>
  <block id="ff0e3825fd4663837f971a7ba681159f" category="doc">ONTAP Select 9.5 のパフォーマンス： Premium HA 直接接続 SSD ストレージ</block>
  <block id="c9b1fc9101d9afb87bc8e65e52b3cdaf" category="paragraph">高品質の HA 直接接続 SSD ストレージを使用した ONTAP Select 9.5 のパフォーマンス。</block>
  <block id="d8ae9b53271ef4ae7e463671d9edd15f" category="paragraph">ONTAP Select 9.5 （ Premium ）ハードウェア（ノードあたり）：</block>
  <block id="da8d0349a5f6486d92d1203e4c900b69" category="list-text">Cisco UCS C240 M4SX ：</block>
  <block id="66b56969cc3581bdd13812374d117941" category="list-text">Intel Xeon CPU E5-2620 （ 2.1GHz</block>
  <block id="79f2a0232b06d44ab405491d76e73a16" category="list-text">ソケット × 2 、各ソケットに CPU × 16</block>
  <block id="88f6a554563c7a608913d59040ebaf62" category="list-text">128GB の RAM</block>
  <block id="1762c54cddae477ffccf703524615078" category="list-text">ホストあたりのドライブ数： 900GB SSD × 24</block>
  <block id="b488012d536d61994101d21973ccb5fc" category="cell">DAS （ SSD ）ハードウェア RAID を使用した ONTAP 9.5 Select 中規模インスタンス</block>
  <block id="f3478912bb07f7ec7c8444a5e316e819" category="cell">1 、 714 MiBps</block>
  <block id="95017f29234ec8b67e7f06611466891b" category="cell">412MiBps</block>
  <block id="48c28f3a705b0584dbfb937f1e189873" category="cell">391MiBps</block>
  <block id="9dcedfb9f11c04fb8a4aaa046d530c89" category="cell">1251MiBps</block>
  <block id="772f559bb1cae1f865b3a396cf692ddc" category="cell">309MiBps</block>
  <block id="c91e356267219d84f0202e2d0dfbffb2" category="cell">DAS （ SSD ）ソフトウェア RAID を使用した ONTAP 9.5 Select 中規模インスタンス</block>
  <block id="aad82c942b780f118f2cb44de2a917b2" category="cell">1,674MiBps</block>
  <block id="c17a615d3925b4ae5b453126b17c321f" category="cell">360MiBps</block>
  <block id="db456de05f2855d308ef49d553c921f7" category="cell">451MiBps</block>
  <block id="6f874ec8b8b77dc7dd8d2a094888d1e3" category="cell">223MiBps</block>
  <block id="2de50a1b7b5776ec223eb8252b6d9597" category="cell">293MiBps</block>
  <block id="114ff4f2711841720a4f7186e6a15a6a" category="list-text">プロセスあたりのファイル数 =1 、各ファイルのサイズは 12228MB です</block>
  <block id="1180f790e23bf2a48f8bf9f2b5e2a5d4" category="list-text">プロセスあたりのファイル数 =1 、各ファイルのサイズは 8192MB です</block>
  <block id="e919c753c1379472f37d0b73be4c0c35" category="list-text">SIO プロセス数 =64 、プロセスあたりのスレッド数 =20</block>
  <block id="aca2fd87d8012efa91dbc6e6c912d7e7" category="summary">ONTAP Select では、 FAS アレイや AFF アレイとほぼ同じ Storage Efficiency オプションが提供されます。</block>
  <block id="6b3850335452abbd46e2f81ea011d686" category="doc">Storage Efficiency のサポート</block>
  <block id="1f111941ef490bbd54082392c8d7d5bb" category="paragraph">オールフラッシュ VSAN または汎用フラッシュアレイを使用する ONTAP Select 仮想 NAS （ vNAS ）環境は、 SSD 以外の DAS ストレージを使用する ONTAP Select のベストプラクティスに従う必要があります。</block>
  <block id="969781b66db59786314019d03efd76a2" category="paragraph">SSD ドライブ搭載の DAS ストレージと Premium ライセンスがあれば、 AFF に似たパーソナリティが新規インストールで自動的に有効になります。</block>
  <block id="49932c189a1a728df81d679633c219ad" category="paragraph">AFF に似たパーソナリティがある場合、次のインライン SE 機能がインストール時に自動的に有効になります。</block>
  <block id="f50eca1bbe0727a0ae492a37d9a67341" category="list-text">インラインゼロパターン検出</block>
  <block id="bdf3d88111488b006ff78f64841f7388" category="list-text">ボリュームインライン重複排除</block>
  <block id="0459477597c1b7d31c813d4210413b74" category="list-text">ボリュームバックグラウンド重複排除</block>
  <block id="738b6df06bc30a1f2fa6d500095bfceb" category="list-text">アダプティブインライン圧縮</block>
  <block id="95f3762d2d933ff2c0f6e30ef2c767c9" category="list-text">インラインデータコンパクション</block>
  <block id="181a300bfda94fa49239b8a84b279718" category="list-text">アグリゲートインライン重複排除</block>
  <block id="88a926c88a9b371d22327f343c745ee5" category="list-text">アグリゲートバックグラウンド重複排除</block>
  <block id="1054ae451e201d93ff68b5fbde92dded" category="paragraph">ONTAP Select でデフォルトのすべての Storage Efficiency ポリシーが有効になっていることを確認するには、新しく作成したボリュームで次のコマンドを実行します。</block>
  <block id="bfd3f6691384baf34cdf17419cb0e78c" category="admonition">9.4 から ONTAP Select をアップグレードする場合は、 Premium ライセンスを持つ DAS SSD ストレージに ONTAP Select 9.4 をインストールする必要があります。また、 ONTAP Deploy を使用したクラスタの初回インストール時に、 Storage Efficiency を有効にする * チェックボックスをオンにする必要があります。以前の条件が満たされていない場合に AFF に似たパーソナリティのポスト ONTAP アップグレードを有効にするには、ブート引数を手動で作成し、ノードをリブートする必要があります。詳細については、テクニカルサポートにお問い合わせください。</block>
  <block id="3bc7377fef3090d09722c97053d94bb8" category="paragraph">次の表に、 ONTAP Select のバージョンとメディアタイプ別に、使用可能な Storage Efficiency オプション、デフォルトで有効、またはデフォルトで無効だが推奨されている Storage Efficiency オプションをまとめます。</block>
  <block id="3a06677d57bafe5f93316fd203140cec" category="cell">ONTAP Select の機能</block>
  <block id="4ddd372db4137397986851a36755d62b" category="cell">9.0/9.5 Premium または Premium XL^4^ （ DAS SSD ）</block>
  <block id="99bd414e50c66dbb85a360543a8724df" category="cell">9.4^1 ^^^^9.3^2^Premium （ DAS SSD ）</block>
  <block id="4075cc803e896778b25727ceeb07e4a7" category="cell">9.0/9.5/9.4^1 ^/9.3^2^ すべてのライセンス（ DAS HDD ）</block>
  <block id="984fe899b528b40d37d811cdfc614800" category="cell">9.6 すべてのライセンス（ vNAS ）</block>
  <block id="31174df2fdbdd2be052e12c615c7307f" category="cell">9.5/9.4^1 ^/9.3^2^ Premium または Standard （ VNAS ） ^3^</block>
  <block id="d0a10dc848c7f164cb7f367fc2ea6eca" category="cell">インラインゼロ検出</block>
  <block id="7aae22088072740b827e9f671e64d38c" category="cell">○（デフォルト）</block>
  <block id="97206f3375e25c7ad628adbd0ede2481" category="cell">○：ボリューム単位でユーザが有効化</block>
  <block id="aa7f77e663b832d5b0e544c5511e680c" category="cell">サポート対象外</block>
  <block id="649f2af3727e1d3e6b8443c426591936" category="cell">○（推奨、ユーザがボリューム単位で有効化</block>
  <block id="2d25c72c1b18e562f6654fff8e11711e" category="cell">使用できません</block>
  <block id="8c2a1d946295997fcc7ffd5ff081383e" category="cell">32K のインライン圧縮（二次圧縮）</block>
  <block id="0ee764ea898e833d7247cd7c2bff2bb6" category="cell">○：ボリューム単位でユーザが有効化</block>
  <block id="8e07e36183ac8fabe06ac9fb05ff927c" category="cell">8K のインライン圧縮（アダプティブ圧縮）</block>
  <block id="4e3d1d1c76bb2608dd381b867cc3aafe" category="cell">○：ボリューム単位でユーザが有効化</block>
  <block id="29f702ba72033eac319c19bb994679d1" category="cell">バックグラウンド圧縮</block>
  <block id="6535e9c5f49b7cb87395689e840b7921" category="cell">圧縮スキャナ</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="cell">はい。</block>
  <block id="c63eff507592c9cb40454ec64c57e654" category="cell">コンパクションスキャナ</block>
  <block id="e723e4513197f2aa8ae3faf74f9b455b" category="cell">○（推奨）：スペースギャランティが none の状態でボリューム単位でユーザが有効化</block>
  <block id="382b0f5185773fa0f67a8ed8056c7759" category="cell">該当なし</block>
  <block id="b155b6b4f561bbefa57bcbe381aa7293" category="cell">○（推奨）</block>
  <block id="f3bd89de8243a3f6af6ddfd8f57c51d2" category="paragraph">[s小 ] #^1^ ONTAP Select 9.4 を DAS SSD で使用すると（ Premium ライセンスが必要）、アグリゲートレベルのバックグラウンドクロスボリュームスキャナを使用して、アグリゲート内の既存データを重複排除できます。この 1 回限りの操作は、 9.4 よりも前に作成されたボリュームに対して手動で実行します。 #[s小 ]#^2^ONTAP Select 9.3 DAS SSD 上では（ Premium ライセンスが必要）、アグリゲートレベルのバックグラウンド重複排除がサポートされます。ただし、この機能はアグリゲートの作成後に有効にする必要があります。 #[s小 ]#^3^3^ONTAP Select 9.5 デフォルトで、 Storage Efficiency ポリシーはサポートさSingle Instance Data Logging （ SIDL ）の詳細については、 vNAS のセクションを参照してください。 #[size] #^4^ONTAP Select 9.6 では、新しいライセンス（ Premium XL ）と新しい VM サイズ（大規模）がサポートされます。ただし、大規模な VM は、ソフトウェア RAID を使用する DAS 構成でのみサポートされます。現行リリースの大規模な ONTAP Select VM では、ハードウェア RAID と vNAS 構成はサポートされていません。 #</block>
  <block id="2bb65eec7b863bd298a37f91f01bc93b" category="paragraph">ONTAP Select 9.5 以降にアップグレードした後は 'system node upgrade-revert show コマンドでアップグレードが完了したことが示されるまで待ってから ' 既存のボリュームのストレージ効率の値を確認します</block>
  <block id="deed1cb925849f0f3e45d21a73322805" category="paragraph">ONTAP Select 9.5 以降にアップグレードしたシステムでは、既存のアグリゲートまたは新たに作成したアグリゲートに作成された新しいボリュームは、新規の導入時に作成されたボリュームと同じ動作を行います。ONTAP Select コードのアップグレードを実行する既存のボリュームには、新たに作成したボリュームとほとんど同じ Storage Efficiency ポリシーが適用されますが、いくつかのバリエーションがあります。</block>
  <block id="29a9d0505777c34dba7f61853452be5d" category="list-text">「 space guarantee = volume 」のボリュームでは、インラインデータコンパクション、アグリゲートインライン重複排除、およびアグリゲートバックグラウンド重複排除は有効になりません。これらのオプションは、アップグレード後に有効にできます。</block>
  <block id="35fbb1bb20290d891a137d1fcbd0e239" category="list-text">'space guarantee =none' のボリュームでは ' バックグラウンド圧縮が有効になっていませんこのオプションは、アップグレード後に有効にできます。</block>
  <block id="1dee9382dee8939942474aa4d9a34277" category="list-text">既存のボリュームの Storage Efficiency ポリシーは、アップグレード後に auto に設定されます。</block>
  <block id="1a2585f27eba29eb7f70b8aa099fbeca" category="list-text">アップグレード後に 'space guarantee = volume が指定されたボリュームに違いはありません</block>
  <block id="ef178eb460204113beba1cbd28432807" category="list-text">'space guarantee =none' のボリュームでは、アグリゲートバックグラウンド重複排除がオンになっています。</block>
  <block id="3779f0db6c726f0073ea96bd58344c7c" category="list-text">「 storage policy inline-only 」が指定されたボリュームのポリシーは auto に設定されています。</block>
  <block id="f32e9c7c29189d660541b511be781cbb" category="list-text">ユーザ定義のストレージ効率化ポリシーが設定されたボリュームは、「スペースギャランティ = none 」が設定されたボリュームを除き、ポリシーに変更はありません。このボリュームでは、アグリゲートバックグラウンド重複排除が有効になっています</block>
  <block id="d0b68a1323470e4c9310c26b4ee1c585" category="paragraph">アップグレード前に有効にした Storage Efficiency 機能は、 ONTAP Select 9.5 以降へのアップグレード後も保持されます。アップグレード前に Storage Efficiency が有効になっていなかった場合は、アップグレード後も Storage Efficiency は有効になりません。</block>
  <block id="827fe6014df4dcd93529a1c8e73f3c37" category="summary">Deploy のオンラインドキュメントページを使用する前に、いくつかの点に注意する必要があります。</block>
  <block id="150a67adb932e1a6edc3581e48ffcd17" category="doc">ブラウザから API にアクセスする前に</block>
  <block id="9fd0cd7fbfcb835011bb94274ec501c7" category="section-title">導入計画</block>
  <block id="9c771c110c94825e0edc6ce956cbaa82" category="paragraph">特定の導入タスクまたは管理タスクを実行する際に問題 API 呼び出しを行う場合は、導入計画を作成することを検討してください。これらのプランは正式なプランでも非公式なプランでもあり、通常は目標と使用する API 呼び出しが含まれています。詳細については、 Deploy REST API を使用したワークフロープロセスを参照してください。</block>
  <block id="29460346c03d00036042893dd80489ad" category="section-title">JSON の例とパラメータの定義</block>
  <block id="95455df5d7b1b3db94ea3242be3563ac" category="paragraph">各 API 呼び出しについて、ドキュメントページで一貫した形式で説明しています。このコンテンツには、実装メモ、クエリパラメータ、および HTTP ステータスコードが含まれます。また、 API の要求と応答で使用される JSON に関する詳細を次のように表示することもできます。</block>
  <block id="8b84af7cd6dbd15d3e29767faff4c735" category="list-text">値の例 API 呼び出しで _example value_on をクリックすると、呼び出しの典型的な JSON 構造が表示されます。この例は必要に応じて変更でき、要求の入力として使用できます。</block>
  <block id="347f9f134138bbcb42fa67aed2fbddba" category="list-text">モデル (Model) - モデル (_Model_) をクリックすると 'JSON パラメータの完全なリストが表示され ' 各パラメータの概要 が表示されます</block>
  <block id="564b7e56e433323571bde06fbe6a5d83" category="section-title">API 呼び出しを実行する際の注意事項</block>
  <block id="cc7b50f7c16a19e77b53fc2c649a6a2c" category="paragraph">Deploy のドキュメントページを使用して実行する API 処理は、すべてライブ処理です。構成ファイルやその他のデータを誤って作成、更新、削除しないように、注意してください。</block>
  <block id="9cbb2237779591c572f2e7fa9444989e" category="summary">容量階層のライセンスモデルでは、ノードに割り当てられているライセンスのシリアル番号と 9 桁のノードシリアル番号が同じです。ただし、容量プールのライセンスモデルを使用するノードに割り当てられるシリアル番号の形式は異なります。</block>
  <block id="875d6acfb9499e910c2863da32d9284e" category="doc">ノードのシリアル番号</block>
  <block id="5c8c6a008855a7326fa4629a85dd127e" category="paragraph">容量プールライセンスを使用しているノードのシリアル番号の形式は次のとおりです。</block>
  <block id="3341673f4960921bc2834aa8bfa4ac44" category="paragraph">「 999 ppppppppppppppppp nnnnnnnn 」と入力します</block>
  <block id="8488b21dee18149216107700b6943d61" category="admonition">わかりやすくするためにスペースが追加されていますが、実際のシリアル番号には含まれていません。</block>
  <block id="eea8b1995d50aa53af45e544818f8706" category="paragraph">ノードのシリアル番号の各セクションを、左から右の次の表に示します。</block>
  <block id="d2c24d59e0baff4d0155fbdf62590867" category="cell">セクション</block>
  <block id="04adb8320a112460030976076e1b41c5" category="cell">'999'</block>
  <block id="94c8db1e39e106761ed9c4db655dd019" category="cell">ネットアップが予約した 3 桁の固定値。</block>
  <block id="0c59088c12981c5178183df5dc1d06ec" category="cell">ppppppppppppp</block>
  <block id="2d11bc3376ef9a1325097fc3bdf98e3b" category="cell">ネットアップが容量プールに割り当てた 9 桁の可変ライセンスシリアル番号</block>
  <block id="6eff2276c4f875c14c569fbc11e4c2a0" category="cell">nnnnnnnn</block>
  <block id="28166a3ae8b939ecccabac1b217dd6b9" category="cell">容量プールを使用する各ノードに対して License Manager によって生成される変数 8 桁の値</block>
  <block id="d5b7ad6085f954060b4b4df44a320995" category="admonition">注意：容量プールライセンスを使用するノードを含むネットアップサポートでケースをオープンするときは、 20 桁の全ノードシリアル番号を指定することはできません。代わりに、 9 桁の容量プールライセンスシリアル番号を指定する必要があります。上記のように、ノードのシリアル番号からライセンスのシリアル番号を取得できます。ノードのシリアル番号（ '999' ）の最初の 3 桁をスキップし、次の 9 桁（ ppppppppppp ）を抽出します。</block>
  <block id="86b544aab279dcb98c0ac9a8a2cfce27" category="summary">ONTAP Select ノードを導入する各ハイパーバイザーホストを準備します。ホストの準備の一環として、導入環境を慎重に評価し、ホストが適切に設定されていること、および ONTAP Select クラスタの導入準備ができていることを確認してください。</block>
  <block id="d6facbd23af86991ad37f5c0f75f8487" category="doc">ホストの設定と準備のチェックリスト</block>
  <block id="2185b12253fdb08ce9e5bab96ce67841" category="admonition">ONTAP Select Deploy 管理ユーティリティでは、ハイパーバイザーホストのネットワークとストレージの必要な設定が実行されません。ONTAP Select クラスタを導入する前に、各ホストの準備を手動で行う必要があります。</block>
  <block id="a623b323ce5bde34ceed491f235e772c" category="section-title">ハイパーバイザーの一般的な準備</block>
  <block id="4f70f438bc71ffe3cc266bbdbd64dd4c" category="paragraph">ハイパーバイザーホストを準備する必要があります。</block>
  <block id="157082075cf8ebd954c056e836434d09" category="paragraph">各ホストには次の項目を設定する必要があります。</block>
  <block id="24204c997b3d030f4d9ce5fcea7002fe" category="list-text">サポート対象のプリインストールされたハイパーバイザー</block>
  <block id="411cd9469768abc767a0d3bac2cdf6a7" category="list-text">VMware vSphere ライセンス</block>
  <block id="eeb652490d57d0a6e0d8c4df44d30196" category="paragraph">また、同じ vCenter Server で、クラスタ内に ONTAP Select ノードが導入されているすべてのホストを管理できる必要があります。</block>
  <block id="be7ba1cc5d733e1a1147dfcb706ba07e" category="paragraph">さらに、 vSphere へのアクセスを許可するようにファイアウォールポートが設定されていることを確認してください。ONTAP Select 仮想マシンへのシリアルポート接続をサポートするには、これらのポートを開く必要があります。</block>
  <block id="64e9bd801fb1d92798105981e35f9849" category="paragraph">デフォルトでは、 VMware は次のポートでアクセスを許可します。</block>
  <block id="338fd1d1b83d5d0138568986650d8dc2" category="list-text">ポート 22 およびポート 1024~65535 （インバウンドトラフィック）</block>
  <block id="ad85e3d4f8993ecc55cfc896cea6dc3a" category="list-text">ポート 0~65535 （アウトバウンドトラフィック）</block>
  <block id="a9461ad4bdcaf1c7202fdc5b685ae53b" category="paragraph">次のファイアウォールポートを開いて vSphere へのアクセスを許可することを推奨します。</block>
  <block id="752d7150e9a84bfe1a31fbe987989ac9" category="list-text">ポート 7200~7400 （インバウンド / アウトバウンドの両方のトラフィック）</block>
  <block id="f392a4c2089f47d56aaf2604d51a0212" category="paragraph">また、必要な vCenter の権限についても理解しておく必要があります。を参照してください <block ref="b5bc3984b5dc3be4e25e9aa47658f334" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="0fb894a7b1c4fc2e3053e0d8e16e28bb" category="section-title">ONTAP Select クラスタネットワークの準備</block>
  <block id="c543be005c793f5c1453419ee22fdb86" category="paragraph">ONTAP Select はマルチノードクラスタまたはシングルノードクラスタとして導入できます。多くの場合、追加のストレージ容量と HA 機能のメリットを考慮して、マルチノードクラスタを推奨します。</block>
  <block id="d50c9bc4edee53c577b0f49de0372b74" category="section-title">ONTAP Select ネットワークとノードの図</block>
  <block id="bdeb743cae55db0d19ef5bb601af8d02" category="paragraph">次の図は、シングルノードクラスタと 4 ノードクラスタで使用されるネットワークを示しています。</block>
  <block id="b8bacb4f33d1e9dea63f9ab11ce19732" category="section-title">1 つのネットワークを使用するシングルノードクラスタ</block>
  <block id="58198336ded054ee055d62950ea47a49" category="paragraph">次の図は、シングルノードクラスタを示しています。外部ネットワークは、クライアント、管理、およびクラスタ間のレプリケーションのトラフィックを伝送します（ SnapMirror / SnapVault ）。</block>
  <block id="e4de6945234664828cf04b9124c5dad3" category="paragraph"><block ref="e4de6945234664828cf04b9124c5dad3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f738af515e6134e45621304b009e7c5" category="section-title">2 つのネットワークを使用する 4 ノードクラスタ</block>
  <block id="d0c98acebd4a01ddf3e6391db82cf8cc" category="paragraph">次の図は、 4 ノードクラスタを示しています。内部ネットワークでは、 ONTAP クラスタネットワークサービスに対応するためにノード間で通信できます。外部ネットワークは、クライアント、管理、およびクラスタ間のレプリケーションのトラフィックを伝送します（ SnapMirror / SnapVault ）。</block>
  <block id="d903217e89ca4f8dc5faaecd0d175f0c" category="paragraph"><block ref="d903217e89ca4f8dc5faaecd0d175f0c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ead2b5cc2e9a07c3c837cd527eae680" category="section-title">4 ノードクラスタ内のシングルノード</block>
  <block id="0e17d1b8e444a58b17e21b8d633cf3c9" category="paragraph">次の図は、 4 ノードクラスタ内の単一の ONTAP Select 仮想マシン用の一般的なネットワーク構成を示しています。ネットワークは 2 つあります。 ONTAP 内部と ONTAP 外部です。</block>
  <block id="ab818ab7a96525155b780ef59003cf8c" category="paragraph"><block ref="ab818ab7a96525155b780ef59003cf8c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="56e2b9daec1637993e5182fd117827a3" category="section-title">ハイパーバイザーホスト上の vSwitch 設定</block>
  <block id="c44b5d59bfc3b0196028c522c56aa989" category="paragraph">vSwitch は、内部ネットワークと外部ネットワークの接続のサポートに使用するコアハイパーバイザーコンポーネントです。各ハイパーバイザー vSwitch の設定の一環として考慮する必要がある事項がいくつかあります。</block>
  <block id="5850fac42ee19999fd3b74ae172f1a3d" category="section-title">2 つの物理ポート（ 10Gb × 2 ）を搭載したホストに対する vSwitch の設定</block>
  <block id="eda37297768fb66316ec0c97afd29213" category="paragraph">各ホストに 2 つの 10Gb ポートが含まれている場合は、次のように vSwitch を設定する必要があります。</block>
  <block id="a86f2765e738940e7dd8fdf6da677fd5" category="list-text">vSwitch を設定し、両方のポートを vSwitch に割り当てます。2 つのポートを使用して NIC チームを作成します。</block>
  <block id="bfb9321c8431589faff7f47c47138df7" category="list-text">ロードバランシングポリシーを「 Route based on the originating virtual port ID 」に設定します。</block>
  <block id="4392037ca9aa84394b086d1268c59a3b" category="list-text">両方のアダプタを「 active 」としてマークします。</block>
  <block id="0cc1ebaa405436d568cee576cc2d2503" category="inline-image-macro">vSwitch のプロパティ</block>
  <block id="fee017d680804978d6f31a0149d3356f" category="list-text">「フェールバック」設定を「はい」に設定します。<block ref="f2456bc45004bdf347023d01536a2379" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0bd1bd6c1c4f8c07bba0ee34ba53b4b3" category="list-text">ジャンボフレーム（ 9000MTU ）を使用するように vSwitch を設定します。</block>
  <block id="e954024be7362eabbc9a349d62fdd4d4" category="list-text">内部トラフィック（ ONTAP 内部）用に vSwitch 上のポートグループを設定します。</block>
  <block id="a75b88570c3f7c89c4fc7aa2f4ab0862" category="list-text">ポートグループは、クラスタ、 HA インターコネクト、およびミラーリングのトラフィックに使用する ONTAP Select 仮想ネットワークアダプタ e0c-pe0g に割り当てられます。</block>
  <block id="98a4f6885e7d5c14cf8637949d2c7084" category="list-text">このネットワークはプライベートネットワークであると想定されるため、ルーティングできない VLAN 上にポートグループを配置する必要があります。この点を考慮して、適切な VLAN タグをポートグループに追加してください。</block>
  <block id="1d73953b34ca84fbbf679a9071108259" category="list-text">ポートグループのロードバランシング、フェイルバック、フェイルオーバーの順序の設定は vSwitch と同じにする必要があります。</block>
  <block id="b7760ca7d6bf308d66b54dafb201dee0" category="list-text">外部トラフィック（ ONTAP 外部）用に vSwitch 上のポートグループを設定します。</block>
  <block id="cc60c471b3f7c93bb39710ddf02f3de5" category="list-text">ポートグループは、データトラフィックと管理トラフィックに使用する ONTAP Select 仮想ネットワークアダプタ e0a~e0c に割り当てられます。</block>
  <block id="be1192e22ed4b2278c16d618bdfb26db" category="list-text">ルーティング可能な VLAN 上にポートグループを配置できます。また、ネットワーク環境によっては、適切な VLAN タグを追加するか、 VLAN トランキング用のポートグループを設定する必要があります。</block>
  <block id="aeb674f30505441361603daaf231026f" category="list-text">ポートグループのロードバランシング、フェイルバック、フェイルオーバーの順序の設定は vSwitch と同じにする必要があります。</block>
  <block id="6b59ceccf3ee7910ade2c094fe636bb7" category="paragraph">上記の vSwitch の設定は、一般的なネットワーク環境における 2 つの 10Gb ポートを搭載したホスト用の設定です。</block>
  <block id="f5b241fc250b3d06edf589b105596935" category="summary">すべての API 呼び出しの詳細が、 ONTAP Select Deploy のオンラインドキュメント Web ページに共通の形式で文書化されて表示されます。1 つの API 呼び出しについて理解すれば、他の API 呼び出しの詳細も同様に表示して解釈できるようになります。</block>
  <block id="af7ab2b057a04729ac1f3dca0fe718d1" category="doc">API 呼び出しの概要と実行方法</block>
  <block id="f88210d2eab3d233e5af40136f634e78" category="paragraph">ONTAP Select Deploy のオンラインドキュメント Web ページにサインインする必要があります。クラスタの作成時に ONTAP Select クラスタに割り当てられた一意の識別子が必要です。</block>
  <block id="a1f5081f3dbf077035f1e845de86d7f2" category="paragraph">一意の識別子を使用して、 ONTAP Select クラスタについての設定情報を取得できます。この例では、 expensive と分類されたすべてのフィールドが返されます。ただし、ベストプラクティスとして、必要なフィールドだけを指定することを推奨します。</block>
  <block id="6d998d9ff628e2b0fde654239468060c" category="list-text">メインページで一番下までスクロールし、 * Cluster * をクリックします。</block>
  <block id="2fa8b95c0280fa208e02bcfc35b2d714" category="list-text">Get / clusters / ｛ cluster_id ｝ * をクリックして、 ONTAP Select クラスタに関する情報の取得に使用する API 呼び出しの詳細を表示します。</block>
  <block id="754352c17de30934f31734f144b3d9d0" category="summary">購入を決定する前に ONTAP Select を評価したい場合は、評価用ライセンスを使用できます。評価用ライセンスは ONTAP Select Deploy 管理ユーティリティに含まれており、評価用導入の一環として各 ONTAP Select ノードに自動的に適用されます。</block>
  <block id="8b3398557c7fb55b263bf52bece82b68" category="doc">評価用ライセンス</block>
  <block id="e009f07bc1785009a3ceb83036990929" category="section-title">ライセンスの特性</block>
  <block id="11731b987dc6227f75478145446eec49" category="paragraph">ONTAP Select 評価用ライセンスには次のような特徴があります。</block>
  <block id="1a722f6211174d2c13dea99241228cdd" category="list-text">ストレージ容量を含む本番環境ライセンスは必要ありません</block>
  <block id="da43be3a437b4b11176af278d2bf65e4" category="list-text">ノードのシリアル番号は 20 桁で、 ONTAP Select Deploy によって自動的に生成されます</block>
  <block id="d81334460101f9ea4e0446684836ab2c" category="paragraph">（ネットアップから直接取得することはありません）。</block>
  <block id="b8c2c21a1451d44d469c74b3bc603f96" category="list-text">ライセンスが提供する評価期間は、最大 90 日です</block>
  <block id="ad49b216aa656d515b04dd8c523873dd" category="list-text">各ノードによって割り当てられる最大ストレージ容量は、本番環境ライセンスと同じです</block>
  <block id="1cb348fd553ecf6240cdad1c7549cc09" category="section-title">本番環境用ライセンスへのアップグレード</block>
  <block id="238908176e0b205e68cd2d9e0c4972e5" category="paragraph">ONTAP Select 評価用クラスタは、本番環境ライセンスを使用するようにアップグレードできます。次の制限事項に注意してください。</block>
  <block id="60c8e16d600bd89fdcfca7dd31b63260" category="list-text">ライセンスのアップグレードを実行するには、 Deploy 管理ユーティリティを使用する必要があります</block>
  <block id="4327ce7fe9ea147e5288aa2e0b6d7059" category="list-text">ライセンスのアップグレードは、 Deploy 2.11 以降を使用する ONTAP Select 9.5P1 でのみサポートされます</block>
  <block id="1e2f74556f8f29bf17e0d81fdf7f56ab" category="list-text">大容量階層ライセンスは使用できますが、容量プールのライセンスはサポートされていません</block>
  <block id="040571bf34446f7204162544612cd237" category="list-text">各ノードには、クラスタサイズに基づいて、本番環境ライセンスに必要な最小要件を満たす十分なストレージを割り当てる必要があります</block>
  <block id="3cd51cb3194de3a93d8c46320e14bab2" category="paragraph"><block ref="18fbbab1048e4570a16cd920f4285ac8" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="e5572b9d7f7ab2b1d49ef5499e587a24" category="summary">ONTAP Select vNAS の使用に関連するいくつかの計画の問題について考慮する必要があります。</block>
  <block id="b00fa0d79083a8d6eae4f833835c1cda" category="doc">ONTAP Select vNAS の要件</block>
  <block id="8233e4100c364a3dccf4f912154ed0e9" category="paragraph">ONTAP Select vNAS は、 ONTAP Select データストアを、 ONTAP Select 仮想マシンを実行するハイパーバイザーホストの外部に配置するための解決策 です。これらのリモートデータストアには、 VMware vSAN または汎用の外付けストレージアレイを使用してアクセスできます。</block>
  <block id="aa5960e278cc090ee09a54daeb69b04f" category="section-title">基本的な要件と制限事項</block>
  <block id="8b1cceb8ee9ad88dd4930c9ece31698c" category="paragraph">ONTAP Select vNAS 解決策 は、サイズの異なる ONTAP Select クラスタで使用できます。</block>
  <block id="e08175c6fa64cba68719dea85ebd9d34" category="inline-link-macro">VMware Compatibility Guide 』を参照してください</block>
  <block id="e7e263e0364d82e22685210688e5f0ba" category="paragraph">ハードウェア、ソフトウェア、機能の要件を含む、関連するすべてのストレージコンポーネントは、に記載されている要件に従う必要があります<block ref="5ad99fa92a25f4f42a5a5d2e8ecade72" category="inline-link-macro-rx"></block>。また、 ONTAP Select は、 iSCSI 、 NAS （ NFSv3 ）、ファイバチャネル、 Fibre Channel over Ethernet など、 _ VMware ストレージ /SAN 互換ガイド _ に記載されているすべての外付けストレージアレイをサポートします。外付けアレイのサポートは、 ONTAP Select がサポートする ESXi のバージョンによって制限されます。詳細については、 NetApp Interoperability Matrix Tool も参照してください。</block>
  <block id="d19939daf9165f38b8060e7a6a9dd5e4" category="paragraph">ONTAP Select vNAS を使用してクラスタを導入する場合は、 VMware の次の機能がサポートされます。</block>
  <block id="08c79d8fc3d9a46d446a1aa98eaa1ccc" category="list-text">vMotion</block>
  <block id="87657b14ac822b0f1c3f5984ab602336" category="list-text">高可用性（ HA ）</block>
  <block id="246beee0e37bd790504aa0bbbfe7d70f" category="list-text">Distributed Resource Scheduler （ DRS ）</block>
  <block id="c1d1c2f30854d5336f2e7a2f24989f92" category="admonition">これらの VMware の機能は、シングルノードおよびマルチノードの ONTAP Select クラスタでサポートされています。マルチノードクラスタを導入する場合は、同じクラスタの 2 つ以上のノードが同じハイパーバイザーホストで実行されていないことを確認する必要があります。</block>
  <block id="5df4df590d7731e5ad63f38b1d6b03d1" category="paragraph">VMware の次の機能はサポートされません。</block>
  <block id="c6907bf0ef72e941a86a649fceba076a" category="list-text">フォールトトレランス（ FT ）</block>
  <block id="3b90f9687ad20371a1281c597b5bc763" category="list-text">仮想データストア（ VVOL ）</block>
  <block id="c8fe594dab6cb1395df34d73b005c900" category="section-title">設定要件</block>
  <block id="41498b0ed7b21bebfae43431e5ef7338" category="paragraph">外付けストレージアレイ（ iSCSI 、ファイバチャネル、 Fibre Channel over Ethernet ）で VMFS データストアを使用する場合は、ストレージを使用するように ONTAP Select を設定する前に、 VMFS ストレージプールを作成しておく必要があります。NFS データストアを使用する場合は、個別の VMFS データストアを作成する必要はありません。すべての vSAN データストアを同じ ESXi クラスタ内で定義してください。</block>
  <block id="707519b05ac5afcf2d27ad39f3d52864" category="admonition">ホストの設定時やストレージの追加処理の実行時には、 VMware vSAN または外付けストレージアレイ上の各データストアの容量制限を指定する必要があります。外付けストレージで許可されるストレージの制限内の容量を指定してください。容量制限を指定しない場合や、ディスク作成処理の際に外付けストレージのスペースが不足している場合は、エラーが発生します。</block>
  <block id="c2ffe02d76c4f089648f1647b43e4ee5" category="section-title">ベストプラクティス</block>
  <block id="266aea90ab74af877e08a3ab480ddcfb" category="paragraph">利用可能な VMware のマニュアルを参照し、 ESXi ホストの該当するベストプラクティスに従ってください。さらに、次の機能もあり</block>
  <block id="8b8ad71cb1f021d9c60ac3546c84a309" category="list-text">ONTAP Select ネットワークと外付けストレージ（ iSCSI または NFS を使用する場合は、 VMware vSAN と汎用のストレージアレイのトラフィック）に専用のネットワークポート、帯域幅、および vSwitch の構成を定義します。</block>
  <block id="eba94fc119b6edab65f52db7f8979bcc" category="list-text">ストレージ利用率を制限するように容量オプションを設定します（ ONTAP Select では、外部 vNAS データストアの全容量は使用できません）。</block>
  <block id="3a667d8f4f3502af8cd1055a07e547aa" category="list-text">可能な場合は、すべての汎用の外付けストレージアレイで、使用可能な冗長性機能と HA 機能を使用してください</block>
  <block id="1ec5ebe9da02a913129ab37e6a07cc46" category="summary">Deploy vCenter プラグインのサポートの一環として、使用可能なトラブルシューティング手法と一般的なエラーを理解しておく必要があります。</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="doc">トラブルシューティング</block>
  <block id="95b198d82be26199ca643df089ea0ad0" category="section-title">インストール、アンインストール、および更新のエラーです</block>
  <block id="e8a6dc63c48422c2cfb6ceea266d119f" category="paragraph">インストール、アンインストール、または更新の手順 の実行中にエラーが発生した場合、手順 （ Web ユーザインターフェイスまたは CLI ）の開始に使用される Deploy インターフェイスで表示されるエラーメッセージが API から返されます。</block>
  <block id="10fada9424e39bdec8ad28497f2fd600" category="paragraph">一般的なエラーには次のものがあります。</block>
  <block id="bb7a987711aea0f070b528b32bca904d" category="list-text">無効なクレデンシャル（ユーザ名またはパスワード）</block>
  <block id="1c98fd90ee413b67b353f4a7676e538d" category="list-text">インストール対象として指定されたプラグインが無効であるか、存在しません</block>
  <block id="4c97e4daad2ca8b814d902a175ad73be" category="list-text">vCenter サーバがオフラインであるか到達不能です</block>
  <block id="7ead48557b8b8807ada7b5e717e3d06c" category="paragraph">追加情報 でエラーが発生した場合は、次のログを確認します。</block>
  <block id="940a865ba1e27d8a0ff75b16b985e6de" category="list-text">導入サーバーログ</block>
  <block id="bf722c6ef6f3456c4b932e6cf26f1d41" category="list-text">vCenter Server のログです</block>
  <block id="2ce35e523582d19179df1cbac4ffcfa5" category="section-title">vCenter のプラグインエラー</block>
  <block id="f087625d65bff5797818c54c2b1a8549" category="paragraph">vCenter とのセッションでエラーが発生すると、エラーメッセージが表示されます。一般的なエラーには次のものがあります。</block>
  <block id="49ab9b77419cee8830049e9e8ec50520" category="list-text">Deploy サーバの SSL 証明書がブラウザで受け入れられなかったため、 vCenter に組み込みコンテンツを Deploy サーバからロードできませんでした。</block>
  <block id="bd613cd4f843f45dd1469f964dc3bd37" category="list-text">Deploy サーバが、 Deploy vCenter プラグインへのアクセスを試みる vCenter ユーザのセッション ID を承認できません。セッションがタイムアウトします。</block>
  <block id="89f6ac2dedf4447ca76d69cb525a7b59" category="list-text">Deploy vCenter プラグインにアクセスするための十分な権限がありません。</block>
  <block id="7e8f378c466ef1eff0040cfbecec45b4" category="list-text">Deploy サーバがオフラインであるか到達不能である。</block>
  <block id="416126c662b187c61f452e652ba2bf73" category="paragraph">追加情報 のエラーについては、次のログを参照してください。</block>
  <block id="0d746fcebf15f4b3e76f455166f550b9" category="summary">サンプルの Python スクリプトを実行する前に、環境を準備する必要があります。</block>
  <block id="29e9f19925f99f248473ca37ea546b64" category="doc">Python を使用して API にアクセスする前に、次の手順を実行</block>
  <block id="2440e78fcfb85444e37a4004b5713575" category="paragraph">Python スクリプトを実行する前に、環境が適切に設定されていることを確認する必要があります。</block>
  <block id="1d8aeb8f4f16d51236639b4b9eab626b" category="list-text">最新バージョンの python2 がインストールされている必要があります。サンプルコードは python2 でテストされています。また、 Python3 に移植可能ですが、互換性についてはテストされていません。</block>
  <block id="f29e16eb01776ebacbbe7f1daa96109f" category="list-text">Requests ライブラリと Ullib3 ライブラリがインストールされている必要があります。環境に応じて、 pip などの Python 管理ツールを使用できます。</block>
  <block id="2a9daccbc0444242913ee7d6c42e3eb4" category="list-text">スクリプトを実行するクライアントワークステーションに、 ONTAP Select Deploy 仮想マシンへのネットワークアクセスが必要です。</block>
  <block id="540b4ee0abe06ce5253c2092fa8a6cd7" category="paragraph">また、次の情報が必要です。</block>
  <block id="1c94b818fb401809efbc30d02b88072b" category="list-text">Deploy 管理者アカウントのユーザ名とパスワード</block>
  <block id="27918c15d26a489a97622613b0f53097" category="summary">現在のリリースの ONTAP Select には、いくつかの新機能と変更された機能があります。</block>
  <block id="6536ba690a368bc5eb96e1579c795e23" category="doc">ONTAP Select 9.10.1 の新機能</block>
  <block id="5986999240906508e3084d84dd2552d8" category="section-title">VMware NSX のサポート</block>
  <block id="1cef2a766ec9481a104c678cacd69cd5" category="list-text">クラスタ MTU</block>
  <block id="97ba2ef50ca50de240503a53bf0d9347" category="list-text">ネットワーク接続チェッカー</block>
  <block id="9272e0dade1877b24e5ef4ad453f2c08" category="list-text">NSX ベースのネットワークに対して実行されると、 Deploy CLI で使用可能なネットワーク接続チェッカーが失敗します。</block>
  <block id="51e3f7647537ef4a51cd74ad4edcb9c6" category="section-title">KVM ハイパーバイザーのサポートが廃止されました</block>
  <block id="8e361eb54b3b80f31009789e94a45ae7" category="summary">ONTAP Select ホストストレージに関連するいくつかの計画の問題について考慮する必要があります。</block>
  <block id="dc5fdaa935121fa44204e8c691831650" category="section-title">ハードウェア RAID コントローラの要件</block>
  <block id="dcb92b26cbdd8f553512ab90cafdfd37" category="paragraph">ONTAP Select を導入するハイパーバイザーホスト上の RAID コントローラがいくつかの要件を満たしている必要があります。</block>
  <block id="0d7b4cf161bfcf0c6626ebc2c2ebcad3" category="admonition">ONTAP Select を実行する ESXi ホストで、ハードウェア RAID コントローラまたは ONTAP Select に付属のソフトウェア RAID 機能を使用する場合は、ローカルの物理ドライブが必要です。ONTAP Select vNAS 解決策 を使用して外付けストレージにアクセスする場合、ローカルの RAID コントローラとソフトウェア RAID 機能は使用されません。</block>
  <block id="7eb00d244696536e00159720b84c5220" category="paragraph">RAID コントローラの最小要件は次のとおりです。</block>
  <block id="0ff577975363736de89a5ce1746cd056" category="list-text">12Gbps のスループット</block>
  <block id="e9f06735bbc115078453288140d995de" category="list-text">512MB の内蔵バッテリバックアップ式キャッシュまたはフラッシュ（スーパーキャパシタ）キャッシュ</block>
  <block id="c74a7e006fb74f394da48e7b611ce461" category="list-text">ライトバックモードで設定：</block>
  <block id="2d9ac52e0a591fb36fd5e767a800293f" category="list-text">フェイルバックモードを「ライトスルー」にする（サポートされている場合）</block>
  <block id="3af8e1139cd3ce851d125ebfeddca3a2" category="list-text">「常に先読み」ポリシーを有効にする（サポートされている場合）</block>
  <block id="9f682ea1550064bc1ae1b69743c6d050" category="list-text">RAID コントローラの背後にあるすべてのローカルディスクを単一の RAID グループとして設定する必要があります。必要に応じて、複数の RAID コントローラを使用できます。</block>
  <block id="5ae2017596364970053e5ca8ec4a32c2" category="list-text">RAID グループのローカルドライブキャッシュを無効にします。このキャッシュは、データの整合性を維持するために必要です。</block>
  <block id="c51d3cbf47ed99d75b05738eac056271" category="list-text">次のガイドラインに基づいて LUN を設定する必要があります。</block>
  <block id="58df81e193502c877604df7334e8b6a3" category="list-text">RAID グループサイズが ESXi LUN の最大サイズである 64TB を超える場合は、サイズが同じ複数の LUN を設定する必要があります。これらの LUN は、 RAID グループ内の使用可能なストレージをすべて消費します。</block>
  <block id="76154aa3eb299700ab7f9acafad76104" category="list-text">RAID グループサイズが ESXi LUN の最大サイズである 64TB よりも小さい場合は、 RAID グループ内の使用可能なストレージをすべて消費する 1 つの LUN を設定する必要があります。</block>
  <block id="f904e048344fe5089b5991b26d8fcd02" category="section-title">ソフトウェア RAID の要件</block>
  <block id="2e47d1812c96cee9e86c118c72c7c736" category="paragraph">VMware ESXi ハイパーバイザーに ONTAP Select クラスタを導入する際には、ローカルのハードウェア RAID コントローラの代わりに、 ONTAP Select が提供するソフトウェア RAID 機能を利用できます。ソフトウェア RAID を使用してクラスタを導入する前に、いくつかの要件と制限事項に注意する必要があります。</block>
  <block id="a1a264e616e24563d4b8f8b5795ea403" category="section-title">一般的な要件</block>
  <block id="724e52bc94bfb8a8a2ac7b6bc981655c" category="paragraph">VMware ESXi にソフトウェア RAID を導入する場合の環境は、次のコア要件を満たす必要があります。</block>
  <block id="935b367303b47c19b9b62a47057f5d6c" category="list-text">VMware ESXi バージョン：</block>
  <block id="0ac68f79bc5b55360d35600434d8da5f" category="list-text">ESXi 6.5 U2 （ビルド 8294253 ）以降</block>
  <block id="69322b2256be20f40d4399494e6e5d1d" category="list-text">ESXi 6.7 GA （ビルド 8169922 ）以降</block>
  <block id="7d92dddf3cdeb831e5c777dcd6e3edb1" category="list-text">ONTAP Select 9.5 以降</block>
  <block id="cfc85f4f7df067874a4ebae923cfada5" category="list-text">ONTAP Select Deploy 2.10 以降</block>
  <block id="2e5d3e181c7fbda932e522084a6325f4" category="list-text">新しい ONTAP Select クラスタのみ</block>
  <block id="81ccd86550b427eead589acc7b291ddb" category="admonition">Deploy 管理ユーティリティを使用して、 ONTAP Select 9.5 以降を搭載した新しいクラスタを導入する必要があります。ソフトウェア RAID は、以前のバージョンから ONTAP Select 9.5 にアップグレードされた既存のノードでは使用できません。</block>
  <block id="c7e62b59424536b250d4579734abe7f1" category="list-text">ONTAP Select プレミアムライセンス以上</block>
  <block id="40bb7b952246e092adb4433dd74a65a0" category="list-text">ローカル SSD ドライブのみ</block>
  <block id="f489a72fa633e22d9930c4381f3d7832" category="list-text">システムディスクをルートアグリゲートおよびデータアグリゲートから分離します</block>
  <block id="0245044ad10344cbfb4c31a0a9b52ef3" category="list-text">ホストにハードウェア RAID コントローラがありません</block>
  <block id="184a99574d5133650acafec36e4b0554" category="list-text">VMware VMotion 、 HA 、および DRS はサポートされません</block>
  <block id="7e46a2cb03bf4e0474fbcd85499a6a07" category="section-title">ONTAP Select ノード構成</block>
  <block id="55ec87e15693cb2f8b334dce0a64cef5" category="paragraph">各 ONTAP Select ノードおよびハイパーバイザーホストを次のように設定して、ルートアグリゲートとデータアグリゲートからシステムディスクを分離する必要があります。</block>
  <block id="5871a1d1b8da016e09df17b8c4d6df4b" category="list-text">システムストレージプールの作成 ONTAP Select システムデータ用のストレージプールを作成する必要があります。ONTAP Select ノードの設定の一環として、ストレージプールを接続する必要があります。</block>
  <block id="71536eb73817410fbcc39c09cc2ac005" category="list-text">必要な物理ディスクの接続ハイパーバイザーホストに必要な SSD ディスクが接続されていて、 ONTAP Select 仮想マシンで使用できる必要があります。これらのドライブには、ルートアグリゲートとデータアグリゲートが格納されます。ONTAP Select ノードの設定の一環として、ストレージディスクを接続する必要があります。</block>
  <block id="03635d88413b15f5448e0debf987d4df" category="section-title">ストレージ容量の制限</block>
  <block id="8e294160aa2dda3acc70aa80e92fefbf" category="paragraph">ONTAP Select の導入を計画する際には、ストレージの割り当てと使用に関する制限事項を把握しておく必要があります。</block>
  <block id="c750780558abe99c173fa4a4745e2607" category="paragraph">次に、最も重要なストレージの制限事項を示します。詳細については、 NetApp Interoperability Matrix Tool も参照してください。</block>
  <block id="3c9f00a87095ba5606706a9ab8c7606b" category="admonition">ONTAP Select では、ストレージの割り当てと使用に関していくつかの制限が適用されます。ONTAP Select クラスタを導入したりライセンスを購入したりする前に、これらの制限事項を確認しておく必要があります。詳細については、「 _License_Section 」を参照してください。</block>
  <block id="8850b07515e7db88d6cb525c6c481d80" category="section-title">物理ストレージ容量を計算しています</block>
  <block id="0fe8d9b864a73afe8856638031b2fdbf" category="paragraph">ONTAP Select ストレージ容量は、仮想データおよび ONTAP Select 仮想マシンに接続されているルートディスクの合計許容サイズに対応します。容量を割り当てる際はこの点を考慮してください。</block>
  <block id="921ae08a398e40f2fa3095234a9d5dc1" category="section-title">シングルノードクラスタの最小ストレージ容量</block>
  <block id="db16dcb2f1f2a5d30917e277ebfd1307" category="paragraph">シングルノードクラスタ内のノードに割り当てられるストレージプールの最小サイズは次のとおりです。</block>
  <block id="6ac10aff49f02a2ac1b7faaa251f43f2" category="list-text">評価： 500GB</block>
  <block id="21d3d981118c02415fdd9e2da3fc076c" category="list-text">本番： 1.0 TB</block>
  <block id="efcbd9b4de45199bc17dae1817b9e7ed" category="paragraph">本番環境の最小割り当ては、ユーザデータ用に 1TB 、さまざまな ONTAP Select 内部プロセス用に 266GB の容量が必要なオーバーヘッドとみなされます。</block>
  <block id="d236eeabd4be579fd810a407890d91d2" category="section-title">マルチノードクラスタの最小ストレージ容量</block>
  <block id="c2454291ba5215cef1402b9d53fb6a83" category="paragraph">マルチノードクラスタの各ノードに割り当てられるストレージプールの最小サイズは次のとおりです。</block>
  <block id="a1ac015a02d42583df571307a96109ae" category="list-text">評価： 1.9 TB</block>
  <block id="988e0810545bb224e1caeef7cbeaa24a" category="list-text">本番： 2.0 TB</block>
  <block id="ef2180a229994c5cf09e9ddb776b10b9" category="paragraph">本番環境の最小割り当ては、ユーザデータ用に 2TB と、さまざまな ONTAP Select 内部プロセスで使用される約 266GB です。これは必要なオーバーヘッドとみなされます。</block>
  <block id="585b7f18744944f320ed95d705f1301d" category="admonition">HA ペア内の各ノードのストレージ容量は同じであることが必要です。</block>
  <block id="ddb823296c1f0290bb0e616f33392ed8" category="section-title">ストレージ容量と複数のストレージプール</block>
  <block id="253386e7cc9509c396caffc47ba492ed" category="paragraph">ローカルの直接接続型ストレージ、 VMware vSAN 、または外付けストレージアレイを使用する場合は、各 ONTAP Select ノードで最大 400TB のストレージを使用するように設定できます。ただし、直接接続型ストレージまたは外付けストレージアレイを使用する場合、 1 つのストレージプールの最大サイズは 64TB です。したがって、このような状況で 64 TB を超えるストレージを使用する場合は、次のように複数のストレージプールを割り当てる必要があります。</block>
  <block id="d0bda987ced97d2c9403b09bd6b57c8c" category="list-text">クラスタの作成プロセスで初期ストレージプールを割り当てます</block>
  <block id="2e4e09e8149cc53b9ea6b1eba6ebb8a9" category="list-text">1 つ以上のストレージプールを追加して、ノードのストレージを増やします</block>
  <block id="8f906cb575a3330c6f26c29d6470de45" category="admonition">バッファが 2% 残っているため、各ストレージプールでは使用されず、容量ライセンスは必要ありません。容量上限を指定しないかぎり、このストレージは ONTAP Select で使用されません。容量上限を指定すると、指定した量が 2% のバッファゾーンに収まる場合を除き、その容量のストレージが使用されます。バッファは、ストレージプール内のすべてのスペースを割り当てようとしたときに発生する一時的なエラーを防ぐために必要です。</block>
  <block id="d30b1fc0d3fb69a0a4dedee07fd39a88" category="section-title">ストレージ容量と VMware vSAN</block>
  <block id="efc2d410b8db0329b5be9c6e34a94b14" category="paragraph">VMware vSAN を使用する場合、データストアは 64TB を超える場合があります。ただし、最初に割り当てることができるのは、 ONTAP Select クラスタの作成時のみです。クラスタが作成されたら、既存の VSAN データストアから追加のストレージを割り当てることができます。ONTAP Select で使用できる VSAN データストアの容量は、 VM ストレージポリシーセットによって決まります。</block>
  <block id="21f477b14edafcff673291e0aa7d5c82" category="paragraph">ハイパーバイザーのコアハードウェアに関する次の推奨事項を考慮してください。</block>
  <block id="79fa44eec2617eaf30deaacbe9f18945" category="list-text">単一の ONTAP Select アグリゲート内のすべてのドライブを同じタイプにする必要があります。たとえば、 HDD ドライブと SSD ドライブを同じアグリゲート内に混在させることはできません。</block>
  <block id="c616dfb46ae41e46e4c41d617aa36bab" category="section-title">プラットフォームライセンスに基づく追加のディスクドライブ要件</block>
  <block id="2c0c3458bf41e336c3ba7b716fa14de8" category="paragraph">選択するドライブは、プラットフォームのライセンスサービスによって制限されます。</block>
  <block id="52bfc31aac076b6e2884ee003b92949d" category="admonition">ディスクドライブの要件は、ソフトウェア RAID だけでなく、ローカルの RAID コントローラとドライブを使用する場合にも適用されます。これらの要件は、 ONTAP Select vNAS 解決策 経由でアクセスする外付けストレージには適用されません。</block>
  <block id="eb6d8ae6f20283755b339c0dc273988b" category="list-text">標準</block>
  <block id="6b77195773d33fcaee2e794aa69db340" category="list-text">内部 HDD （ NL-SAS 、 SATA 、 10K SAS ） × 8~60</block>
  <block id="8d5e7e72f12067991186cdf3cb7d5d9d" category="list-text">Premium サービス</block>
  <block id="662e448e452c2aafe9eb7ad28b6f5018" category="list-text">4~60 本の内蔵 SSD を搭載</block>
  <block id="68ed39572b6546b2a8f65e38fa4e4683" category="list-text">Premium XL</block>
  <block id="bba627f5b602b32018870dbaf143ccef" category="list-text">4~14 個の内蔵 NVMe</block>
  <block id="861ee2124b0a80492a98c4d2ac67ce2a" category="admonition">ローカル DAS ドライブを使用するソフトウェア RAID は、 Premium ライセンス（ SSD のみ）と Premium XL ライセンス（ SSD または NVMe ）でサポートされます。</block>
  <block id="e37c11f68e3397e2b860bdf79e536e7b" category="section-title">NVMe ドライブにはソフトウェア RAID を使用</block>
  <block id="39172c8364665d2e8c9d51ed089aae52" category="paragraph">NVMe SSD ドライブを使用するようにソフトウェア RAID を設定できます。環境が次の要件を満たしている必要があります。</block>
  <block id="ea496f805345adcd934dfe80807de273" category="paragraph">NVMe ドライブを使用する前に、ドライブを手動で設定する必要があります。を参照してください <block ref="191416126259da3468a3ff8ffcc86f0d" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="8e18eb8cd4ab44854a5b30a491abc11b" category="summary">ONTAP Select を導入する前に、ハイパーバイザーのネットワークを正しく設定する必要があります。</block>
  <block id="44a7bba009f406b43fe0bf78279bd691" category="doc">ネットワークに関する考慮事項</block>
  <block id="75e93aaa8b7d5677986d65d277ddcb62" category="section-title">仮想スイッチのオプション</block>
  <block id="ef3130800246f4eb268ad46a6cf7a179" category="paragraph">各 ONTAP Select ホストで、外部ネットワークと内部ネットワーク（マルチノードクラスタの場合のみ）をサポートするように仮想スイッチを設定する必要があります。マルチノードクラスタの導入の一環として、内部クラスタネットワーク上のネットワーク接続をテストしてください。</block>
  <block id="1aee248b6d7d9da8e0995fc76d5c4845" category="admonition">ハイパーバイザーホストで vSwitch を設定する方法と、高速インターフェイス機能の詳細については、を参照してください <block ref="6a6c3a35bed163956cd809e794515882" category="inline-link-macro-rx"></block> セクション。</block>
  <block id="0390e0e959a014408d4725b0ace8c32c" category="section-title">VMXNET3 へのアップグレード</block>
  <block id="bc5c056aa90bf9df1b3772cd23976ddf" category="paragraph">Deploy 2.10 を使用した ONTAP Select 9.5 以降では、 VMware ESXi での新しいクラスタの導入に付属するデフォルトのネットワークドライバとして VMXNET3 が用意されています。既存の ONTAP Select ノードをバージョン 9.5 以降にアップグレードした場合、ドライバは自動的にアップグレードされません。</block>
  <block id="b9445a7e71a24f1b50c7e62c89ab195c" category="admonition">現時点では、 VMXNET3 へのアップグレードは必要ありません。ただし、ドライバのアップグレードを選択した場合は、手動でアップグレードを実行する必要があります。この場合は、ネットアップサポートにお問い合わせください。</block>
  <block id="0ba079a4ad07a128e7d1b64a1f049ce4" category="paragraph">マルチノードクラスタの ONTAP Select ノードの接続には、別の内部ネットワークが使用されます。通常、このネットワークの MTU サイズは 9000 です。ただし、 ONTAP Select ノードを接続するネットワークの MTU サイズが大きすぎる場合もあります。小さいフレームに対応するために、内部ネットワーク上の ONTAP Select で使用される MTU サイズは 7500~9000 バイトの範囲で指定できます。</block>
  <block id="6400ea9731efe70975ad17d9728916c6" category="paragraph">MTU サイズは、クラスタ作成ページの「 Cluster Details 」セクションに表示されます。この値は、 Deploy 管理ユーティリティで次のように決定されます。</block>
  <block id="d36cd74a97143aba9b60f057c06e1b7d" category="list-text">初期デフォルト値は 9000 です。</block>
  <block id="f69c2bf8fd5f0159cd052a23397cf151" category="list-text">HA ペアのホストとネットワークを追加すると、ネットワーク内の vSwitch の構成に基づいて、必要に応じて MTU 値が減ります。</block>
  <block id="4989eb23e4efa12fd4442f8b2cd9c361" category="list-text">すべての HA ペアを追加してクラスタを作成できる状態になると、クラスタの最終的なクラスタ MTU 値が設定されます。</block>
  <block id="03d86f6ec3560c2f3b351a8e9d6e8735" category="admonition">ネットワークの設計に基づいて、必要に応じてクラスタの MTU 値を手動で設定できます。</block>
  <block id="22f2d185e74743c97b70fc3be9a3342a" category="section-title">標準 vSwitch 搭載の 2NIC ホスト</block>
  <block id="67580cbf6dedd4f38d316759e35d89a9" category="paragraph">2NIC 構成で ONTAP Select のパフォーマンスを向上させるには、 2 つのポートグループを使用して内部と外部のネットワークトラフィックを分離する必要があります。この推奨構成では、次のような特定の構成が環境 に推奨</block>
  <block id="3c232570df3809864b5b6c8c7c8008f9" category="list-text">ONTAP Select マルチノードクラスタ</block>
  <block id="5cc285d61b012deee329a6395b8fbf73" category="list-text">NIC 2 枚（ NIC 1 および NIC 2 ）</block>
  <block id="80bfcb20bace6d143ae9db9118a5798b" category="list-text">標準 vSwitch</block>
  <block id="aa71b02a90f5335a0d3a659d1b71ce6c" category="paragraph">この環境では、次のように 2 つのポートグループを使用してトラフィックを設定する必要があります。</block>
  <block id="7590e849ecae69d5e550951495a712c7" category="list-text">ポートグループ 1</block>
  <block id="b291945be56424fa81e4bc83f22ade18" category="list-text">内部ネットワーク（クラスタ、 RSM 、 HA-IC トラフィック）</block>
  <block id="57fcffe28763b4f5b88e7151d25f5bd7" category="list-text">NIC1 がアクティブである</block>
  <block id="c9d88fb9cc46ed3cdc0795d9515a5f29" category="list-text">NIC2 がスタンバイ状態です</block>
  <block id="7c2f997cda9a42b9fc247aa7034d75d6" category="list-text">ポートグループ 2</block>
  <block id="07cd8dc7ad1cf4dae45a818173df991f" category="list-text">外部ネットワーク（データトラフィックと管理トラフィック）</block>
  <block id="d3fa87d020f175168f9e3a3568f81def" category="list-text">NIC1 はスタンバイである</block>
  <block id="7e10076264098fd57df87a50b1b0fd17" category="list-text">NIC2 がアクティブです</block>
  <block id="0b1073705a06f43d81b7d23523ef73c9" category="section-title">標準 vSwitch 搭載の 4NIC ホスト</block>
  <block id="1106034684532f94132f3c8fd0e99b93" category="paragraph">4 つの NIC 構成で ONTAP Select のパフォーマンスを向上させるには、 4 つのポートグループを使用して内部と外部のネットワークトラフィックを分離する必要があります。この推奨構成では、次のような特定の構成が環境 に推奨</block>
  <block id="8a7612084f0001e12a20c13db6c26588" category="list-text">NIC × 4 （ NIC1 、 NIC2 、 NIC3 、 NIC4 ）</block>
  <block id="a60e420b1005714881904866411f0748" category="paragraph">この環境では、次のように 4 つのポートグループを使用してトラフィックを設定する必要があります。</block>
  <block id="5c6c32c8e84677d75e01d0f863cef8f2" category="list-text">内部ネットワーク（クラスタ、 RSM トラフィック）</block>
  <block id="2559118303a9488370a74657eab03fff" category="list-text">NIC2 、 NIC3 、 NIC4 スタンバイ</block>
  <block id="adca2287973aa75f30f3a8ff844f5e7c" category="list-text">内部ネットワーク（クラスタ、 HA-IC トラフィック）</block>
  <block id="51c1bc77fba90249dfdd85d23e1f08f2" category="list-text">NIC3 がアクティブです</block>
  <block id="7c02295aed7372fe94c8cba572160ff6" category="list-text">NIC1 、 NIC2 、 NIC4 スタンバイ</block>
  <block id="acb4ce6b7fd50d347d6a2402c1641589" category="list-text">ポートグループ 3</block>
  <block id="fe1388522d839b3c1c6d51846a77a8ce" category="list-text">NIC2 がアクティブです</block>
  <block id="b187ee9aca7ae143886fb23c50178111" category="list-text">NIC1 、 NIC3 、 NIC4 スタンバイ</block>
  <block id="99d9a79cf29d5e6b6f79a8fea7c47a89" category="list-text">ポートグループ 4</block>
  <block id="61de17062286e554c8892603d5fdf1bb" category="list-text">外部ネットワーク（データトラフィック）</block>
  <block id="af3983087e4a8c72b79296a90259281f" category="list-text">NIC4 はアクティブです</block>
  <block id="ed68ac51ec027e81c401cad4e2e93ad1" category="list-text">NIC1 、 NIC2 、 NIC3 、スタンバイ状態</block>
  <block id="7964ae7c8fad0d845f719ede0526f7ba" category="section-title">ネットワークトラフィックの要件</block>
  <block id="69df7fce20f6977be8327100cd007c49" category="paragraph">ONTAP Select 環境のさまざまな参加者間でネットワークトラフィックが流れるように、ファイアウォールが適切に設定されていることを確認する必要があります。</block>
  <block id="9c0384a1be7c43f3c01309bd8f00ba3c" category="list-text">ONTAP Select 環境の一部としてネットワークトラフィックを交換する複数の参加者またはエンティティがあります。これらの情報が導入され、ネットワークトラフィック要件の要約概要 で使用されます。</block>
  <block id="571e74c42b6fd0c863d99ca79791a730" category="list-text">Deploy ONTAP Select 管理ユーティリティを導入する</block>
  <block id="fedc0c7b90272c7c437c4f51612ab8f3" category="list-text">vSphere / ESXi ホスト。クラスタ環境でのホストの管理方法に応じて、 vSphere サーバまたは ESXi ホストのどちらかを使用します</block>
  <block id="57a3f7723e1e2adf734f87ecd806e572" category="list-text">ハイパーバイザーサーバの ESXi ハイパーバイザーホスト</block>
  <block id="3f12ba0452b3f203ed1214e5940e1081" category="list-text">OTS ノード： ONTAP Select ノード</block>
  <block id="3bdd590d159ba5504414880a79c1fc2d" category="list-text">OTS クラスタ ONTAP Select クラスタです</block>
  <block id="ecc02548801c9dc440947852ec64fb1b" category="list-text">Admin WS ローカル管理ワークステーション</block>
  <block id="8162ed45793cc1d2005e69959d63d2e0" category="list-text">次の表に、 ONTAP Select 環境のネットワークトラフィック要件を示します。</block>
  <block id="392b33076379ee53142fbbc232079cc8" category="cell">プロトコル / ポート</block>
  <block id="02674a4ef33e11c879283629996c8ff8" category="cell">方向（ Direction ）</block>
  <block id="650ca61d87e2dd5bf26df43f312b4671" category="cell">TLS （ 443 ）</block>
  <block id="d679fea9784dc948e5d1a0a8be24a5b1" category="cell">vCenter Server （管理対象）または ESXi （管理対象外）に導入</block>
  <block id="0694f2ed2dc5b03a0b800f1241fdcb46" category="cell">VMware VIX API</block>
  <block id="b6a1085a27ab7bff7550f8a3bd017df8" category="cell">902</block>
  <block id="7d6fe0dd606232f7155fdeae2ea620a9" category="cell">ICMP</block>
  <block id="d4d85c100efb1a790a5ce1ac21c5f1d7" category="cell">ハイパーバイザーサーバに導入します</block>
  <block id="b4c0ac254ff78c85a9101fea561af4f8" category="cell">各 OTS ノードに展開します</block>
  <block id="35b0dc774d85cf09afe1d96a59548c0d" category="cell">SSH （ 22 ）</block>
  <block id="52d8cb03f7e1ba28b40cf59aba9d23a6" category="cell">管理 WS を各 OTS ノードに割り当てます</block>
  <block id="7b9cdb50ce993f8da32e0203d7891e3b" category="cell">OTS ノードおよびクラスタに展開します</block>
  <block id="4aefb9d8b97710c922355b95aa968b29" category="cell">ONTAP にアクセスします</block>
  <block id="33049db6f4337fdeb40a9daa0f02990a" category="cell">展開する各 OTS ノード</block>
  <block id="70f50e4e9581a0bf2a267b6b6c10da92" category="cell">Deploy にアクセスします</block>
  <block id="7500b5713f13bc8f1704bb7da699f783" category="cell">iSCSI （ 3260 ）</block>
  <block id="486a5d62fc96d90727c1ed173ccfa4b5" category="cell">メディエーター / メールボックスディスク</block>
  <block id="9fbbd5bdac28c04c1d8551e94ce3f619" category="doc">ONTAP Select リリースノート</block>
  <block id="12f423cf4aa4ff75a7ca9220c1c56cd8" category="paragraph">ONTAP Select のリリースノートには、新機能、サポートされる設定、アップグレードに関する注意事項、既知の問題など、リリース固有の情報が記載されています。 解決済みの問題と既知の制限事項。</block>
  <block id="e1060dc2ca9dac04bf54c9156ff74480" category="admonition">リリースノートにアクセスするには、ネットアップサポートサイトにサインインするアカウントが必要です。</block>
  <block id="f7cbb5649dbc857609b9017aafeee7f1" category="summary">容量プールと容量階層のライセンスモデルには、いくつかの違いがあります。</block>
  <block id="641c499a9632bfe99299959cfd7c82f8" category="doc">容量プールと容量階層ライセンスを比較する</block>
  <block id="bed7832e3f97e759fd2581b465169890" category="paragraph">次の表に、 ONTAP Select でサポートされる 2 つの本番環境ライセンスモデルの比較を示します。</block>
  <block id="40cc20fb536f79b4342dc02e04418031" category="cell">大容量階層</block>
  <block id="3824ce9b3abc70c7c5c21eda0ab912d0" category="cell">容量プール</block>
  <block id="d8c97127df818e94ea6e6ac7b50e96b4" category="cell">ライセンスのシリアル番号</block>
  <block id="74eb298f532f82b217f8fd4335a9809f" category="cell">ネットアップが生成してノードに割り当てる 9 桁の数字</block>
  <block id="91bc1f85b954434200a85f3bb06ad036" category="cell">ネットアップが生成して容量プールに割り当てる 9 桁の数字</block>
  <block id="cfe9ad257383707f3fd7fae02d04d37c" category="cell">ライセンスロック</block>
  <block id="d62725d2824f19699315182c0a6b0376" category="cell">ONTAP Select ノードにロックされました</block>
  <block id="d38016c64850189116e2066e441f03ee" category="cell">License Manager インスタンスにロックされています</block>
  <block id="96fc35b6f9ffc7d38325a9aa31e1b29f" category="cell">ライセンス期間</block>
  <block id="209d48c97092139c09f12b8b898b3ebb" category="cell">無期限（更新は不要）</block>
  <block id="fdad6dbf8e8406dac26765af9059a3a1" category="cell">購入に基づく固定期間（更新が必要）</block>
  <block id="20e5e85bddb25cf1cf39977f4a5b8f1f" category="cell">データアグリゲートのリース期間</block>
  <block id="6aade83f8151a6756008a80c389bef65" category="cell">1 時間 ～ 7 日適用されません</block>
  <block id="a051cb6fe36d0d57186040136f51ded4" category="cell">ノードのシリアル番号</block>
  <block id="0f4f157087aaf0bd28aa76133fd9d2c3" category="summary">2NIC 構成と 4NIC 構成の ONTAP Select vSwitch 構成とロードバランシングポリシー。</block>
  <block id="492e974e8b190853245906ac4824304e" category="doc">VMware vSphere vSwitch 構成</block>
  <block id="96600f2ed0fb970e508d5209faa2adc5" category="paragraph">ONTAP Select では、標準 vSwitch 構成と分散 vSwitch 構成の両方を使用できます。分散 vSwitch は、リンクアグリゲーションの構成要素（ LACP ）をサポートします。リンクアグリゲーションは、複数の物理アダプタ間の帯域幅を集約するために使用される共通のネットワーク構造です。LACP はベンダーに依存しない標準プロトコルです。ネットワークエンドポイントのオープンプロトコルとして、物理ネットワークポートのグループを 1 つの論理チャネルにまとめるために使用します。ONTAP Select は、リンクアグリゲーショングループ（ LAG ）として設定されたポートグループと連携できます。ただし、 LAG 設定を回避するために、個々の物理ポートを単純なアップリンク（トランク）ポートとして使用することを推奨します。このような場合、標準 vSwitch と分散 vSwitch のベストプラクティスは同じです。</block>
  <block id="10e7ad3863cdd2b48f9a7524784cedee" category="paragraph">このセクションでは、 2NIC 構成と 4NIC 構成で使用する必要がある vSwitch 構成とロードバランシングポリシーについて説明します。</block>
  <block id="da05a02ceee0169095d6250face3e1a6" category="paragraph">ONTAP Select で使用するポートグループを設定する際には、次のベストプラクティスに従う必要があります。ポートグループレベルでのロードバランシングポリシーは、「 Route Based on Originating Virtual Port ID 」です。VMware では、 ESXi ホストに接続されたスイッチポートで STP を Portfast に設定することを推奨しています。</block>
  <block id="dcd113410e8de0e424c08da8f26e1dbc" category="paragraph">すべての vSwitch 構成では、少なくとも 2 つの物理ネットワークアダプタを 1 つの NIC チームにまとめる必要があります。ONTAP Select では、 2 ノードクラスタ用に 1 つの 10Gb リンクがサポートされます。ただし、ネットアップでは、 NIC アグリゲーションを使用してハードウェアの冗長性を確保することをベストプラクティスとして推奨します。</block>
  <block id="0293fc87704541accd375dc13230c50f" category="paragraph">vSphere サーバでは、 NIC チームをアグリゲーションの構成要素として使用し、複数の物理ネットワークアダプタを 1 つの論理チャネルにまとめることで、ネットワークの負荷をすべてのメンバーポート間で分散します。重要な点は、物理スイッチのサポートがなくても NIC チームを作成できることです。ロードバランシングポリシーとフェイルオーバーポリシーは NIC チームに直接適用でき、 NIC チームはアップストリームのスイッチ構成を認識しません。この場合、ポリシーはアウトバウンドトラフィックにのみ適用されます。</block>
  <block id="962c108610eb5a070640fd5feb949ee7" category="admonition">静的なポートチャネルは、 ONTAP Select ではサポートされません。LACP 対応チャネルは分散 vSwitch でサポートされますが、 LACP LAG を使用すると、 LAG メンバー間で不均衡な負荷分散が実行される場合があります。</block>
  <block id="65d24c9d61558a8b366aef70cb0aaf2b" category="paragraph">シングルノードクラスタの場合、 ONTAP Deploy は、外部ネットワークにポートグループを使用するように ONTAP Select VM を設定し、同じポートグループまたは必要に応じてクラスタとノードの管理トラフィックに別のポートグループを使用するように設定します。シングルノードクラスタの場合は、必要な数の物理ポートを、アクティブアダプタとして外部ポートグループに追加できます。</block>
  <block id="ada616a12184135d755f2a6ccd530c96" category="paragraph">マルチノードクラスタの場合、 ONTAP Deploy は、内部ネットワーク用に 1 つまたは 2 つのポートグループを使用し、外部ネットワーク用に 1 つまたは 2 つのポートグループを使用するように各 ONTAP Select VM を構成します。クラスタおよびノード管理トラフィックは、外部トラフィックと同じポートグループを使用することも、オプションで別のポートグループを使用することもできます。クラスタおよびノード管理トラフィックは、内部トラフィックと同じポートグループを共有できません。</block>
  <block id="c290c5e002f0a732c59304f5b0fe70da" category="section-title">標準または分散 vSwitch および各ノードの 4 つの物理ポート</block>
  <block id="2305672b68f3fcd4d97158e1567f1348" category="paragraph">マルチノードクラスタの各ノードには、 4 つのポートグループを割り当てることができます。各ポートグループには、次の図に示すように、 1 つのアクティブな物理ポートと 3 つのスタンバイ物理ポートがあります。</block>
  <block id="ce0e9f9d478595e72d2141086ae9f75d" category="paragraph">* 各ノードに 4 つの物理ポートを備えた vSwitch *</block>
  <block id="87a3d8fd5fd63cf0600c00dc23888a61" category="inline-image-macro">ノードごとに 4 つの物理ポートを備えた vSwitch</block>
  <block id="7651ca0c40d4efc698e62170cd7090ec" category="paragraph"><block ref="7651ca0c40d4efc698e62170cd7090ec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2db51f37dad865246ea7237c9836a9b1" category="paragraph">スタンバイリストのポートの順序は重要です。次の表に、 4 つのポートグループにまたがる物理ポートの分散例を示します。</block>
  <block id="631fd9367561ff1ca53260feacf53df3" category="cell">ポートグループ</block>
  <block id="d05239f487c9b7d0790ec200700b0402" category="cell">外部 1.</block>
  <block id="8379f40bf97f92c0f4cc1435e98d186d" category="cell">外部 2.</block>
  <block id="9237cdb221b690a2ced75818ab53f712" category="cell">内部 1</block>
  <block id="8fc7b46ad0216e1e4d31dba617479841" category="cell">内部 2</block>
  <block id="4d3d769b812b6faa6b76e1a8abaece2d" category="cell">アクティブ</block>
  <block id="9d1072de7384af37726fb14b3705b43b" category="cell">vmnic0</block>
  <block id="e5001dac5daf97c7a83ad48dff0c98a8" category="cell">vmnic1.</block>
  <block id="0393a5eeff1f28288881ce860669a84e" category="cell">vmnic2.</block>
  <block id="2f20635e0d745425ee714c8e35e87f6e" category="cell">vmnic3.</block>
  <block id="0ef10a28f40d6a98fb3983f2dd0bcc57" category="cell">スタンバイ 1.</block>
  <block id="d94fa2a78079f5abd87da24f3276a7a8" category="cell">スタンバイ 2.</block>
  <block id="8db50c64fe82f7e3ba39400bf0e2448c" category="cell">スタンバイ 3.</block>
  <block id="7d4cb3a2bac5403801df724f6bba7fef" category="paragraph">次の図は、 vCenter GUI からの外部ネットワークポートグループの設定（ ONTAP-External および ONTAP-External2 ）を示しています。アクティブなアダプタは、異なるネットワークカードからのものです。この設定では、 vmnic 4 と vmnic 5 は同じ物理 NIC 上のデュアルポートであり、 vmnic 6 と vmnic 7 は別の NIC 上の同様のデュアルポートです（この例では、 vmnic 0~3 は使用していません）。スタンバイアダプタの順序は階層型のフェイルオーバーを提供し、内部ネットワークのポートは最後になります。スタンバイリストの内部ポートの順序も、 2 つの外部ポートグループ間で同様に入れ替わります。</block>
  <block id="67c5191756ff6641299dfa3f89e3cadb" category="paragraph">* パート 1 ： ONTAP Select 外部ポートグループの設定 *</block>
  <block id="1e2d44143ade39d315b6ab568463b4a6" category="inline-image-macro">パート 1 ： ONTAP Select 外部ポートグループの設定</block>
  <block id="726b632058175e9fcb3cc4b6316928f5" category="paragraph"><block ref="726b632058175e9fcb3cc4b6316928f5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d99bfbe592d55377d2596461c3f5177" category="paragraph">* パート 2 ： ONTAP Select 外部ポートグループの設定 *</block>
  <block id="22da08e9f5a6f629c9ed5a3ad809dcc0" category="inline-image-macro">パート 2 ： ONTAP Select の外部ポートグループの設定</block>
  <block id="20f973b882367cdc6caddeb223081f81" category="paragraph"><block ref="20f973b882367cdc6caddeb223081f81" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7c730e45559c115f714bbf74827eb725" category="paragraph">見やすさを考慮して、次のように割り当てます。</block>
  <block id="58287d5309d7e300cffa2653d2cf287a" category="cell">ONTAP - 外部</block>
  <block id="5ad60300e76e3afd6f0e99743afa94e2" category="cell">ONTAP-External2</block>
  <block id="bf4887b98840ebc96940bdf0fc2a11b8" category="cell">アクティブアダプタ： vmnic5 スタンバイアダプタ： vmnic7 、 vmnic4 、 vmnic6</block>
  <block id="1dd6fc076c6390bb05af5e89583d4686" category="cell">アクティブアダプタ： vmnic7 スタンバイアダプタ： vmnic5 、 vmnic6 、 vmnic4</block>
  <block id="5e09a742f577aab8b885fb79cd2b8da1" category="paragraph">次の図は、内部ネットワークポートグループの設定（ ONTAP-Internal および ONTAP-Internal2 ）を示しています。アクティブなアダプタは、異なるネットワークカードからのものです。この設定では、 vmnic 4 と vmnic 5 は同じ物理 ASIC 上のデュアルポートであり、 vmnic 6 と vmnic 7 は別の ASIC 上の同様のデュアルポートです。スタンバイアダプタの順序は階層型のフェイルオーバーを提供し、外部ネットワークのポートは最後になります。スタンバイリストの外部ポートの順序も、 2 つの内部ポートグループ間で同様に入れ替わります。</block>
  <block id="568af15159fc23f7abfd667be2477bba" category="paragraph">* 第 1 部： ONTAP Select 内部ポートグループ設定 *</block>
  <block id="c79612d943c55bf5498e28d67abe34ab" category="inline-image-macro">パート 1 ： ONTAP Select の内部ポートグループの設定</block>
  <block id="ccc763490da19bb9006e9015591ab9a0" category="paragraph"><block ref="ccc763490da19bb9006e9015591ab9a0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b1d690e9eacfc2a4ead055050ccccf02" category="paragraph">* 第 2 部： ONTAP Select 内部ポートグループ *</block>
  <block id="ede0d1bc8ed3ff5b3e2ca47733124f4c" category="inline-image-macro">パート 2 ： ONTAP Select の内部ポートグループ</block>
  <block id="f76b85c0906f7bb7105d98fc0763f3f5" category="paragraph"><block ref="f76b85c0906f7bb7105d98fc0763f3f5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5bd98a9bfea20e7a22db9b55bbd18551" category="cell">ONTAP - 内部</block>
  <block id="e806f3a51b619fcd8bca21ca1b48570f" category="cell">ONTAP-Internal2</block>
  <block id="6f46b92116baa2fe630b25033fb2c0e6" category="cell">アクティブアダプタ： vmnic4 スタンバイアダプタ： vmnic6 、 vmnic5 、 vmnic7</block>
  <block id="26fb40e405c6787f5c9155475ec643d2" category="cell">アクティブアダプタ： vmnic6 スタンバイアダプタ： vmnic4 、 vmnic7 、 vmnic5</block>
  <block id="940b9a48464ec3646e72e186108b51ee" category="section-title">標準または分散 vSwitch および各ノードに 2 つの物理ポート</block>
  <block id="7bf41ff56e10e1288ea5b99b9eea56f1" category="paragraph">2 つの高速（ 25 / 40GB ） NIC を使用する場合は、 10Gb アダプタを 4 つ使用する構成と概念的にはほぼ同じです。2 つの物理アダプタだけを使用する場合でも、 4 つのポートグループを使用する必要があります。ポートグループの割り当ては次のとおりです。</block>
  <block id="60a83065f51a4fb288f92ed5f3f3e6ff" category="cell">外部 1 （ e0a 、 e0b ）</block>
  <block id="c6ea565d82c996559ab3190b92e2184c" category="cell">内部 1 （ e0c 、 e0e ）</block>
  <block id="e36f7006bc8a130c74ace6103753342a" category="cell">内部 2 （ e0d 、 e0f ）</block>
  <block id="0b668d888d65100f954bd4dcc245c8da" category="cell">外部 2 （ e0g ）</block>
  <block id="2dbec34a65724db94f81e8533ee18192" category="cell">スタンバイ</block>
  <block id="de4833c90187e458c01b803f3df02930" category="paragraph">* ノードごとに 2 つの高速（ 25 / 40GB ）物理ポートを備えた vSwitch *</block>
  <block id="a6c5ebdcab23a94a53b4e0d809a928b9" category="inline-image-macro">ノードごとに 2 つの高速（ 25 / 40GB ）物理ポートを備えた vSwitch</block>
  <block id="72b4a9e2850e5c37368d3f887a4ee79e" category="paragraph"><block ref="72b4a9e2850e5c37368d3f887a4ee79e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ee9ff79a0430be4d206d034450f94331" category="paragraph">2 つの物理ポート（ 10Gb 以下）を使用する場合は、各ポートグループにアクティブアダプタとスタンバイアダプタが相互に反対に設定されている必要があります。内部ネットワークは、マルチノード ONTAP Select クラスタにのみ存在します。シングルノードクラスタの場合は、外部ポートグループで両方のアダプタをアクティブとして設定できます。</block>
  <block id="70b278867da9b18f6b861f59616de27a" category="paragraph">次の例に示す vSwitch の構成では、 2 つのポートグループがマルチノード ONTAP Select クラスタの内部および外部の通信サービスを処理します。内部ネットワークの VMNIC はこのポートグループの一部であり、スタンバイモードで構成されているため、外部ネットワークはネットワーク停止時に内部ネットワークの VMNIC を使用できます。その逆が、外部ネットワークの場合です。2 つのポートグループ間でアクティブとスタンバイの VMNIC を交互にすることは、ネットワークの停止中に ONTAP Select VM を適切にフェイルオーバーするために重要です。</block>
  <block id="8b863e843ddaab1e6b236310dfc11e3d" category="paragraph">* 各ノードに 2 つの物理ポート（ 10Gb 以下）を備えた vSwitch *</block>
  <block id="0b192facec240b8aef1dfcf704fc55d3" category="inline-image-macro">ノードごとに 2 つの物理ポートを備えた vSwitch</block>
  <block id="40294088ed92f54e85ec516b44b1ec99" category="paragraph"><block ref="40294088ed92f54e85ec516b44b1ec99" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f0c56ce994467f28cee98b9efa3502af" category="section-title">LACP を使用した分散 vSwitch</block>
  <block id="37f2bb8e73a0b07124a33a18dec27a01" category="paragraph">分散 vSwitch を構成で使用する場合は、ネットワーク構成を簡易化するために LACP を使用できます（ただしベストプラクティスではありません）。サポートされる唯一の LACP 構成では、すべての VMNIC を 1 つの LAG にまとめる必要があります。アップリンクの物理スイッチは、チャネル内のすべてのポートで 7 、 500~9 、 000 の MTU をサポートする必要があります。ONTAP Select の内部ネットワークと外部ネットワークは、ポートグループレベルで分離する必要があります。内部ネットワークはルーティングされない（分離された） VLAN を使用する必要があります。外部ネットワークは VST 、 EST 、または VGT を使用できます。</block>
  <block id="0423511198455fa6be1e5399012b4fce" category="paragraph">次に、 LACP を使用した分散 vSwitch の設定例を示します。</block>
  <block id="5551a8338b11967dc3b3f01a0497767e" category="paragraph">* LACP 使用時の LAG プロパティ *</block>
  <block id="12150f10ef6d8e391576653025b49543" category="inline-image-macro">LACP を使用する場合の LAG プロパティ</block>
  <block id="b56eded8364606feb5a228109b16595f" category="paragraph"><block ref="b56eded8364606feb5a228109b16595f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="80520f930dc44046a4a3d16037d40f53" category="paragraph">* LACP が有効な分散 vSwitch を使用する外部ポートグループ構成 *</block>
  <block id="d7c682dbe9ee8cebff416d383155b342" category="inline-image-macro">LACP が有効な分散 vSwitch を使用する外部ポートグループ構成</block>
  <block id="0f63f972b376f5a46bc784a4c7209504" category="paragraph"><block ref="0f63f972b376f5a46bc784a4c7209504" category="inline-image-macro-rx" type="image"></block></block>
  <block id="97b13387c67304525d26e84d4e08bd65" category="paragraph">* LACP が有効な分散 vSwitch を使用する内部ポートグループ構成 *</block>
  <block id="164e5bf0b14a04120f4d4c3828747329" category="inline-image-macro">LACP が有効な分散 vSwitch を使用する内部ポートグループ構成</block>
  <block id="e30ba3e13f82c433092d944bfb964d6d" category="paragraph"><block ref="e30ba3e13f82c433092d944bfb964d6d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a0cbdc264f5b7833605773dd16cbd5e7" category="admonition">LACP では、アップストリームスイッチポートをポートチャネルとして設定する必要があります。分散 vSwitch でこの構成を有効にする前に、 LACP を有効にしたポートチャネルが適切に構成されていることを確認してください。</block>
  <block id="a451fb0a81dc4fb9e6df8ff3f0cd6380" category="summary">リモートオフィス / ブランチオフィス（ ROBO ）環境に ONTAP Select を導入できます。ROBO 環境の計画の一環として、目標を達成するための設定を選択する必要があります。</block>
  <block id="e629f0dfc57ffa98b8aabae83c3e5032" category="doc">リモートオフィスおよびブランチオフィスへの導入</block>
  <block id="1cfe009dafaa293a83a8a143e8aeb868" category="paragraph">ROBO 環境への ONTAP Select の導入時に使用できる設定は主に 2 つあります。</block>
  <block id="c4f68953c4ccc7ea124ccc4e8eebd13a" category="admonition">ONTAP Select の導入時には、任意の VMware vSphere ライセンスを使用できます。</block>
  <block id="0694d53523506956467895f6478ef767" category="paragraph">ONTAP Select の 2 ノードクラスタは、 1 つの HA ペアで構成されており、 ROBO 環境に最適です。</block>
  <block id="4bd433f898ac8d52e1dcc493e533b93c" category="paragraph">ONTAP Select シングルノードクラスタを ROBO 環境に導入できます。シングルノードには標準の HA 機能はありませんが、クラスタを導入する場合は、次のいずれかの方法でストレージを保護できます。</block>
  <block id="ce67a35e2666266e6a9e7288354fd9a4" category="list-text">VMware HA を使用して外部の共有ストレージを導入</block>
  <block id="a514a9aaf234389cd9d113b2f73243b6" category="admonition">VSAN を使用する場合は、 VMware vSAN ROBO ライセンスが必要です。</block>
  <block id="126f81720265ec0da0cd96e422423152" category="summary">ONTAP Select は、ハイパーバイザーの仮想化を通じて提供される特有の柔軟性に基づき、さまざまなタイプのアプリケーションに適しています。</block>
  <block id="e7e17bcab7e4d7b7510029f15474c12c" category="doc">ビジネスニーズと使用シナリオ</block>
  <block id="ea355214fd4bc7c57f471bd92918879b" category="section-title">導入</block>
  <block id="855d6d1550776c7d3c44f140fba714b7" category="paragraph">大まかには、ハイパーバイザーホストサーバ上のワークロードに応じて、 2 つの異なる方法で ONTAP Select を導入できます。</block>
  <block id="04356cb5271c4075ad4045469d915bca" category="section-title">専用の導入サービス</block>
  <block id="59af0cb4b68dbbde616048fd044948d2" category="paragraph">専用の導入モデルでは、 ONTAP Select の単一インスタンスをホストサーバで実行します。他の重要な処理は同じハイパーバイザーホストでは実行されません。</block>
  <block id="c620683ddab00beef16fa03b2ab961d9" category="section-title">コロケーション導入</block>
  <block id="5a5bbe62b2dc6fe25e9f62e1d4a1d9e0" category="paragraph">コロケーション導入モデルでは、 ONTAP Select が他のワークロードとホストを共有します。具体的には、追加の仮想マシンが用意されており、通常は各仮想マシンがコンピューティングアプリケーションを実行します。これらのコンピューティングワークロードは、 ONTAP Select クラスタに対してローカルです。このモデルは、アプリケーションと導入の特殊な要件をサポートします。専用の導入モデルと同様に、各 ONTAP Select 仮想マシンは個別の専用ハイパーバイザーホストで実行する必要があります。</block>
  <block id="32518a0561c63fe07d4170318707af57" category="paragraph">ONTAP Select は、ビジネスニーズに応じてプライマリストレージまたはセカンダリストレージとして使用できます。</block>
  <block id="86b11f41cdd4202ed814b1453f2dd058" category="section-title">プライマリストレージ</block>
  <block id="21125ec42ebb6d8ef6c6a805fb8d2209" category="paragraph">状況によっては、 ONTAP Select をプライマリストレージプラットフォームとして導入することもできます。これらのタイプの実装は、アプリケーションのワークロードの特性とビジネス目標によって異なります。</block>
  <block id="c29a1a325180ac2adfe8091511c10ecc" category="section-title">ディザスタリカバリとセカンダリストレージ</block>
  <block id="65691488761a7747318eb7ff73d74467" category="paragraph">ONTAP Select を使用して、プライマリストレージ機能を強化する追加のストレージを実装できます。追加のストレージは、組織の災害復旧作業やデータバックアップ計画をサポートするために使用できます。</block>
  <block id="201682dba6c42f044edb1fb3b72e26dd" category="section-title">開発とテスト</block>
  <block id="72baaefd6e8827d0e29d5eccbe87eb9d" category="paragraph">組織内にさまざまなアプリケーションを導入する際に、アプリケーションの開発およびテストのプロセス全体の不可欠な要素として ONTAP Select を使用できます。たとえば、テストの入出力データを格納するために一時ストレージが必要な場合があります。このようなタイプの導入にかかる時間は、アプリケーションの特性と要件によって異なります。</block>
  <block id="8e185b0f9eb37a6acf82cfda7db72a06" category="summary">Python コードサンプルを使用して ONTAP Select クラスタを作成または削除する場合は、スクリプトへの入力として JSON ファイルを指定する必要があります。導入計画に基づいて、適切な JSON サンプルをコピーして変更できます。</block>
  <block id="5630f36ff5f09cf28a27a0cbdfb71362" category="doc">クラスタを作成するスクリプトの JSON</block>
  <block id="c9a9a8f627d1d803e2e94b0b16e265f3" category="section-title">ESXi 上のシングルノードクラスタ</block>
  <block id="70771ca4958d1b97175631c548e5b806" category="section-title">vCenter を使用した ESXi でのシングルノードクラスタ</block>
  <block id="fa7d26728677ccb514c43b50b7837b1f" category="section-title">KVM 上のシングルノードクラスタ</block>
  <block id="38fe5a7ac0941190856f04300c469ba4" category="summary">VMware vCenter に関連するいくつかの計画要件を考慮する必要があります。</block>
  <block id="932e043aa57bcad42e0294838a086f83" category="section-title">管理者権限</block>
  <block id="c6519d60f243eebfcc92d096e23bdb8b" category="list-text">スペースを割り当てます</block>
  <block id="653ea8411fd85f46f22e62ee3cabb643" category="list-text">データストアを参照します</block>
  <block id="0c675ffdeb5e9d32e027b53289046420" category="list-text">ファイル処理のレベルが低い</block>
  <block id="e9cfb64d47efe034339436bf09172593" category="list-text">仮想マシンファイルを更新します</block>
  <block id="08437994b9601a135d92f032a83daf1c" category="list-text">仮想マシンのメタデータを更新します</block>
  <block id="254f642527b45bc260048e30704edb39" category="section-title">設定</block>
  <block id="37b74edb689cf50dd14eaa103dd6bb3b" category="list-text">システム管理</block>
  <block id="97fc2547b66cc43d6329a79c740cc008" category="section-title">ローカル操作</block>
  <block id="5daad9a463f9102e036b5aaa1cf2b87e" category="list-text">仮想マシンを作成します</block>
  <block id="dd230a946aa4a56d733b1f9296f90610" category="list-text">仮想マシンを削除します</block>
  <block id="d4d82afbdd25c6582604ef24a51dd4eb" category="list-text">仮想マシンを再構成します</block>
  <block id="0f2a9e2e169a500cc92684521eaa4a9a" category="list-text">ネットワークを割り当てます</block>
  <block id="76c3fe1d90eec0f4dbe5dd8bf85ff05b" category="section-title">仮想マシン</block>
  <block id="f1c9f7b4639894e60b39d72b6e60b2d9" category="paragraph">カテゴリ内のすべての権限。</block>
  <block id="61ee5a22cd5f14ed4e48eb5611031e74" category="section-title">相互作用</block>
  <block id="4d604dd8f008145471dc845683399189" category="section-title">在庫</block>
  <block id="89c3bcf0ecc1114f8d19734d9156cb40" category="section-title">プロビジョニング</block>
  <block id="776c22edd71a94b798c726e47a0fce00" category="section-title">vApp</block>
  <block id="16f79fa4797747102755e52e96db62f3" category="summary">ONTAP Select の導入を計画する際に考慮する必要があるベストプラクティスがあります。</block>
  <block id="5b1a03e9a58564e8b956c6305230b04a" category="section-title">オールフラッシュアレイまたは汎用フラッシュアレイ</block>
  <block id="a6d0a99515364d6421dc88e5740ed462" category="section-title">ハイパーバイザーコアハードウェア</block>
  <block id="aa46e85cb8f544b019c3b35933dfb077" category="section-title">RAID コントローラ</block>
  <block id="53bf006f96990fc5dff3401703b5dbd1" category="paragraph">サーバ RAID コントローラは、ライトバックモードで動作するように設定する必要があります。書き込みワークロードのパフォーマンスに問題が見られる場合は、コントローラの設定を調べて、ライトスルーまたはライトアラウンドが有効になっていないことを確認してください。</block>
  <block id="d44dd24a4b83e6ba9132fa75df1f6258" category="paragraph">物理サーバに搭載された単一の RAID コントローラがすべてのローカル接続ディスクを管理している場合は、サーバ OS 専用の LUN を 1 つ作成し、 ONTAP Select 用に 1 つ以上の LUN を作成することを推奨します。このベストプラクティスにより、ブートディスクが破損した場合でも、管理者は ONTAP Select に影響を与えることなく OS LUN を再作成できます。</block>
  <block id="f9178753417dd6f42bfd6fed88427474" category="paragraph">RAID コントローラキャッシュは、 NVRAM パーティション宛ての変更だけでなく、受信ブロックのすべての変更を保存するために使用されます。したがって、 RAID コントローラを選択する場合は、使用可能なキャッシュが最も大きいコントローラを選択してください。キャッシュが大きいほどディスクフラッシュの回数が減るため、 ONTAP Select VM とハイパーバイザーのパフォーマンス、およびサーバに配置されているすべてのコンピューティグ VM のパフォーマンスも向上します。</block>
  <block id="366e3727ab6de46b64b5aefbce054219" category="paragraph">最適な RAID グループサイズは 8~12 ドライブです。RAID グループあたりの最大ドライブ数は 24 本です。</block>
  <block id="8cb37a8c459f09b76e8bc7815c0c98da" category="paragraph">ONTAP Select ノードあたりサポートされる NVMe ドライブの最大数は 14 本です。</block>
  <block id="ceb3438393c3ac39fcf4c30b526b7fae" category="paragraph">スペアディスクはオプションですが、推奨されます。また、 RAID グループごとに 1 つのスペアを使用することも推奨します。ただし、すべての RAID グループに対してグローバルスペアを使用できます。たとえば、 8~12 本のドライブで構成する 3 つの RAID グループごとに 2 つのスペアを使用できます。</block>
  <block id="5ca7ce8323f7b11744e86ef1f4f9606f" category="paragraph">ONTAP Select グループ内の LUN 数を増やしても、パフォーマンスが向上することはありません。複数の LUN を使用するのは、 SATA / NL-SAS 構成のベストプラクティスに従うため、またはハイパーバイザーのファイルシステムに関する制限に対応するためです。</block>
  <block id="1089735339643620b5910924c5320981" category="section-title">VMware ESXi ホスト</block>
  <block id="2dfed98838decebcc7246099986d6886" category="paragraph">ネットアップでは、システムディスクをホストするデータストアには ESX 6.5 U2 以降と NVMe ディスクを使用することを推奨しています。この構成は、 NVRAM パーティションに最適なパフォーマンスを提供します。</block>
  <block id="b311582b38b62f230c4a262d909d908c" category="admonition">ESX 6.5 U2 以降にインストールする場合、 ONTAP Select は、システムディスクが SSD にあるか NVME ディスクにあるかに関係なく、 vNVME ドライバを使用します。これにより、 VM のハードウェアレベルが 13 に設定され、 ESX 6.5 以降と互換性があります。</block>
  <block id="883debc749a79a13f46992bc1c04b69a" category="paragraph">ONTAP Select ネットワークと外付けストレージ（ iSCSI または NFS を使用する場合は、 VMware vSAN と汎用のストレージアレイのトラフィック）に専用のネットワークポート、帯域幅、および vSwitch の構成を定義します。</block>
  <block id="7858be6b65b0176805cc934c2f21d6dd" category="paragraph">ストレージ利用率を制限するように容量オプションを設定します（ ONTAP Select では、外部 vNAS データストアの全容量は使用できません）。</block>
  <block id="8a7d1abfb409902e561b13c9ab0a53b7" category="paragraph">可能な場合は、すべての汎用の外付けストレージアレイで、使用可能な冗長性機能と HA 機能を使用してください。</block>
  <block id="086f57c37727d9bc487647a8d43a1be4" category="section-title">VMware Storage vMotion の略</block>
  <block id="86dc53aa52e2307211e4e554598783fa" category="paragraph">ONTAP Select ノードで VMware Storage vMotion を使用するかどうかを決定する際の検討事項は、新しいホストでの使用可能な容量だけではありません。基盤となるストレージタイプ、ホスト構成、ネットワーク機能が、元のホストと同じワークロードに対応できる必要があります。</block>
  <block id="a5fa5746370b608090b994a97b49e98b" category="section-title">ネットワーキング</block>
  <block id="6994039fc88ea6f5a22fea35e8ef0ed7" category="section-title">MAC アドレスが重複しています</block>
  <block id="4e41ec869e395c20f3409af19e4160c6" category="paragraph">複数の Deploy インスタンスが重複する MAC アドレスを割り当てないようにするには、 1 つのレイヤ 2 ネットワークにつき 1 つの Deploy インスタンスを使用して、 ONTAP Select クラスタまたはノードを作成または管理する必要があります。</block>
  <block id="c70dd9bf7100bb0727e205edece2fe65" category="section-title">EMS メッセージです</block>
  <block id="15fb0d832a0d1ccd898bcf90552f5239" category="paragraph">2 ノード ONTAP Select クラスタでは、ストレージフェイルオーバーが無効であることを示す EMS メッセージが表示されていないかを注意深く監視する必要があります。このメッセージはメディエーターサービスへの接続が失われたことを示すため、ただちに解決が必要です。</block>
  <block id="1c72ef556b5fc669fadc14ae383d37cf" category="section-title">負荷分散</block>
  <block id="fa19787fe363ad1e1797e00643f47c86" category="paragraph">内部と外部の ONTAP Select ネットワークの両方でロードバランシングを最適化するには、ロードバランシングポリシー「 Route Based on Originating Virtual Port 」を使用します。</block>
  <block id="4fea1893125df1444f7a6facd1219f14" category="section-title">複数のレイヤ 2 ネットワーク</block>
  <block id="2c60738902d286bc29a46d7ad7255c5a" category="paragraph">データトラフィックが複数のレイヤ 2 ネットワークにまたがっており、 VLAN ポートの使用が必要である場合、または複数の IPspace を使用している場合は、 VGT を使用する必要があります。</block>
  <block id="9a98e2c0ba39ded9a8df091d74876578" category="paragraph">VMware では、 ESXi ホストに接続されたスイッチポートで STP を Portfast に設定することを推奨しています。スイッチポートで STP を Portfast に設定しないと、アップリンクで障害が発生した場合に ONTAP Select が対応できないおそれがあります。LACP を使用する場合は、 LACP タイマーを高速（ 1 秒）に設定する必要があります。ロードバランシングポリシーは、ポートグループでは「 Route Based on IP Hash 」、 LAG では「 Source and Destination IP Address and TCP/UDP Port and VLAN 」に設定する必要があります。</block>
  <block id="594c16ca0695f6665d7cf4971707adf6" category="section-title">高可用性</block>
  <block id="c79b5e481b72a791067309bf6341357a" category="section-title">バックアップを導入</block>
  <block id="f30bc4e85b9bb354d7f8cfeba876a8ba" category="paragraph">Deploy の設定データは、クラスタの作成後も含めて定期的にバックアップすることを推奨します。バックアップにはメディエーターの設定データが含まれるため、 2 ノードクラスタではバックアップが特に重要です。</block>
  <block id="af57810cccc926c446851c6408c6667b" category="paragraph">クラスタを作成または導入したら、 ONTAP Select Deploy の設定データをバックアップする必要があります。</block>
  <block id="f28ccc9cc7fa1367f54e4ae8e3176c31" category="paragraph">プライマリアグリゲートの最新の（ RPO ゼロの）コピーを提供するためには、ミラーされたアグリゲートが必要ですが、プライマリアグリゲートの空きスペースが不足しないように注意してください。プライマリアグリゲートのスペースが不足すると、ストレージギブバックのベースラインとして使用される共通の 原因 ONTAP Snapshot ™コピーを削除する可能性があります。これは、クライアントの書き込みに対応するための設計どおりの動作です。ただし、フェイルバック時に共通の Snapshot コピーがないと、 ONTAP Select ノードがミラーアグリゲートから完全なベースラインを作成しなければなりません。シェアードナッシング環境では、この処理にかなりの時間がかかることがあります。アグリゲートのスペース使用率が 85% を超えないように監視することを推奨します。</block>
  <block id="9dc41c2a99c45941a7b6c4298a4ba9a5" category="section-title">NIC のアグリゲーション、チーミング、およびフェイルオーバー</block>
  <block id="27294906efe978d2e7d613739082d7c5" category="paragraph">ONTAP Select では、 2 ノードクラスタ用に 1 つの 10Gb リンクがサポートされます。ただし、 ONTAP Select クラスタの内部ネットワークと外部ネットワークの両方で、 NIC アグリゲーションまたは NIC チーミングを使用してハードウェアの冗長性を確保することを推奨します。</block>
  <block id="d29b03a7fc61c6e1f42a47018afc8bcb" category="paragraph">NIC に複数の ASIC （特定用途向け集積回路）が搭載されている場合は、内部ネットワークと外部ネットワークに対して NIC チーミングによってネットワークの構成要素を構築する際に、各 ASIC から 1 つずつネットワークポートを選択します。</block>
  <block id="12a874e75d154c379513ea189c1813a4" category="paragraph">ESX と物理スイッチの両方で、 LACP モードをアクティブにすることを推奨します。さらに、物理スイッチ、ポート、ポートチャネルインターフェイス、および VMNIC で、 LACP タイマーを高速（ 1 秒）に設定する必要があります。</block>
  <block id="05684b75bda390c4f63cee2c3bb82c6d" category="paragraph">LACP が有効な分散 vSwitch を使用する場合は、ロードバランシングポリシーを、ポートグループでは「 Route Based on IP Hash 」、 LAG では「 Source and Destination IP Address 」、「 TCP/UDP Port 」、および「 VLAN 」に設定することを推奨します。</block>
  <block id="de317d2823cb9640ab9afe73f452a99f" category="paragraph">MetroCluster SDS を作成する前に、 ONTAP Deploy の接続チェッカーを使用して、 2 つのデータセンター間のネットワーク遅延が許容範囲内に収まることを確認します。</block>
  <block id="e90f6cdf6b8c74cc61711c81444b5f4c" category="paragraph">Virtual Guest Tagging （ VGT ；仮想ゲストタギング）と 2 ノードクラスタを使用する場合は、さらに注意が必要です。2 ノードクラスタ構成では、ノード管理 IP アドレスを使用して、 ONTAP が完全に使用可能になる前にメディエーターへの初期接続を確立します。したがって、ノード管理 LIF （ポート e0a ）にマッピングされたポートグループでは、外部スイッチタギング（ EST ）と仮想スイッチタギング（ VST ）のみがサポートされます。さらに、管理トラフィックとデータトラフィックの両方が同じポートグループを使用している場合、 2 ノードクラスタ全体でサポートされるのは、 EST と VST だけです。</block>
  <block id="ca91eb0ffb4e943653e46e9be3d1522e" category="summary">すべての Python スクリプトは、 1 つのモジュールで共通の Python クラスを使用します。</block>
  <block id="66cebfc655fc14a70cafa6f4ef31ce39" category="doc">共通サポートモジュール</block>
  <block id="6738f098cd2bba79a1109b07a6b3a4e3" category="summary">ONTAP Select イメージを Deploy 管理ユーティリティのインスタンスに追加できます。イメージをインストールしたら、 ONTAP Select クラスタを導入する際にそのイメージを使用できます。</block>
  <block id="7f7382cd875100edcc778a758c7b1209" category="paragraph">ONTAP Select イメージを Deploy のインスタンスに追加するプロセスは、大きく分けて次の 4 つのステップで構成されます。</block>
  <block id="4270b6b39fbe76ef4939c93514f88e51" category="list-text">インストールイメージをダウンロードしています</block>
  <block id="0142950d64779e553d9f91719bd60ead" category="list-text">Deploy 仮想マシンへのインストールイメージのアップロード</block>
  <block id="a1383adc5e3ac160ba2699050ca39978" category="list-text">インストールイメージを追加しています</block>
  <block id="aa8c9595fedf9966773a268dbec612aa" category="list-text">使用可能なインストールイメージを表示します</block>
  <block id="ff2a9bd49048e73baaf69d5e3097f161" category="paragraph">新しい ONTAP Select イメージを Deploy に追加する前に、不要なイメージを削除する必要があります。</block>
  <block id="7e0a8cfbb81693d645b2e510efe248df" category="admonition">ONTAP Select イメージは、 Deploy ユーティリティのインスタンスに含まれている元のバージョンよりも前のバージョンでのみ追加してください。ネットアップから提供される新しいバージョンの ONTAP Select は、サポートされていない構成では追加できません。</block>
  <block id="807ad9e65833a6b39b8d8286e8b783f8" category="paragraph">ONTAP Select イメージを Deploy ユーティリティのインスタンスに追加するプロセスを開始するには、ネットアップサポートサイトからインストールイメージをダウンロードする必要があります。ONTAP Select インストールイメージは、単一の圧縮ファイルとしてフォーマットされています。</block>
  <block id="3778083b3c866c64222ea90c43b33055" category="list-text">[* Top Tasks] の下の [* Download Software* ] をクリックして、サイトにサインインします。</block>
  <block id="5f76f77f8f2d50493666c4d9eb015d66" category="list-text">[* Other Available Select Software* （その他の利用可能な Select ソフトウェアの選択 * ） ] で、 [* Deploy Upgrade] 、 [Node Upgrade] 、 [Image Install* （イメージ</block>
  <block id="9a21b44dcd1e2ad64879e7036785dbf8" category="section-title">Deploy へのインストールイメージのアップロード</block>
  <block id="219698a1df9fbd3c16f4a498102fbc3e" category="paragraph">ONTAP Select インストールイメージを取得したら、ファイルを Deploy 仮想マシンにアップロードする必要があります。</block>
  <block id="2a5d9f3f5564baf37e1d1a8cf1a3b68c" category="paragraph">インストールイメージファイルをローカルワークステーションで使用できるようにしておく必要があります。また、 Deploy 管理者ユーザアカウントのパスワードが必要です。</block>
  <block id="48c7c41b72e1d678923ce3571aa65b2d" category="list-title">ステップ</block>
  <block id="63b64c746e35843656c2e5ab351a6058" category="list-text">ローカルワークステーション上のコマンドシェルで、イメージファイルを Deploy 仮想マシンにアップロードします。</block>
  <block id="1c654c4358e2d4003c74f40926274452" category="paragraph">ノードインストールファイルは、管理者ユーザのホームディレクトリに格納されます。</block>
  <block id="16fc31448477212537b6e77370eb37c1" category="paragraph">新しいクラスタの導入時に使用できるように、 ONTAP Select インストールイメージを Deploy images ディレクトリに追加できます。</block>
  <block id="1c6a034b63f5d95f8ce563a77103fb05" category="paragraph">Deploy ユーティリティの仮想マシンでインストールイメージファイルを配置したディレクトリを確認しておく必要があります。このファイルは、管理者のホームディレクトリにあると想定されます。</block>
  <block id="418076c036187fc2b385bdd1281ce8bc" category="list-text">インストールイメージファイルを images ディレクトリに配置します。</block>
  <block id="c0549956556109e315a844c123220537" category="paragraph">例： tar -xf image_v_93_install_esx.tgz -C/opt/NetApp/images/`</block>
  <block id="9ef896581aaec3297fd8373103d43cef" category="paragraph">新しいクラスタの導入時に使用できる ONTAP Select イメージを表示できます。</block>
  <block id="723658df342d95ccbf42a5f9c876dfee" category="list-text">Deploy ユーティリティの仮想マシンのオンラインドキュメントの Web ページにアクセスし、管理者（ admin ）アカウントを使用してサインインします。</block>
  <block id="dc43755d370f894f2f9d7a9da08ce7e2" category="paragraph">http://&lt;FQDN|IP_ADDRESS&gt;/api/ui` にアクセスします</block>
  <block id="cc95115e3088d1f2d90bf48fa98be3d5" category="paragraph">Deploy 仮想マシンのドメイン名または IP アドレスを使用してください。</block>
  <block id="a80b761ab06a4ff6731297d4de180b0b" category="list-text">ページの下部に移動し、 * Deploy * をクリックして、 * Get/images * をクリックします。</block>
  <block id="d7053ec6f3f2e9697233f406d33a87fb" category="list-text">[* 試してみましょう !* ] をクリックすると、使用可能な ONTAP Select イメージが表示されます。</block>
  <block id="c5db03c3f05f8d27a033a2f8f7fbf211" category="list-text">目的のイメージが使用可能であることを確認します。</block>
  <block id="4497c744476a3b6774a7e4659e36bb37" category="summary">ONTAP Select Deploy ユーティリティに障害が発生した場合や、何らかの理由でユーティリティが使用できない場合は、 ONTAP Select のノードとクラスタを管理できなくなります。また、 Deploy に含まれるメディエーターサービスを使用できないため、すべての 2 ノードクラスタの HA 機能が失われます。リカバリ不能な障害が発生した場合は、 Deploy ユーティリティのインスタンスをリカバリして、管理と HA の機能をリストアする必要があります。</block>
  <block id="6debafea6b35dfda577268455c59c720" category="doc">2 ノードクラスタの Deploy ユーティリティをリカバリする</block>
  <block id="732fff5218e24bea555b4f8de50d2d22" category="paragraph">Deploy ユーティリティのインスタンスを確実にリカバリするには、そのための準備をしておく必要があります。</block>
  <block id="4e5bd66d05ea6e0425032aae26d54f07" category="paragraph">いくつかの管理手順に関する詳しい知識と情報が必要です。</block>
  <block id="e9b71fd1c3e60cd227138ff80d4b34dd" category="paragraph">ハイパーバイザー環境に ONTAP Select Deploy ユーティリティの新しいインスタンスをインストールできる必要があります。</block>
  <block id="d9b585388e199d807960be00480d9c37" category="paragraph">ONTAP Select クラスタの ONTAP CLI にサインインして、シェルインターフェイスを使用する必要があります。</block>
  <block id="92a71e755753127bb017bb1fe9bad028" category="paragraph">ONTAP Select の 2 ノードクラスタを含む、障害が発生した Deploy ユーティリティのインスタンスの設定データがバックアップされているかどうかを確認する必要があります。作成したバックアップにはクラスタが含まれていない場合があります。</block>
  <block id="618988b1c7baef58636565874807619a" category="paragraph">使用するリカバリ用手順 に応じて、 Deploy の設定データのバックアップをリストアする必要があります。</block>
  <block id="88178796123172aa042c2352197e09e0" category="paragraph">障害が発生した元の Deploy ユーティリティの仮想マシンの IP アドレスを把握しておく必要があります。</block>
  <block id="fb66c65c562c0e260ab33c68ef45f2c7" category="paragraph">容量プールまたは容量階層のライセンスが使用されているかどうかを確認する必要があります。容量プールライセンスを使用する場合は、 Deploy インスタンスをリカバリまたはリストアしたあとに、各容量プールライセンスを再インストールする必要があります。</block>
  <block id="378cdb3591ae498a782312834334c853" category="paragraph">ONTAP Select Deploy ユーティリティのインスタンスをリカバリする際に使用する手順 を決定しておく必要があります。ONTAP Select 2 ノードクラスタを含む、障害が発生した元の Deploy ユーティリティの設定データをバックアップするかどうかを決定します。</block>
  <block id="11530c57a897d905bc943331e58f56b0" category="cell">2 ノードクラスタを含む Deploy のバックアップがあるか</block>
  <block id="b42236ddc43aefb700714337ec5fe465" category="cell">使用するリカバリ手順</block>
  <block id="40aa0e90d797a93d3875787e5d41970a" category="cell">設定のバックアップを使用した Deploy ユーティリティのインスタンスのリストア</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="cell">いいえ</block>
  <block id="1ac85475d1c0151c678b7e17ad7c1c15" category="cell">Deploy ユーティリティのインスタンスの再設定とリカバリ</block>
  <block id="4780c03db443ef1fccbe9971eeda0df0" category="paragraph">2 ノードクラスタを含む、障害が発生した Deploy ユーティリティのインスタンスのバックアップがある場合は、新しい Deploy 仮想マシンのインスタンスに設定データをリストアできます。次に、 ONTAP Select クラスタ内の 2 つのノードの追加設定を実行して、リカバリを完了する必要があります。</block>
  <block id="50f2c67c1d54b1604865c0785336a1bf" category="paragraph">2 ノードクラスタを含む、障害が発生した元の Deploy 仮想マシンの設定データのバックアップが必要です。2 ノードクラスタの ONTAP CLI にサインインし、 2 つのノードの ONTAP 名を確認しておく必要があります。</block>
  <block id="04707b3ca56ea70a35e5f72497444b18" category="paragraph">リストアする設定のバックアップには 2 ノードクラスタが含まれているため、メディエーターの iSCSI ターゲットとメールボックスは、新しい Deploy ユーティリティの仮想マシンに再作成されます。</block>
  <block id="10d3454e4067c478fcd215352578896c" category="list-text">ONTAP Select Deploy ユーティリティの新しいインスタンスを準備します。</block>
  <block id="392ad4630b9353f5418297f40a2e9465" category="list-text">新しい Deploy ユーティリティの仮想マシンをインストールします。</block>
  <block id="a5817a7120ba5c7f40fbeec33918b40c" category="list-text">Deploy の設定を以前のバックアップから新しい仮想マシンにリストアします。</block>
  <block id="2a0f6c83e2e8656a3009a7768b3bac83" category="paragraph">インストールとリストアの手順の詳細については、関連するタスクを参照してください。</block>
  <block id="3edf4cb19512d4630e64407fdbfacf0f" category="list-text">ONTAP Select の 2 ノードクラスタの ONTAP コマンドラインインターフェイスにサインインします。</block>
  <block id="232499f93d4af76d76aa851010a3d601" category="list-text">新しい Deploy 仮想マシンの IP アドレスが元の Deploy 仮想マシンと異なる場合は、古いメディエーターの iSCSI ターゲットを削除し、新しいターゲットを追加する必要があります。</block>
  <block id="59375550d620fe069d214b870c7e2f34" category="paragraph">「 &lt;IP_address&gt; 」パラメータは、新しい Deploy 仮想マシンの IP アドレスです。</block>
  <block id="2cc23b20b088fcaa02f28b1f9267a13e" category="paragraph">これらのコマンドを使用すると、新しい Deploy ユーティリティの仮想マシン上のメールボックスディスクを ONTAP Select ノードで検出できます。</block>
  <block id="3718a86363802a2f1f5a36285c76206a" category="list-text">メディエーターディスクの名前を特定します。</block>
  <block id="bd0690415958671ed80cf4e26c22e637" category="paragraph">disk show -container-type mediator</block>
  <block id="1146fee0eb880f0892a23e726ca0a4d2" category="list-text">メールボックスディスクを 2 つのノードに割り当てます。</block>
  <block id="9d070d121ee26abdb5d314d6fff4c15c" category="list-text">ストレージフェイルオーバーが有効になっていることを確認します。</block>
  <block id="751035e5db88d172e881299c202d9b13" category="paragraph">「 storage failover show 」をクリックします</block>
  <block id="0e6429e5a26e1f9ea7c357f0cd190a54" category="paragraph">容量プールライセンスを使用する場合は、各容量プールライセンスを再インストールする必要があります。詳細については、「容量プールライセンスの再インストール」を参照してください。</block>
  <block id="569f883a1fcdb29c5aa5e29f182e9dd9" category="paragraph">2 ノードクラスタを含む、障害が発生した Deploy ユーティリティのインスタンスのバックアップがない場合は、新しい Deploy 仮想マシンにメディエーターの iSCSI ターゲットとメールボックスを設定する必要があります。次に、 ONTAP Select クラスタ内の 2 つのノードの追加設定を実行して、リカバリを完了する必要があります。</block>
  <block id="1b8f191261c89384d2a9550aaac5eac0" category="paragraph">新しい Deploy ユーティリティのインスタンスのメディエーターターゲットの名前が必要です。2 ノードクラスタの ONTAP CLI にサインインし、 2 つのノードの ONTAP 名を確認しておく必要があります。</block>
  <block id="b641370bc8479ac609268e5b798181a7" category="paragraph">必要に応じて、設定のバックアップを新しい Deploy 仮想マシンにリストアできます。 2 ノードクラスタがバックアップに含まれていなくてもリストアは可能です。リストアで 2 ノードクラスタが再作成されることはないため、 Deploy の ONTAP Select オンラインドキュメントの Web ページを使用して、メディエーターの iSCSI ターゲットとメールボックスを新しい Deploy ユーティリティのインスタンスに手動で追加する必要があります。2 ノードクラスタにサインインし、 2 つのノードの ONTAP 名を確認しておく必要があります。</block>
  <block id="a4e19764a9b0a95876226c599e6aab9a" category="admonition">リカバリ手順 の目的は、 2 ノードクラスタを正常な状態にリストアして、通常の HA テイクオーバー処理とギブバック処理を実行できるようにすることです。</block>
  <block id="f5eb374c041ad769f9b37edbfcfdc016" category="list-text">必要に応じて、 Deploy の設定を以前のバックアップから新しい仮想マシンにリストアします。</block>
  <block id="1a811df4dc00792e0b4812c49edd60bc" category="paragraph">以前のバックアップをリストアする場合、新しい Deploy インスタンスには 2 ノードクラスタが含まれません。インストールとリストアの手順の詳細については、関連情報のセクションを参照してください。</block>
  <block id="ccade42401bf54d1ace0721ed8894959" category="list-text">advanced 権限モードに切り替えます。</block>
  <block id="cffcfc00e24ed8ca2b18bf4a888e0070" category="list-text">メディエーターの iSCSI ターゲット名を取得します。</block>
  <block id="0b8eead8cff957b1221c528cc5815b22" category="paragraph">「 storage iscsi-initiator show -target-type mailbox 」と入力します</block>
  <block id="6beda81a8ccb785c3706cadbcacf79db" category="list-text">新しい Deploy ユーティリティの仮想マシンのオンラインドキュメント Web ページにアクセスし、 admin アカウントを使用してサインインします。</block>
  <block id="5bdffc33624cf554ff99229cfbc8bc1c" category="paragraph">http://&lt;ip_address&gt;/api/ui` にアクセスします</block>
  <block id="9cf0c17a75f430132839d17e4cdf2734" category="paragraph">Deploy 仮想マシンの IP アドレスを使用する必要があります。</block>
  <block id="c30d588450ec2670c8abb4c5bdfcf92a" category="list-text">[* mediator* ] 、 [* Get/medators] の順にクリックします。</block>
  <block id="896a10bc0a8946569552955f1a8b3e4c" category="list-text">[* 試してみてください !* ] をクリックすると、 Deploy によって管理されているメディエーターのリストが表示されます。</block>
  <block id="7e1f9afbb0146bf2210d834ead709d47" category="paragraph">目的のメディエーターインスタンスの ID をメモします。</block>
  <block id="deaae3056bff3505c8cf3c3e5f9394f4" category="list-text">[* Mediator* ] 、 [* POST] の順にクリックします。</block>
  <block id="040012e13bef5621713bec788252ef98" category="list-text">mediator_id の値を指定します</block>
  <block id="f256ba989ef4bd8aa23530c93ff59b5e" category="list-text">[iSCSI_target] の横の [*Model] をクリックして ' 名前の値を入力します</block>
  <block id="e11663ca33d9f0461cabf12f56a8c381" category="paragraph">iqn 名前パラメータのターゲット名を使用します。</block>
  <block id="109c8e36bc942c26365dbf0801f87f3d" category="list-text">[* 試してみてください !* ] をクリックして、メディエーターの iSCSI ターゲットを作成します。</block>
  <block id="3d85b7e0ce2983da3c1d066243516254" category="paragraph">要求が成功すると、 HTTP ステータスコード 200 が表示されます。</block>
  <block id="4da2af2783b38d64f7ad51f0188043f0" category="list-text">新しい Deploy 仮想マシンの IP アドレスが元の Deploy 仮想マシンと異なる場合は、 ONTAP の CLI を使用して、古いメディエーターの iSCSI ターゲットを削除し、新しいターゲットを追加する必要があります。</block>
  <block id="9d0ce8b3bd13c88962b5522282ef1f2a" category="paragraph">容量プールライセンスを使用する場合は、各容量プールライセンスを再インストールする必要があります。詳細については、「容量プールライセンスの再インストール」を参照してください。</block>
  <block id="4ff59a8db209640176f2e9cf37958d61" category="inline-link-macro">新しい仮想マシンへの Deploy の設定データのリストア</block>
  <block id="fa01fc005d428eab0756ed15a7729ed4" category="summary">Deploy vCenter プラグインは、 ONTAP Select Deploy 管理ユーティリティにバンドルされています。ONTAP Select Deploy の Web ユーザインターフェイスを使用して、プラグインを vCenter Server にインストールして登録できます。</block>
  <block id="e218ca968c1b3253265920e4cf3528b6" category="doc">Deploy vCenter プラグインをインストールします</block>
  <block id="27b290969bb031f5cc5897f66c785e9d" category="list-text">次の権限で導入する vCenter アカウントを定義します。 sessions.validate.session 。</block>
  <block id="304f0384399c2ff8b49e45015600f1e5" category="list-text">次の権限を持つ vCenter アカウントのクレデンシャルが必要です。</block>
  <block id="5eff9ff500a1691c10a96079e8ac2d2e" category="paragraph">ここでは、 vCenter 管理サーバが Deploy に追加されていることを前提としています。vCenter Server が追加されていない場合は、を参照してください <block ref="9dca886ac1efe6f2ff21b43db2dff946" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="107cd5e68669acfc2a7b5ede777b8b23" category="list-text">ターゲットの管理サーバを選択し、をクリックします <block ref="8bad975decfb5a8958ec55339559e376" category="inline-image-macro-rx" type="image"></block> [ プラグインとして登録 ] をクリックします。</block>
  <block id="bbbb96898e430d9cf7e061ad70ad17ad" category="list-text">vCenter のクレデンシャルを入力し、プラグインのバージョンを選択します。</block>
  <block id="9909e23ede42f2318acada35ac10bd3e" category="list-text">[*Register] をクリックします。</block>
  <block id="f003eee578389a046f25dba6e783a672" category="summary">ONTAP Select は、組織内の 1 つ以上のプライベートクラウドのサポートに最適です。一般的なユースケースとしては、コモディティサーバ上に構築されたプライベートクラウドにストレージサービスを提供するケースがあります。</block>
  <block id="fb4b04f0bbd3011e95882612761e5f4a" category="doc">プライベートクラウドとデータセンター</block>
  <block id="cc2d9bf42776eb79fe1ddb4e755eff01" category="paragraph">パブリッククラウドと同様に、プライベートクラウドは柔軟性に優れており、設置やティアダウンも迅速に実行できます。また、プライベートクラウドでは、セキュリティと管理が強化されます。</block>
  <block id="952fadee3e3271f104889cf60f4df23e" category="paragraph">次の図は、ストレージファームが ONTAP Select VM にコンピューティングとローカル接続ストレージを提供し、アップストリームのアプリケーションスタックにストレージサービスを提供する方法を示しています。SVM のプロビジョニングからアプリケーション VM の導入と構成に至るワークフロー全体が、プライベートクラウドのオーケストレーションフレームワークによって自動化されます。</block>
  <block id="413237c8cac3c7cf3437693d9962b1fb" category="paragraph">これはサービス指向のプライベートクラウドモデルです。HA バージョンの ONTAP Select を使用することで、高コストの FAS アレイと変わらない ONTAP エクスペリエンスを実現できます。アプリケーション VM は別の物理インフラにホストされており、 ONTAP Select VM がストレージサーバリソースを独占的に使用します。</block>
  <block id="fb6f9f37085215c30bff064542d11394" category="paragraph">* DAS 上に構築されたプライベート・クラウド *</block>
  <block id="df4928efb348e7abebffb938d05f9853" category="paragraph"><block ref="df4928efb348e7abebffb938d05f9853" category="inline-image-macro-rx" type="image"></block></block>
  <block id="132bf791073c4b17c13357c14b6562bf" category="summary">VMware ESXi で ONTAP Select を実行している場合は、 ESXi ソフトウェアを以前にサポートされていたバージョンから ESXi 6.5 または 6.7 にアップグレードできます。アップグレードする前に、プロセスを理解し、適切なアップグレード手順 を選択する必要があります。</block>
  <block id="d2283a8b3afa21d3f713bd9cda08fb85" category="doc">VMware ESXi のバージョン 6.5 以降へのアップグレード</block>
  <block id="ce78f638c1329fc432323298fd5ab053" category="paragraph">ONTAP Select クラスタをホストするハイパーバイザーで ESXi ソフトウェアをアップグレードする前に、環境に適したアップグレード手順 を準備して選択する必要があります。</block>
  <block id="a74a74cc9eac206cd17b389aebee1edf" category="admonition">VMware ESXi 6.5 にアップグレードする場合は、 ESXi U2 （ビルド 8294253 ）以降にアップグレードする必要があります。ESXi 6.5 U1 を使用すると、 VMware の既知のバグによって仮想マシンの障害にさらされる可能性があります。</block>
  <block id="c4e95f89325739a12066fe59a8c74035" category="section-title">VMware ESXi のアップグレード方法を理解する</block>
  <block id="68c3e59e197acef7b9534fb6c7918500" category="paragraph">ESXi ソフトウェアのアップグレードは、 VMware で説明され、サポートされているプロセスです。ハイパーバイザーのアップグレードプロセスは、 ONTAP Select を使用する場合の大規模なアップグレード手順 の一部です。詳細については、 VMware のドキュメント『 Upgrading ESXi Hosts 』を参照してください。</block>
  <block id="9fa33ecaf514d1126a951d1c28cb2492" category="section-title">アップグレード手順 を選択しています</block>
  <block id="a06d958d7c1e780db3a597737559b331" category="paragraph">いくつかのアップグレード手順があります。次の基準に基づいて、該当する手順 を選択する必要があります。</block>
  <block id="d98bf1b619a94ca49b2cf4e249269541" category="list-text">ONTAP Select クラスタのサイズは、シングルノードクラスタとマルチノードクラスタのどちらでもサポートされます。</block>
  <block id="c9a714bea6de08f5989eee603a121dae" category="list-text">ONTAP Select Deploy アップグレードは、 Deploy ユーティリティを使用する場合と使用しない場合の両方で使用できます。</block>
  <block id="649ae0572dea5b8bc6208820d18b8e73" category="admonition">Deploy 管理ユーティリティを使用するアップグレード手順 を選択する必要があります。</block>
  <block id="cbd6ddbbce02203098e22e613d37b57b" category="paragraph">Deploy 管理ユーティリティを使用した ESXi のアップグレードは、より一般的で耐障害性に優れたオプションです。ただし、 Deploy を使用できない場合や使用できない場合があります。たとえば、以前のバージョンの ONTAP Select および Deploy 管理ユーティリティでは、 ESXi 6.5 へのアップグレードはサポートされていません。</block>
  <block id="d24e4d209595dd00d983cbed66cc28da" category="paragraph">これらの旧バージョンを使用している場合にアップグレードを試行すると、 ONTAP Select 仮想マシンをブートできない状態のままにすることができます。この場合は、 Deploy を使用しないアップグレード手順 を選択する必要があります。詳細については、 * 1172198 * を参照してください。</block>
  <block id="4331a924031e9c4e425fc81ec923f3c4" category="section-title">Deploy 管理ユーティリティをアップグレードする</block>
  <block id="f037c33af478257218bc64b1facea5ab" category="paragraph">Deploy ユーティリティを使用して手順 のアップグレードを実行する前に、 Deploy インスタンスのアップグレードが必要になることがあります。通常は、最新バージョンの Deploy にアップグレードする必要があります。少なくとも、 Deploy 2.5 以降を使用する必要があります。Deploy ユーティリティで、使用する ONTAP Select のバージョンがサポートされている必要があります。詳細については、 ONTAP Select のリリースノートを参照してください。</block>
  <block id="0fca1939c8c0500fa2f3ed6bfce03d40" category="section-title">手順 の更新が完了したら</block>
  <block id="3020c5e4f7e244ad0af7d9b1e1c3f9cc" category="paragraph">Deploy ユーティリティを使用するアップグレード手順 を選択する場合は、すべてのノードをアップグレードしたあとに、 Deploy を使用してクラスタの更新処理を実行する必要があります。詳細については、 Deploy クラスタ設定の更新を参照してください。</block>
  <block id="eaffbba1df6840c24604c7ba76b40d56" category="section-title">Deploy を使用したシングルノードクラスタのアップグレード</block>
  <block id="2b02207ef454c2c6aeeedf7644fa1821" category="paragraph">Deploy 管理ユーティリティは、手順 の一部として使用して、 ONTAP Select シングルノードクラスタをホストする VMware ESXi ハイパーバイザーをアップグレードできます。</block>
  <block id="b150b43a1c50821ffa6faf08aa2b2fec" category="paragraph">Deploy バージョン 2.5 以降を使用する必要があります。</block>
  <block id="681dd84e331133125fc528e3066ea4b7" category="list-text">ノードをオフライン状態にします。</block>
  <block id="3a5d7f86dd219466ffbcb0e2f8ffd034" category="paragraph">例 : node stop --cluster-name&lt;clustername&gt; --node-name &lt;nodename&gt;</block>
  <block id="92e4e00b84d8a746bc85b6d5962866e2" category="list-text">VMware の手順 を使用して、 ONTAP Select が実行されているハイパーバイザーホストを ESXi 6.5 または 6.7 にアップグレードします。</block>
  <block id="577326be3a2834459d5d211f052684dd" category="paragraph">詳細については、を参照してください。</block>
  <block id="d1c1e91e03c71fa9882b17583973d0c4" category="list-text">ノードをオンライン状態に移行します。</block>
  <block id="fb373c881fd0931abd6943e8bcf86440" category="paragraph">例 : node start --cluster-name&lt;clustername&gt; --node-name &lt;nodename&gt;</block>
  <block id="2bcdcfed9ba53c3c8ca4e481e1451e94" category="list-text">ノードが起動したら、クラスタが正常であることを確認します。</block>
  <block id="bba96a171c35e11e4bf7eb548e322d78" category="paragraph">Deploy 管理ユーティリティを使用してクラスタの更新処理を実行する必要があります。</block>
  <block id="6296bb949e285e75effda4d7b96e65ea" category="section-title">Deploy を使用したマルチノードクラスタのアップグレード</block>
  <block id="c924506282a3ae2065b516094cff9672" category="paragraph">Deploy 管理ユーティリティは、手順 の一部として使用して、 ONTAP Select マルチノードクラスタをホストする VMware ESXi ハイパーバイザーをアップグレードできます。</block>
  <block id="288fcf18aad421ce3f2c43d2ff32eb64" category="paragraph">このアップグレード手順 は、クラスタ内のノードごとに 1 つずつ実行する必要があります。クラスタに 4 つ以上のノードがある場合は、各 HA ペアのノードを次の HA ペアに進む前に順番にアップグレードしてください。</block>
  <block id="ff261bcd97b9ada628c276eb4d5c3e42" category="paragraph">詳細については、「 VMware ESXi のアップグレードの準備」を参照してください。</block>
  <block id="fb61b1df2c4291c44c2360ef91faae18" category="list-text">ノードが起動したら、ストレージフェイルオーバーが有効になっていてクラスタが正常に動作していることを確認します。</block>
  <block id="55a15e50c50fb1939345d080c32ba0c6" category="paragraph">アップグレード手順 は、 ONTAP Select クラスタで使用するホストごとに実行する必要があります。すべての ESXi ホストをアップグレードしたら、 Deploy 管理ユーティリティを使用してクラスタの更新処理を実行する必要があります。</block>
  <block id="2fa37504b7929d345395ed37fe93c974" category="section-title">Deploy なしでのシングルノードクラスタのアップグレード</block>
  <block id="e991c464dd57ccc72a901a0963236a95" category="paragraph">ONTAP Select シングルノードクラスタをホストしている VMware ESXi ハイパーバイザーは、 Deploy 管理ユーティリティを使用せずにアップグレードできます。</block>
  <block id="07965aa7c4b0cfddb88ad5851bf34ca8" category="list-text">ONTAP のコマンドラインインターフェイスにサインインしてノードを停止します。</block>
  <block id="e95491658712fb38a830d84159e2e61c" category="list-text">VMware vSphere を使用して、 ONTAP Select 仮想マシンの電源がオフになっていることを確認します。</block>
  <block id="42cda8f5d2339a46f087a97128f16d86" category="list-text">VMware vSphere を使用して vCenter にアクセスし、次の手順を実行します。</block>
  <block id="8e2716b2ab187868699c200913321b56" category="list-text">ONTAP Select 仮想マシンにフロッピードライブを追加します。</block>
  <block id="f973a8a2321fe603c3b2c434b6ab6353" category="list-text">ONTAP Select 仮想マシンの電源をオンにします。</block>
  <block id="aa6b728c36f1bd39c6a235c165e2dbc2" category="list-text">管理者アカウントで SSH を使用して ONTAP CLI にサインインします。</block>
  <block id="0275811020369bbd587dfc20add627a0" category="section-title">Deploy なしでのマルチノードクラスタのアップグレード</block>
  <block id="42fd4c247ebbe7dfca417006d76edd84" category="paragraph">ONTAP Select マルチノードクラスタをホストする VMware ESXi ハイパーバイザーは、 Deploy 管理ユーティリティを使用せずにアップグレードできます。</block>
  <block id="c94bc3200f704807c4c41ce4c2e2b2d8" category="paragraph">アップグレード手順 は、 ONTAP Select クラスタで使用するホストごとに実行する必要があります。</block>
  <block id="7807c1892c85ba4af2d3c779c7823c25" category="summary">容量プールライセンスモデルを使用する場合の制限事項を次に示します。</block>
  <block id="12a600320f268cb8d694ea9ca7d2f40b" category="doc">容量プールのライセンスに関する導入の制限</block>
  <block id="3e786bde6715be4e14e3475dd6ed4cce" category="paragraph">1 つの ONTAP Select クラスタ内のすべてのノードで、同じライセンスモデル、つまり容量階層または容量プールを使用する必要があります。1 つのクラスタ内で複数のノードのライセンスタイプを混在させることはできません。</block>
  <block id="1698dae6a4f7df9ce924018053e98157" category="paragraph">ONTAP Select クラスタ内の容量プールライセンスを持つすべてのノードは、同じ License Manager インスタンスを使用する必要があります。各 Deploy インスタンスには 1 つの License Manager インスタンスが存在するため、この制限は、クラスタ内のすべてのノードを同じ Deploy インスタンスで管理する必要があるという既存の要件を再定義したものです。</block>
  <block id="44f8a5fada3e18e6f15ff271b3edc087" category="paragraph">各ノードは、 1 つの容量プールからのみストレージをリースできます。1 つのノードで複数のプールを使用することはできません。</block>
  <block id="9f9dee89e91dda6c0bed11a752b85182" category="paragraph">単一の HA ペアの両方のノードは、同じ容量プールからストレージをリースする必要があります。ただし、同じクラスタ内の異なる HA ペアは、同じ License Manager で管理されている異なるプールからストレージをリースできます。</block>
  <block id="ae060de04aca5e325886869d3119eab9" category="paragraph">ネットアップからストレージライセンスを取得するときは、ライセンス期間を選択する必要があります。たとえば、ライセンスは 1 年間有効です。</block>
  <block id="3684db008f18e1ffdeda56bf51708696" category="paragraph">ONTAP Select ノードがデータアグリゲートのストレージリースを要求すると、 License Manager は容量プールの設定に基づいて、特定の期間のリースを提供します。各プールのリース期間は、 1 時間から 7 日の間で設定できます。デフォルトのリース期間は 24 時間です。</block>
  <block id="987ded954f3b3c95296c03ab6b45ec09" category="paragraph">容量プールのライセンスを使用する場合は、 Deploy 管理ユーティリティに静的 IP アドレスを割り当てる必要があります。</block>
  <block id="3de1ca7c5efc91bb5c6c3fe1667e7f17" category="summary">ONTAP Select ノードで使用される容量プールごとにライセンスファイルを取得する必要があります。ライセンスファイルでは、プールのストレージ容量と有効期限が定義されます。このライセンスは、ネットアップが割り当てた一意のライセンスシリアル番号と、 Deploy インスタンスに関連付けられたライセンスロック ID を組み合わせて、 License Manager にロックされます。</block>
  <block id="3d77b2e96a057ce7efa31e290838a58d" category="doc">容量プールライセンスを取得しています</block>
  <block id="e26cab9e8e6b8390bd5be41af1d4052a" category="paragraph">ネットアップが容量プールに割り当てた 9 桁のライセンスシリアル番号が必要です。ライセンスファイルを取得する前に、注文書の出荷日から少なくとも 24 時間待ってください。</block>
  <block id="3268086c81bdd4a048f2802c1261a578" category="paragraph">このタスクは、 ONTAP Select ノードで使用される容量プールごとに実行する必要があります。</block>
  <block id="7456bc766f2bb265ca706274029a4d1d" category="list-text">Web ブラウザを使用してネットアップサポートサイトにアクセスし、サインインします。</block>
  <block id="89d470e4f09750972e667a0aa66f60da" category="list-text">上部の [*Systems*]( システム ) をクリックし、 [*Software Licenses*]( ソフトウェアライセンス ) をクリックします。</block>
  <block id="b8c28c22670acd8bd63bb0a805272088" category="list-text">容量プールのライセンスシリアル番号を入力し、 * Go ！ * をクリックします。</block>
  <block id="ae9aa26e0640b9c3d2d442b604f354ee" category="list-text">ライセンスの詳細ページで、 * 製品の詳細 * 列に移動します。</block>
  <block id="706a307ae92c25933ca962eb6dbd8560" category="list-text">該当する行の * Get NetApp License File * をクリックします。</block>
  <block id="e3a2b007e462109d35d40e5a66167dd3" category="list-text">ONTAP Select Deploy インスタンスのライセンスロック ID を入力し、 * Submit * をクリックします。</block>
  <block id="428eaaa9f14db57c6bd3b4e5dc5b258f" category="list-text">適切な配信方法を選択し、 * Submit * をクリックします。</block>
  <block id="e65eef77c34710d04f651265a36f1383" category="list-text">配信確認ウィンドウで [OK] をクリックします。</block>
  <block id="f9398cacd5f1ebcc0aca8d8b93299cb5" category="paragraph">ONTAP Select ノードで容量プールを使用するには、ライセンスファイルを Deploy 管理ユーティリティにアップロードする必要があります。</block>
  <block id="010b1bb88703436584f35ee315ce708a" category="summary">コマンドラインインターフェイスを使用して、 Deploy 管理ユーティリティの既存のインスタンスを新しい仮想マシンに移行できます。</block>
  <block id="cb60dc9d75b4595779705bc85adc982e" category="doc">新しい仮想マシンへの Deploy インスタンスの移行</block>
  <block id="55327b42261932bc23e2c7dff5397072" category="paragraph">この手順 は、元の仮想マシンの設定データを使用する新しい仮想マシンの作成に基づいています。新しい仮想マシンと元の仮想マシンで実行する Deploy ユーティリティのバージョンとリリースが同じである必要があります。バージョンとリリースが異なる Deploy ユーティリティに移行することはできません。</block>
  <block id="bdddb72e17e747249b338db128116bfb" category="section-title">Deploy の設定データのバックアップ</block>
  <block id="50292085f30b7587c02bf7a7bdb68a00" category="paragraph">仮想マシンの移行の一環として、 Deploy の設定データのバックアップを作成する必要があります。また、 ONTAP Select クラスタを導入したあとにバックアップを作成する必要があります。データは単一の暗号化ファイルに保存され、ローカルワークステーションにダウンロードできます。</block>
  <block id="a2223560f3daace4da811f50f2f76708" category="paragraph">Deploy はバックアップ処理中に他のタスクを実行しないでください。</block>
  <block id="28026b3bb14f3c97b11f481645caf565" category="paragraph">作成するバックアップファイルには、仮想マシンのすべての設定データがキャプチャされます。このデータには、 ONTAP Select クラスタを含む導入環境の要素が説明されています。</block>
  <block id="c4e676380560c2d76ac3009addaa66eb" category="list-text">Deploy サーバの内部ディレクトリに格納されている Deploy の設定データのバックアップを作成します。</block>
  <block id="d52ea963a3560a70eafe6249384cad0e" category="paragraph">'deploy backup create</block>
  <block id="5a6f96ad4278c1232327847e0020aeca" category="list-text">プロンプトが表示されたら、バックアップのパスワードを入力します。</block>
  <block id="57049f039b8ba3ed7da7870227bf63cf" category="paragraph">バックアップファイルは、パスワードに基づいて暗号化されます。</block>
  <block id="5a9fe4be7a45fa497ce5ed098b3a3aff" category="list-text">システムで使用可能なバックアップを表示します。</block>
  <block id="08df971d378fcae2bcfc934ca648d17c" category="paragraph">'deploy backup show -detailed</block>
  <block id="1a5cb9ce2867d3b5aa027c79d38b9b4c" category="list-text">[ 作成日 ] フィールドの日付に基づいてバックアップファイルを選択し、 * ダウンロード URL * の値を記録します。</block>
  <block id="cf3583e0957dd7c033dd10fc82650d20" category="paragraph">バックアップファイルには、 URL からアクセスできます。</block>
  <block id="aeb4d606f61c7fabca15a3d3661cc539" category="list-text">Curl などの Web ブラウザまたはユーティリティを使用して、 URL を指定してバックアップファイルをローカルワークステーションにダウンロードします。</block>
  <block id="ecc3d32ac6779499996c0e916aa1171b" category="section-title">Deploy 仮想マシンの新しいインスタンスをインストールします</block>
  <block id="d0f2cb48a9cf794034f9bdb7e3dea823" category="paragraph">Deploy 仮想マシンの新しいインスタンスを作成する必要があります。このインスタンスは、元の仮想マシンの設定データを使用して更新できます。</block>
  <block id="451b97d8bb1d274cc5b5d6e3ed20f33d" category="paragraph">VMware 環境で ONTAP Select Deploy 仮想マシンのダウンロードと導入に使用する手順を理解しておく必要があります。</block>
  <block id="41823f48b0b922f4227e5c3ac202d574" category="paragraph">このタスクについては大まかに説明します。</block>
  <block id="b3162815537e84c2d4e8b389167861f5" category="list-text">Deploy 仮想マシンの新しいインスタンスを作成します。</block>
  <block id="67c79253e8976bd186c695e139b13a6c" category="list-text">仮想マシンイメージをダウンロードします。</block>
  <block id="05d6ce4c0a079b4e4d77346ad8db3fa0" category="list-text">仮想マシンを導入し、ネットワークインターフェイスを設定します。</block>
  <block id="bc53d5b8393b0e7bd459582f7c4fe869" category="list-text">SSH を使用して Deploy ユーティリティにアクセスします。</block>
  <block id="591e64415012a524e3833cbec7c08a35" category="paragraph"><block ref="591e64415012a524e3833cbec7c08a35" category="inline-link-macro-rx"></block></block>
  <block id="0354884312c6d9734c8ccd7979edbee9" category="paragraph">元の Deploy ユーティリティの仮想マシンの設定データを新しい仮想マシンにリストアする必要があります。データは、ローカルワークステーションからアップロードする必要のある 1 つのファイルに格納されます。</block>
  <block id="1b364349b93e82578cfe461dabadd928" category="paragraph">以前のバックアップの設定データが必要です。データは 1 つのファイルに格納され、ローカルワークステーションで使用できる必要があります。</block>
  <block id="f81fbf9d5f689fab977e68417016783a" category="list-text">ローカルワークステーション上のコマンドシェルで、 sftp ユーティリティを使用して、バックアップファイルを Deploy 仮想マシンにアップロードします。</block>
  <block id="61606c32a4feee098448dfcafda7350b" category="list-text">構成データをリストアします。</block>
  <block id="b69a9048a49045497e1363c3dd4d30a0" category="paragraph">'deploy backup restore -path pathname - filename filename</block>
  <block id="3d76d8ade4be6a0fa76347dff9a10a88" category="paragraph">'deploy backup restore-path/home/admin-filename deploy_20180601162151.tar.gz</block>
  <block id="9f8405ace72665fee032686e586d5366" category="summary">ONTAP Select クラスタを導入したら、 Deploy 管理ユーティリティを使用してノードのハイパーバイザーインスタンスタイプをアップグレードできます。</block>
  <block id="a81401e9911e6ba18e35f42e304aeafc" category="doc">ONTAP Select クラスタノードのサイズ変更</block>
  <block id="da8c60eda9de027a78518654141ef28e" category="admonition">容量階層のライセンスモデルを使用している場合にのみ、クラスタノードのサイズ変更処理を実行できます。容量プールライセンスが設定されている ONTAP Select ノードのサイズを変更することはできません。</block>
  <block id="c491351d31e9a04b74d8cf6b5f75e570" category="paragraph">クラスタはオンライン状態である必要があります。</block>
  <block id="090def24fea0489fb8d3e01bab4bd447" category="paragraph">このタスクでは、 Deploy の Web ユーザインターフェイスの使用方法について説明します。Deploy CLI を使用して、インスタンスのサイズを変更することもできます。どのインターフェイスを使用するかに関係なく、サイズ変更処理に要する時間はいくつかの要因によって大きく異なり、完了までに長い時間がかかることがあります。サイズを変更できるのは、ノードのサイズを大きくする場合だけです。</block>
  <block id="0a34214ca44126aa0cdfec7af4a58c66" category="list-text">ページ上部の * Cluster * タブをクリックし、リストから目的のクラスタを選択します。</block>
  <block id="8e0a0b0997ce245edb91ba7a177f1f63" category="list-text">クラスタの詳細ページで、ページの右側にある歯車アイコンをクリックし、 * Instance Resize * を選択します。</block>
  <block id="32e9774ab500122ae0bcd08ce0e5dd32" category="list-text">インスタンスタイプ * を選択し、 ONTAP クレデンシャルを入力して、 * 変更 * をクリックします。</block>
  <block id="c41dec580cafa94c837ea40ad06569c4" category="paragraph">サイズ変更処理が完了するまで待つ必要があります。</block>
  <block id="57a8f1209a3d14eac0b8a5740de50115" category="summary">VMware 環境に関連するハードウェア要件と計画の問題がいくつかあります。</block>
  <block id="c6be59d8f4c6188156fe9d80753e59f8" category="doc">VMware ハイパーバイザーとハードウェアに関する考慮事項</block>
  <block id="87bdd4e6fa6d5e0e17df3587523ba7ff" category="section-title">ハイパーバイザーの要件</block>
  <block id="2201b601170fae09063b228ee434fd74" category="paragraph">ONTAP Select を実行するハイパーバイザーに関連する要件がいくつかあります。</block>
  <block id="05a313b0efed15c3b570da5e28d43277" category="admonition">既知の制限事項や制限事項の追加に際しては、使用している ONTAP Select のバージョンの最新リリースノートを確認してください。</block>
  <block id="203736fadeb2bd7c77491d72c4dec6b4" category="section-title">VMware ライセンス</block>
  <block id="880e4da9bcc9725e517c69e219a63339" category="paragraph">ONTAP Select クラスタを導入するには、 ONTAP Select を実行するハイパーバイザーホストの有効な VMware vSphere ライセンスが必要です。導入に適したライセンスを使用してください。</block>
  <block id="da132c60d8df0a4756d0a1e64618decf" category="section-title">ソフトウェアの互換性</block>
  <block id="f2df12ffd4f2520acaaeab11317642da" category="paragraph">ONTAP Select は次のハイパーバイザーに導入できます。</block>
  <block id="cb09cc9a7c5645adef2952e42c8113a4" category="list-text">VMware ESXi 6.5 U2 （ビルド 8294253 以降）</block>
  <block id="6d49558f2efead8b9c52640d24baa9c6" category="list-text">VMware ESXi 6.7 GA （ビルド 8169922 以降）： 6.7 U1 、 U2 、 U3 を含みます</block>
  <block id="3522298772b42c1feed00428b1765cfd" category="admonition">VMware でも同じバージョンがサポートされていれば、特定されたバージョンの ESXi で ONTAP Select がサポートされます。</block>
  <block id="b4d68fa6f7a2f05a7861fc01bd7d54df" category="section-title">VMware ESXi 6.5 U2 以降へのアップグレード</block>
  <block id="10e25613e6e661d9225b8b8847992335" category="paragraph">現在 ONTAP Select が VMware ESXi 6.5 U1 に導入されている場合は、できるだけ早く ESXi 6.5 U2 以降にアップグレードしてください。ESXi 6.5 U1 を使用すると、 VMware の既知のバグによって仮想マシンの障害にさらされる可能性があります。</block>
  <block id="5c4eab167cc470fbe0f1b2e9a2449486" category="section-title">VMware vCenter およびスタンドアロンの ESXi ホスト</block>
  <block id="d8492e635eeb04bc232082f13805e768" category="paragraph">ESXi ハイパーバイザーホストが vCenter サーバで管理されている場合は、 vCenter のクレデンシャルを使用して、ホストを Deploy 管理ユーティリティに登録する必要があります。ESXi のクレデンシャルを使用してホストをスタンドアロンホストとして登録することはできません。</block>
  <block id="d200a289a8ebcab27fa991f9d753e39c" category="section-title">コアハードウェアの要件</block>
  <block id="09b8a8e0dc5db4d03118426909a90e16" category="paragraph">ONTAP Select を導入する物理ハイパーバイザーホストが、いくつかのハードウェア要件を満たしている必要があります。ハードウェアの最小要件を満たしていれば、ハイパーバイザーホストに対して任意のプラットフォームを選択できます。サポートされているハードウェアプラットフォームは、 Cisco 、 Dell 、 HP 、富士通、 Lenovo 、 と Supermicro です。</block>
  <block id="54046c200f18c7f662cdbd80eaba39a0" category="admonition">ONTAP Select 9.9.1 以降では、 Intel Xeon Sandy Bridge 以降に基づく CPU モデルのみがサポートされます。</block>
  <block id="667aa4140034cc454b837db2fc24ce3d" category="inline-link">NetApp Interoperability Matrix Tool 、ウィンドウ = _blank</block>
  <block id="e974ba73413c61605294fbea7a63f880" category="paragraph">を参照してください<block ref="6989237bb21ab12eea7660d1d2c0793b" category="inline-link-rx"></block> を参照してください。</block>
  <block id="6ef6e53858c70e7e79a98bf86eb89b40" category="section-title">基本的なハードウェア要件</block>
  <block id="6e789a662664596fd2f867b83af8955a" category="paragraph">ノードインスタンスのタイプやライセンスサービスに関係なく、すべてのプラットフォームに適用される共通のハードウェア要件がいくつかあります。</block>
  <block id="7a4cc24a8547103995174a22d62c6415" category="inline-link-macro">インテル Xeon プロセッサー、ウィンドウ = _ ブランク</block>
  <block id="fc86323f8bb43524824dfedf72c12f20" category="list-text">サーバー向けインテル Xeon プロセッサー（を参照 <block ref="b4ae18ee7ddc8509f21de2805d7b78c6" category="inline-link-macro-rx"></block> 詳細については、</block>
  <block id="7538c6fd2c1f96ec16f31ff621c5090f" category="list-text">10GbE × 2</block>
  <block id="d55a9ba430190ded23c2d10278bfb65d" category="section-title">インスタンスタイプに基づいた追加のハードウェア要件</block>
  <block id="bfc8cbb02384bbb523227067dcadb07e" category="paragraph">ノードインスタンスのタイプに基づいて、ハードウェアに関する追加の要件がいくつかあります。</block>
  <block id="7e64fd00098cc9d082a7cbbea21dc2a5" category="inline-link-macro">プラットフォームライセンスの内容を理解する</block>
  <block id="9715353b59579e1807bc211960af7026" category="paragraph">を参照してください <block ref="6b9b2c9657007e6219141e744601ddef" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="2660064e68655415da2628c2ae2f7592" category="list-text">小規模</block>
  <block id="0f388b65d306e7f09fac50abc309278b" category="list-text">CPU コア 6 個以上の物理コアを搭載し、 ONTAP Select 用に 4 個確保されています。</block>
  <block id="727aba38094b8ba7f1c05edf4b594878" category="list-text">メモリは 24GB 以上で、 16GB は ONTAP Select 用にリザーブされています。</block>
  <block id="1b1bcbc5bef4914aba7474fdc935bf7a" category="list-text">Standard 、 Premium 、または Premium XL のプラットフォームライセンスが必要です</block>
  <block id="87f8a6ab85c9ced3702b4ea641ad4bb5" category="list-text">中</block>
  <block id="b4719369a085a3a9eadcc89a75cc3015" category="list-text">10 個以上の物理コアを搭載し、 8 個の ONTAP Select 用にリザーブされている。</block>
  <block id="a5cad44535baf99d478fd298efce915c" category="list-text">72 GB 以上のメモリと 64 GB の ONTAP Select 用に予約されています</block>
  <block id="49a424b177ede0679de0a453cb851491" category="list-text">Premium または Premium XL のプラットフォームライセンスが必要です</block>
  <block id="3a69b34ce86dacb205936a8094f6c743" category="list-text">大規模</block>
  <block id="007c5cd914103b408c6c2a68d320195d" category="list-text">CPU コアは 18 個以上の物理コアを搭載し、 16 個は ONTAP Select 用に予約されています。</block>
  <block id="fcda6b9d9feeeb26502f015e242ed459" category="list-text">ONTAP Select 用に予約された 128GB で 136GB 以上のメモリ</block>
  <block id="b29d65d42585bb4f3ac0f65c9283ee2d" category="list-text">Premium XL の必要なプラットフォームライセンスです</block>
  <block id="ccda35bfbfdd918d2a198f71367f7d9d" category="inline-link-macro">ストレージと RAID</block>
  <block id="9a44a4605ab254ea4e284ea83fc225b0" category="admonition">プラットフォームライセンスに基づいて追加のディスクが必要になります。を参照してください <block ref="a3c4eb4ff3e5c01e8b1b86f1b4351b6c" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="d5955f327d5d79aa3434b5772a31b4d8" category="summary">ONTAP Select は、ハイパーバイザーホストに仮想マシンとして導入する ONTAP のソフトウェア専用バージョンです。これは、主要な FAS および AFF ONTAP 製品のスイートに加え、 Cloud Volumes ONTAP などのソフトウェアのみのその他のオプションを補完します。</block>
  <block id="7cc14acbe7c6207c4a44a5e6e60f0a80" category="doc">ONTAP Select の概要</block>
  <block id="2a0e91436f90a22cb84ac4d4041e2aa5" category="paragraph">ONTAP Select は、ソフトウェアのみの ONTAP バージョンで、ハイパーバイザーホストに仮想マシンとして導入できます。これは、主要な FAS および AFF ONTAP 製品のスイートに加え、 Cloud Volumes ONTAP などのソフトウェアのみのその他のオプションを補完します。</block>
  <block id="9ed6c695ae7ec8113471a76ddcea07cf" category="section-title">Software-Defined Storage</block>
  <block id="3d55457ab585cd891246ed7dff68b788" category="paragraph">IT サービスの実装と配布をソフトウェアを通じて行うことで、管理者はかつてないスピードと即応性でリソースを迅速にプロビジョニングできます。最新のデータセンターがソフトウェア・デファインド・インフラストラクチャー（ SDI ）アーキテクチャーに移行すると、最も価値の高い IT 資産を基盤となる物理インフラストラクチャーから分離して、柔軟性、拡張性、プログラマビリティを提供できます。</block>
  <block id="718d7c969f416878691ffcaa2bdf3ca1" category="paragraph">DAS （直接接続型ストレージ）のサイロ間でデータが断片化されているコモディティ環境では、データの移動と管理が複雑な問題になっています。ソフトウェア・デファインド・ストレージ（ SDS ）は、 SDI 環境の重要な部分として、これらの問題やその他の問題に対処するために登場しました。</block>
  <block id="b2c8689de5a7643d75bcb087da31d4a0" category="paragraph">ONTAP Select は、 SDS 市場向けの NetApp 解決策 です。ONTAP Select は、 Software-Defined Data Center にエンタープライズクラスのストレージ管理機能を提供し、ネットアップデータファブリックアーキテクチャをモノのインターネット（ IoT ）や戦術的サーバなど、エッジの厳しいユースケースにまで拡張します。</block>
  <block id="5e75bdbfd3f02cf9f655d512b767dc1f" category="section-title">2 つのソフトウェアコンポーネント</block>
  <block id="1524f7469af0e3274a12cb0f88c7e172" category="paragraph">ONTAP Select は、次の 2 つの主要なソフトウェアコンポーネントで構成されます。</block>
  <block id="109a0fa65c0a46ffacf7a4a44e3904a2" category="section-title">ONTAP Select ノード</block>
  <block id="30469533a5982c250fa502f71f9f958c" category="paragraph">ONTAP Select クラスタは、 1 ノード、 2 ノード、 4 ノード、 6 ノード、または 8 ノードで構成されます。各クラスタノードは個別の仮想マシンとして導入され、特別に設計されたバージョンの ONTAP 9 ソフトウェアを実行します。</block>
  <block id="440776946e3349ff3266a8cf25bef605" category="section-title">ONTAP Select Deploy 管理ユーティリティ</block>
  <block id="deeb67d546017625d12dfbcf3d817a5c" category="paragraph">Deploy 管理ユーティリティは、個別の Linux 仮想マシンとしてパッケージ化されてインストールされます。本番環境に ONTAP Select クラスタを導入するには、ユーティリティを使用する必要があります。最新バージョンの ONTAP Select ノードイメージが Deploy ユーティリティにバンドルされています。</block>
  <block id="03c5543a6a3c199fa2d3c609ec3a2b4b" category="admonition">ONTAP Select 9.7 以降では、 Deploy 管理ユーティリティに個別のバージョン番号が割り当てられなくなりました。Deploy のバージョン番号は、関連する ONTAP Select リリースと同じです。ただし、特定の ONTAP Select リリース内の Deploy ユーティリティの更新ごとに、固有のビルド番号が割り当てられます。</block>
  <block id="d69f8aaae124c9269620ba7ca5678c34" category="section-title">一般的な導入の図</block>
  <block id="60d804a6b011555fd729bcd0c5e206da" category="paragraph">次の図は、 ONTAP Select Deploy 管理ユーティリティを使用して 4 ノード ONTAP Select クラスタを導入およびサポートしている状態を示しています。Deploy ユーティリティと ONTAP Select ノードは、専用のハイパーバイザーホスト上で個別の仮想マシンとして実行されます。</block>
  <block id="3163bfc32e34eb9c2f84e4c7a1535111" category="inline-image-macro">は、 Deploy 管理ユーティリティで作成された ONTAP Select 4 ノードクラスタを示しています。</block>
  <block id="3e69161d02590dc69114626444a3d815" category="paragraph"><block ref="3e69161d02590dc69114626444a3d815" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f6d0a856320802e878fb73629ca6582d" category="paragraph">ハードウェアベースの ONTAP と ONTAP Select は、どちらもエンタープライズクラスのストレージソリューションを提供します。ただし、設計と実装方法が異なるため、対応するビジネス要件や利用シナリオもそれぞれ異なります。ONTAP Select の導入を計画する前に、プラットフォーム間の主な違いを理解しておく必要があります。</block>
  <block id="c6d43ec5b0b49fe2c3f127531903582c" category="section-title">HA アーキテクチャが異なります</block>
  <block id="881afa18564b62e47e6c83658db1df5a" category="paragraph">クラスタで定義するノードの数に応じて、 ONTAP Select では HA 機能を利用できます。たとえば、 4 ノードクラスタは 2 つの HA ペアで構成されます。ONTAP Select で使用される HA アーキテクチャは、非共有のストレージモデルに基づいています。つまり、 HA ペアの一方のノードは、もう一方のノードが所有するストレージに直接アクセスできません。この設計は、 ONTAP Select の特定の動作特性に影響する可能性があります。</block>
  <block id="799a3fe6cff876fa3027852cc5707a2e" category="section-title">容量ベースのライセンス</block>
  <block id="ac0038e6c040d26c9e742bc6b66ed6be" category="paragraph">ONTAP Select では、使用量に応じたライセンスモデルが導入されています。本番環境に ONTAP Select クラスタを導入する場合は、ストレージ容量を含むライセンスをノードごとまたは共有容量プールごとに購入する必要があります。Deploy ユーティリティを使用して、クラスタノードのストレージ容量を確立するライセンスファイルを適用する必要があります。</block>
  <block id="1881f93f26871d54aaa9ae5669b15643" category="section-title">ONTAP 機能のライセンス</block>
  <block id="3a621a06fd7d2a8267661a7bbea67799" category="paragraph">ONTAP Select クラスタ内の各ノードには、 ONTAP のいくつかの機能を使用するためのライセンスが自動的に付与されます。これらの機能ライセンスを手動でインストールしたり適用したりする必要はありません。</block>
  <block id="7718fb3bf518427efc070f44f598bda4" category="section-title">ONTAP の機能は ONTAP Select ではサポートされていません</block>
  <block id="614a7784cfcb44e896f7945455f42f95" category="paragraph">一部の ONTAP 機能は ONTAP Select ではサポートされません。ほとんどの場合、これらの機能には仮想化された ONTAP Select 環境で使用できない特殊なハードウェアが必要です。</block>
  <block id="e400270296a47b2c68bd6e799fac399d" category="list-text">Fibre Channel Fibre Channel と Fibre Channel over Ethernet はサポートされていません。</block>
  <block id="d00e5e6179a113ecbf710d36aa88e4fd" category="list-text">インターフェイスグループインターフェイスグループ（ IFGRP ）はサポートされていません。</block>
  <block id="4980ffa00c517c7cc63e35e9bb2badc8" category="list-text">ヘルスモニタは、ハードウェアベースの ONTAP 環境で使用される従来のヘルスモニタは、基盤となるハードウェアコンポーネントに固有です。ONTAP Select で使用される仮想環境が原因で、ヘルスモニタはアクティブになりません。</block>
  <block id="00bbd977d1e0bcd12815512c500c80c0" category="list-text">NIC オフロードのサポート ONTAP Select で使用される仮想環境が原因で、 NIC オフロードファシリティはサポートされません。</block>
  <block id="0deeb1230c395c3d0c86df9b8fedbb62" category="list-text">クラスタ IPspace ポートの追加や削除など、クラスタ IPspace に対する変更はサポートされません。</block>
  <block id="ae17b3d1f56509708706e25dfd3adfc7" category="list-text">ONTAP ポートのプロパティ速度、二重モード、フロー制御などの ONTAP ポートのプロパティの変更はサポートされていません。</block>
  <block id="b77e0c9663536ba98dbe087f083ddb67" category="list-text">サービスプロセッサ</block>
  <block id="aaeb4231dd9f4da475d71f9212010cdd" category="list-text">ネットアップストレージ暗号化ドライブ</block>
  <block id="8da27c9807c6310706509a1de032f09d" category="summary">Remote Office / Branch Office （ ROBO ；リモートオフィス / ブランチオフィス）環境に ONTAP Select を導入すると、一元管理と制御を維持しながら小規模オフィスをサポートできます。</block>
  <block id="013485d31ea8ca75d1419c0b4dd45b82" category="doc">リモートオフィス、ブランチオフィス</block>
  <block id="af36814e297efa189dc368e83c963051" category="paragraph">VMware ESXi でサポートされる ROBO 構成は次のとおりです。</block>
  <block id="109618c0f78244b5e6ea3ed0f37dbe8c" category="list-text">HA 機能を備えた 2 ノードクラスタ</block>
  <block id="8b223dc7087ae077b733962bc5c66fff" category="list-text">シングルノードクラスタ</block>
  <block id="84c58882c8429c8f8515c3e7a653c06f" category="paragraph">ONTAP Select VM は、アプリケーション VM と一緒に配置できるため、 ROBO に最適な解決策 になります。</block>
  <block id="c351b410431306a0c6c9b4caf19ded4f" category="paragraph">ONTAP Select を使用してエンタープライズクラスのファイルサービスを提供しながら、他の ONTAP Select クラスタや FAS クラスタとの双方向のレプリケーションが可能であるため、ロータッチまたはローコストの環境で耐障害性に優れたソリューションを構築できます。ONTAP Select には、 CIFS 、 NFS 、 iSCSI の各プロトコルサービス、および SnapMirror と SnapVault の両方のレプリケーションテクノロジの機能ライセンスが付属しています。したがって、これらの機能はすべて導入後すぐに使用できます。</block>
  <block id="c2389d581045462585c7d00fa4f67273" category="admonition">すべての VMware vSphere ライセンスがサポートされているため、 Enterprise または Enterprise Plus ライセンスの代わりに、 vSphere Remote Office Branch Office Standard または Advanced ライセンスを選択できます。vSphere と VSAN のライセンスがすべてサポートされるようになりました。</block>
  <block id="6c7d730bef94b94b16a0eea89a48d7ef" category="paragraph">リモートメディエーターを備えた 2 ノードの ONTAP Select クラスタは、小規模なデータセンターに適した解決策 です。この構成では、 HA 機能は ONTAP Select によって提供されます。2 ノードの ONTAP Select ROBO 解決策 の最小ネットワーク要件は、 4 つの 1Gb リンクです。単一の 10Gb ネットワーク接続もサポートされています。もう 1 つのオプションとして、 VSAN で稼働する vNAS ONTAP Select 解決策 があります（ 2 ノードの VSAN ROBO 構成を含む）。この構成では、 HA 機能は VSAN によって提供されます。最後に、データを中心的な場所にレプリケートしているシングルノードの ONTAP Select クラスタは、汎用サーバ上に堅牢なエンタープライズデータ管理ツールを備えています。</block>
  <block id="a010bf6f84035155e1d8ee4620d22f8d" category="paragraph">次の図は、 ONTAP Select を使用する一般的なリモートオフィスの構成を示しています。スケジュールベースの SnapMirror 関係：メインのデータセンターに配置された自社開発のストレージアレイにリモートオフィスから定期的にデータをレプリケートします。</block>
  <block id="91b24599f00a58f1f331382707a0d6f2" category="paragraph">* リモート・オフィスから企業データ・センターへのスケジュールされたバックアップ *</block>
  <block id="8a52c9125fd5cf696cd865c130b46cf7" category="inline-image-macro">リモートオフィスから企業のデータセンターへのバックアップを定期的に行う</block>
  <block id="4823eec54391d8d1fd865ee32e32e7f9" category="paragraph"><block ref="4823eec54391d8d1fd865ee32e32e7f9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b73167eee5082eed4d7d4c53de18c738" category="summary">ONTAP Select クラスタを作成したあと、さまざまな管理タスクを実行して導入をサポートできます。注意が必要な一般的な考慮事項がいくつかあります。</block>
  <block id="1af7e96c06b83a1ff6aad6bd1d3d9fa0" category="doc">ONTAP Select の管理を開始する前に</block>
  <block id="0a4ded0e98055bab8bb8d671237cbb41" category="paragraph">通常、 Deploy の Web インターフェイスを使用して実行できる手順は、 3 つのカテゴリのいずれかに分類されます。</block>
  <block id="8ac5a3287e4e90f608c76123f7cc8cc9" category="list-text">シングルノードクラスタまたはマルチノードクラスタを導入できます。を参照してください <block ref="8960a42bb3966948f7d3da21fe228cd9" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="7240361efa7b7e8fb691be159c841032" category="section-title">ONTAP Select の管理</block>
  <block id="b17f851c8c795b6901827ea1c4df2042" category="paragraph">ONTAP Select のサポートの一環として、さまざまな管理手順が用意されています。また、 Deploy 管理ユーティリティに固有の手順があります。これらの手順のうち、最も重要なものを以下に示します。通常は、 Deploy の Web ユーザインターフェイスを使用します。管理プロセスは、 1 つのステップバイステップタスクまたは複数のタスクのシーケンスで構成できます。</block>
  <block id="9dd37a863a3425f3f1c4f538142509e4" category="admonition">コマンドラインインターフェイスを使用して ONTAP Select を管理することもできます。詳細については、「 CLI_ の使用」を参照してください。</block>
  <block id="c4d963c19242b00c1072fff4f0eea04d" category="section-title">追加の ONTAP 設定を実行しています</block>
  <block id="0fb174aac34fc88ecff0007976e876b6" category="paragraph">ONTAP Select クラスタを導入したら、ハードウェアベースの ONTAP システムの場合と同様にクラスタを設定および管理できます。たとえば、 OnCommand システムマネージャまたは ONTAP CLI を使用して、 ONTAP Select クラスタを設定できます。</block>
  <block id="da70b9ce263d0deac21a9bdc090db697" category="paragraph">サポート対象である次のネットアップクライアントソフトウェアを使用して ONTAP Select に接続できます。</block>
  <block id="d9c98a8b6e04d84858048370d4a88105" category="list-text">OnCommand システムマネージャ</block>
  <block id="9504a3fa6a28404c323a25da156b03a2" category="list-text">OnCommand Unified Manager の略</block>
  <block id="80cfc325513e645edcbfe7f2ecd208ec" category="list-text">OnCommand パフォーマンスマネージャ</block>
  <block id="32c236bbc7c47900f75310cfa59abd2a" category="list-text">OnCommand Insight</block>
  <block id="8e23e05fc0865e950d6a3581e0dd8ce9" category="list-text">OnCommand Workflow Automation のサポートを利用できます</block>
  <block id="5c014f8939a89da0166a347a0237cf4f" category="list-text">SnapCenter</block>
  <block id="8bee8a4fc5b5bcf0c54218c00ea1ffae" category="list-text">Virtual Storage Console for VMware vSphere</block>
  <block id="189d1cb951ac55dbbc9b4e50417cce4a" category="paragraph">クライアントソフトウェアのサポート対象のバージョンを特定するには、 _NetApp Interoperability Matrix Tool _ を参照してください。クライアントソフトウェアが ONTAP 9 をサポートしている場合は、同じバージョンが ONTAP Select でもサポートされます。</block>
  <block id="b3e69561c86e401b4332c1e91fa71151" category="admonition">SnapCenter と対応するプラグインを使用するには、サーバベースのライセンスが必要です。SnapCenter プラグインのストレージシステム単位のライセンスは、現在 ONTAP Select ではサポートされていません。</block>
  <block id="aef13422544b986f17fc92f060a8874e" category="paragraph">リストに含まれていないその他のネットアップクライアントソフトウェアは、 ONTAP Select ではサポートされていません。</block>
  <block id="8959cdd9b2a6cd26717de49f0b4bbbb0" category="paragraph">クラスタの設定時にはいくつかのオプションを使用できます。次に例を示します。</block>
  <block id="620e81c66c131f0b1e414614fed0e418" category="list-text">ネットワーク設定を作成します</block>
  <block id="cea548261425f3d897f63b97e936d640" category="list-text">アグリゲートのレイアウト</block>
  <block id="fbe12f72d0ac5802617b4f23c55e5e59" category="list-text">データ Storage Virtual Machine （ SVM ）の作成</block>
  <block id="c644c0897d8dc8d07dc010b0a5d1b341" category="paragraph">ONTAP Select クラスタの導入の一環として、ストレージ容量を含むライセンスファイルをインストールしない場合は、購入ライセンスを使用して実行するクラスタの猶予期間が終了する前に、ライセンスファイルを入手してインストールする必要があります。</block>
  <block id="92d7efa0a9c4eca7052897e58341d0b6" category="paragraph">Deploy 管理ユーティリティで作成されたデータスペアディスクは、使用可能なデータストアスペース（ Pool0 および Pool1 など）から各 ONTAP Select ノードに作成されます。マルチノードクラスタにデータの高可用性を実装するには、これらのスペアを使用してミラーされたアグリゲートを作成する必要があります。</block>
  <block id="167b2e8c89f5ceb184efcaf133c27779" category="paragraph">コマンドラインインターフェイスを使用して、 Deploy 仮想マシンの管理者アカウントのパスワードを必要に応じて変更できます。</block>
  <block id="6946015929ad4f656738c88a1535f3e0" category="list-text">管理者アカウントを使用して、 Deploy ユーティリティの CLI にサインインします。</block>
  <block id="79f41a0e0ccd4b8ecf18041e9a81199d" category="list-text">パスワードを変更します :'password modify</block>
  <block id="82127225cef946e77040d2fd1420db6f" category="list-text">環境に応じて、すべてのプロンプトに応答します。</block>
  <block id="e94fcecbba43e9dc52109bded1878e47" category="summary">高可用性オプションを確認して、環境に最も適した HA 構成を選択してください。</block>
  <block id="a2aed8c01fc695836bd76d6f5b7a2ad9" category="doc">ハイアベイラビリティ構成</block>
  <block id="80ca7f43f3e672c21243bfefe6098be3" category="paragraph">お客様はアプリケーションワークロードをエンタープライズクラスのストレージアプライアンスからコモディティハードウェアで動作するソフトウェアベースのソリューションに移行し始めていますが、耐障害性とフォールトトレランスに対するニーズや期待は変わりません。Recovery Point Objective （ RPO ；目標復旧時点）がゼロの HA 解決策 は、インフラスタック内のコンポーネント障害によるデータ損失からお客様を保護します。</block>
  <block id="0ef73cf573ab623e48c8765c1452e768" category="paragraph">SDS 市場の大部分は、シェアードナッシングストレージという概念の上に成り立っています。これは、ソフトウェアレプリケーションでユーザデータの複数のコピーを複数のストレージサイロにまたがって格納することで、データの耐障害性を実現するというものです。ONTAP Select は、この前提の基に、 ONTAP 付属の同期レプリケーション機能（ RAID SyncMirror ）を使用してクラスタ内にユーザデータのコピーを追加で保存します。これは HA ペアのコンテキスト内で実行されます。HA ペアは、ユーザデータのコピーをローカルノードのストレージに 1 つ、 HA パートナーのストレージに 1 つ、合わせて 2 つ格納します。ONTAP Select クラスタ内では、 HA と同期レプリケーションが統合されており、 2 つの機能を切り離したり個別に使用したりすることはできません。そのため、同期レプリケーション機能はマルチノードソリューションでのみ使用できます。</block>
  <block id="a8b7bdf88cbd08284f532780de97bdc9" category="admonition">ONTAP Select クラスタでは、同期レプリケーション機能は HA の機能であり、非同期の SnapMirror または SnapVault レプリケーションエンジンに代わるものではありません。同期レプリケーションを HA から切り離して使用することはできません。</block>
  <block id="09d3fcf3c714254bae4dd086fa373525" category="paragraph">ONTAP Select HA 導入モデルには、マルチノードクラスタ（ 4 、 6 、または 8 ノード）と 2 ノードクラスタの 2 つがあります。2 ノード ONTAP Select クラスタの注目すべき特徴は、スプリットブレインの状況を解決するために外部のメディエーターサービスを使用する点です。ONTAP Deploy VM は、設定するすべての 2 ノード HA ペアのデフォルトのメディエーターとして機能します。</block>
  <block id="804ffdef469129703e5227d67e21dd9c" category="paragraph">この 2 つのアーキテクチャを次の図に示します。</block>
  <block id="5d3c6cd71a8566de0c4154a7f8ca5e5f" category="paragraph">* ローカル接続ストレージ * を使用した 2 ノード ONTAP Select クラスタ。リモートメディエーター付き</block>
  <block id="2940b0a833a0524f0732f30e82611b6b" category="inline-image-macro">2 ノード ONTAP Select クラスタとリモートメディエーター、ローカル接続ストレージを使用</block>
  <block id="c26afca4e8418ad343623bce37683cc9" category="paragraph"><block ref="c26afca4e8418ad343623bce37683cc9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d4e9645ad2fb7265e31744685cca3125" category="admonition">2 ノード ONTAP Select クラスタは、 1 つの HA ペアとメディエーターで構成されます。各 HA ペアでは、各クラスタノード上のデータアグリゲートが同期ミラーリングされ、フェイルオーバーが発生した場合にデータが失われることはありません。</block>
  <block id="95fab51ff3ed2ff90df7a55762547bbd" category="inline-image-macro">ローカル接続ストレージを使用する 4 ノード ONTAP Select クラスタ</block>
  <block id="ffb05b328379c1dffa641c1ba93aca3d" category="paragraph">* ローカル接続ストレージを使用する 4 ノード ONTAP Select クラスタ *<block ref="c354f89f34c66a854f2da4e182a40617" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2831575438836cee124b33df55390d64" category="list-text">4 ノード ONTAP Select クラスタは、 2 つの HA ペアで構成されます。6 ノードクラスタと 8 ノードクラスタは、それぞれ 3 つと 4 つの HA ペアで構成されます。各 HA ペアでは、各クラスタノード上のデータアグリゲートが同期ミラーリングされ、フェイルオーバーが発生した場合にデータが失われることはありません。</block>
  <block id="225cc277f791638702a4dff29a2879c4" category="list-text">DAS ストレージを使用している場合、物理サーバ上に存在できる ONTAP Select インスタンスは 1 つだけです。ONTAP Select は、システムのローカル RAID コントローラに排他的にアクセスする必要があり、かつローカル接続ディスクを管理するように設計されているため、ストレージとの物理的な接続が不可欠です。</block>
  <block id="ad2564443c4e9f2c60b5bb1417738d90" category="paragraph">FAS アレイとは異なり、 HA ペアの ONTAP Select ノードは、専用の IP ネットワーク経由で通信します。IP ネットワークが Single Point of Failure （ SPOF ；単一点障害）となるため、ネットワークパーティションやスプリットブレインの状況から保護することが、設計上の重要な要素となります。マルチノードクラスタでは、 1 つのノードで障害が発生しても残りの 3 つ以上のノードでクラスタクォーラムを確立可能なため、運用を継続できます。2 ノードクラスタでは、 ONTAP Deploy VM がホストするメディエーターサービスを使用して同様の保護が実装されます。</block>
  <block id="a3784525e4d792db17e41bb29af4c46a" category="paragraph">ONTAP Select ノードと ONTAP Deploy メディエーターサービスの間のハートビートネットワークトラフィックは最小限かつ耐障害性があるため、 ONTAP Deploy VM を 2 ノード ONTAP Select クラスタとは別のデータセンターでホストすることが可能です。</block>
  <block id="e617840733785416906631545fc8bc27" category="admonition">2 ノードクラスタのメディエーターとして機能する場合、 ONTAP Deploy VM はそのクラスタに不可欠な要素です。メディエーターサービスを使用できない場合、 2 ノードクラスタはデータの提供を続けますが、 ONTAP Select クラスタのストレージフェイルオーバー機能は無効になります。このため、 ONTAP Deploy のメディエーターサービスは、 HA ペアの各 ONTAP Select ノードとの安定的な通信を維持する必要があります。クラスタクォーラムを適切に機能させるには、最小帯域幅が 5Mbps 、 RTT （最大ラウンドトリップ時間）が 125 ミリ秒でなければなりません。</block>
  <block id="9acebd769845274c8d82366af60a54bd" category="paragraph">メディエーターとして機能する ONTAP Deploy VM が一時的に使用できない場合、または永久に使用できなくなる可能性がある場合は、セカンダリ ONTAP Deploy VM を使用して 2 ノードクラスタクォーラムをリストアできます。その結果、新しい ONTAP Deploy VM は ONTAP Select ノードを管理できませんが、クラスタクォーラムのアルゴリズムには問題なく追加されます。ONTAP Select ノードと ONTAP Deploy VM の間の通信には、 IPv4 経由の iSCSI プロトコルが使用されます。ONTAP Select ノードの管理 IP アドレスがイニシエータで、 ONTAP Deploy VM の IP アドレスがターゲットです。したがって、 2 ノードクラスタを作成する場合、ノード管理 IP アドレスの IPv6 アドレスはサポートできません。2 ノードクラスタの作成時に、 ONTAP Deploy でホストされるメールボックスディスクが自動的に作成され、適切な ONTAP Select ノード管理 IP アドレスにマスクされます。設定はすべてセットアップ時に自動的に行われ、管理操作は不要です。クラスタを作成する ONTAP Deploy インスタンスが、そのクラスタのデフォルトのメディエーターとなります。</block>
  <block id="29062e0cabe7e39198f10a37f133228f" category="paragraph">メディエーターの元の場所を変更する必要がある場合は、管理操作が必要です。元の ONTAP Deploy VM が失われた場合でもクラスタクォーラムをリカバリすることは可能ですが、ネットアップでは、 2 ノードクラスタがインスタンス化されるたびに ONTAP Deploy データベースをバックアップすることを推奨します。</block>
  <block id="47e419c14abec01f3f254dab003a6aba" category="section-title">2 ノード HA と 2 ノードストレッチ HA （ MetroCluster SDS ）の比較</block>
  <block id="568e700bfd84bf09ea449e03f0b63ec2" category="paragraph">2 ノードのアクティブ / アクティブ HA クラスタをより長い距離に伸長し、各ノードを異なるデータセンターに配置することが可能です。2 ノードクラスタと 2 ノードストレッチクラスタ（別名 MetroCluster SDS ）の唯一の違いは、ノード間のネットワーク接続距離です。</block>
  <block id="576271d358b861b1da59de8d0b9547e8" category="paragraph">2 ノードクラスタとは、同じデータセンター内にある 2 つのノードが 300m 以内の範囲に配置されているクラスタです。一般に、両方のノードには、同じネットワークスイッチまたは一連の Interswitch Link （ ISL ；スイッチ間リンク）ネットワークスイッチへのアップリンクがあります。</block>
  <block id="4e83e8addeafe73c3acbe68952183177" category="paragraph">2 ノード MetroCluster SDS とは、別の部屋、別の建物、別のデータセンターなど、物理的に 300m 以上離れたノードを持つクラスタです。さらに、各ノードのアップリンク接続は、別々のネットワークスイッチに接続されます。MetroCluster SDS には専用ハードウェアは必要ありません。ただし、環境はレイテンシの要件（ RTT の最大 5 ミリ秒とジッタの 5 ミリ秒の合計 10 ミリ秒）と物理距離の要件（最大 10km ）に準拠している必要があります。</block>
  <block id="04392e82fbee6fd91224b767c3bcd4ae" category="paragraph">MetroCluster SDS はプレミアム機能であり、 Premium ライセンスが必要です。Premium ライセンスは、中小規模の VM のほか、 HDD および SSD メディアの作成をサポートします。</block>
  <block id="526a514c4ab4ec984314911904c226e7" category="admonition">MetroCluster SDS は、ローカル接続ストレージ（ DAS ）と共有ストレージ（ vNAS ）の両方でサポートされます。通常、 vNAS 構成では、 ONTAP Select VM と共有ストレージとの間のネットワークが原因で、本来のレイテンシが大きくなります。MetroCluster SDS 構成では、共有ストレージのレイテンシを含め、ノード間で最大 10 ミリ秒のレイテンシを実現する必要があります。つまり、これらの構成では共有ストレージのレイテンシを無視できないため、 Select VM 間のレイテンシを測定するだけでは不十分です。</block>
  <block id="d1bf7b4cf1d6b51999a759865fb8c66b" category="summary">ONTAP Select Deploy は、 ONTAP Select クラスタの導入と管理に使用する管理ユーティリティです。</block>
  <block id="b6943de2133c238e306c67b38531d08a" category="paragraph">ONTAP Select Deploy は、 ONTAP Select クラスタの導入と管理に使用する管理ユーティリティです。Deploy は Linux 仮想マシンとしてパッケージ化されており、 ONTAP Select クラスタを作成する前にインストールする必要があります。</block>
  <block id="18914260ff1331086bb4f623954868b7" category="section-title">コア機能</block>
  <block id="698aa0dd671b5b993023a07e123f2593" category="paragraph">Deploy 管理ユーティリティでは、次の主要機能が実行されます。</block>
  <block id="1b1c16ec37c8bf2740179c3e5a17886c" category="list-text">ONTAP Select を導入する各ハイパーバイザーホストの詳細を記録します</block>
  <block id="e3cceac7427608a7729dffeaaed7299e" category="list-text">ホストを設定し、必要なライセンスをインストールします</block>
  <block id="295d4d82ef679542571aee4259b8332a" category="list-text">ONTAP Select クラスタを導入および管理する</block>
  <block id="7e4e89f009bf91671c031500309b364e" category="list-text">ONTAP Select のクラスタとホストのインベントリを維持する</block>
  <block id="576672cf0438650d804fe86699dfb2e6" category="list-text">AutoSupport データを収集してネットアップに送信</block>
  <block id="b4a65a69c491fb9c6977b7d37c971dc4" category="list-text">ONTAP Select ノードイメージの内部セットを保持します</block>
  <block id="a5d165208ee79e1e52d0fab270d9d9f3" category="list-text">ハイパーバイザー固有のコマンド形式とプロトコルをサポートします</block>
  <block id="db150684ad3c26748ca005606a37bc64" category="section-title">Deploy ユーティリティにアクセスする方法</block>
  <block id="818ee2a50b0efd3b0d795b284a96048e" category="paragraph">Deploy 管理ユーティリティへのアクセス時にはいくつかのオプションを使用できます。すべての外部インターフェイスは機能的に同じです。導入の目標と要件に最も適したアクセスオプションを選択する必要があります。いずれの場合も、有効なパスワードを持つ管理者アカウントを使用してサインインする必要があります。</block>
  <block id="a678448725863a8de1badedbf9fd3c20" category="section-title">Web グラフィカルユーザインターフェイス</block>
  <block id="b16b6a8c321bf7f5df5434c2ec306d4f" category="paragraph">最新の Web ブラウザを使用して Deploy ユーティリティにアクセスできます。Web GUI には、直観的で使いやすいインターフェイスが用意されています。ほとんどの場合、ユーティリティの使用時に Web GUI がプライマリインターフェイスになります。</block>
  <block id="31581907c3d44270d8d9879f8e2de965" category="section-title">コマンドラインインターフェイス</block>
  <block id="572bdb8b69501a98995ebfe23c114b9c" category="paragraph">テキストベースのコマンドラインインターフェイスは、管理シェルを通じて使用できます。CLI 管理シェルには次の方法でアクセスできます。</block>
  <block id="fe3e97a91ec45eebec3962d20c2fe29b" category="list-text">Secure Shell （ SSH ） Secure Shell （ SSH ）</block>
  <block id="9680d35972a24ebb22f5a59e3b95339c" category="list-text">仮想マシンコンソール</block>
  <block id="0e99d66ffc2e1cbe4f9640a47ccf0e84" category="paragraph">通常は、インストールおよび初期設定プロセスの一環として、仮想マシンのコンソールを使用します。ただし、ほとんどの場合、 SSH ではより柔軟で便利なオプションが提供されます。</block>
  <block id="df361f20ecfabafddc5a621ad675f40d" category="section-title">REST Web サービス API</block>
  <block id="a17aee918f5d8d3e59d7df9a03fcfb55" category="paragraph">外部クライアントに公開される REST Web サービス API は、 Deploy ユーティリティへの接続時にもう 1 つのオプションを提供します。API には、 REST Web サービスをサポートする主流のプログラミング言語やツールを使用してアクセスできます。一般的な選択肢：</block>
  <block id="a7f5f35426b927411fc9231b56382173" category="list-text">Python</block>
  <block id="d52387880e1ea22817a72d3759213819" category="list-text">Java</block>
  <block id="a644dc138df7d0c401873bce71f0e35e" category="paragraph">プログラミング言語またはスクリプト言語を使用すると、 ONTAP Select クラスタの導入と管理を自動化する機会が得られます。</block>
  <block id="8ebd1344c93d8e08bc61f2dc03d61190" category="section-title">ONTAP Select オンラインドキュメント Web ページ</block>
  <block id="0588dd5d1e237f367a708f3882c5ace2" category="paragraph">Deploy ユーティリティでオンラインドキュメントの Web ページを表示することは、 REST Web サービス API にアクセスするもう 1 つの方法です。ただし、プログラミング言語を使用する代わりに、ブラウザから管理 API にアクセスできます。提供される機能は次のとおりです。</block>
  <block id="41135afdff50f50326a0b3280f5c237f" category="list-text">REST Web サービス API の各呼び出しの詳細な概要</block>
  <block id="2e5c76cc61f02737a5908fc250234407" category="list-text">任意の API 呼び出しを手動で問題 する機能</block>
  <block id="0e68718563c850d8c86e630de430e588" category="paragraph">Deploy 仮想マシンの IP またはドメイン名を使用して、オンラインドキュメントページにアクセスできます。ページを表示するには、ブラウザに次の形式の URL を入力します（お使いの Deploy VM インスタンスに対応する IP アドレスまたはドメイン名に置き換えてください）：「 \ http://&lt;ip_address&gt;/api/ui` 」</block>
  <block id="4d09b06d3f1c9f3b24f2fc22fbc1f4d8" category="summary">ONTAP Select Deploy に付属の REST API には、バージョン番号が割り当てられます。API のバージョン番号は、 Deploy のリリース番号とは関係ありません。Deploy のリリースに含まれている API のバージョンと、 API の使用にどのような影響があるかを確認しておく必要があります。</block>
  <block id="ac966fd996f684f0395b996d1d4fecbc" category="doc">API のバージョン管理を導入</block>
  <block id="2f73e96f40faeb03ac034ff609003901" category="paragraph">Deploy 管理ユーティリティの最新リリースには、バージョン 3 の REST API が含まれています。Deploy ユーティリティの以前のリリースには、次のバージョンの API が含まれていました。</block>
  <block id="ca0ce8abfbb59d3bd0a2e0f5d40191b1" category="list-text">2.8 以降を導入します</block>
  <block id="ee96497e5f8492301dc62602f0d43712" category="list-text">ONTAP Select Deploy 2.8 以降のすべてのリリースには、 REST API のバージョン 3 が含まれています。</block>
  <block id="04de579c1894992d6db449edfae40cea" category="list-text">2.7.2 以前のバージョンを導入します</block>
  <block id="90d8a60c5d8da54341e7fbd934d3024e" category="list-text">ONTAP Select Deploy 2.7.2 およびそれ以前のすべてのリリースには、 REST API のバージョン 2 が含まれています。</block>
  <block id="1e65c8b003833561b006ff8f81c74d0a" category="admonition">REST API のバージョン 2 と 3 には互換性がありません。バージョン 2 の API を含む以前のリリースから Deploy 2.8 以降にアップグレードする場合は、コマンドラインインターフェイスを使用して、 API に直接アクセスする既存のコードおよびスクリプトを更新する必要があります。</block>
  <block id="fc33e5682a7d6ccc0d64dac217fb6d25" category="summary">最新バージョンを実行していない場合は、以前のリリースの ONTAP Select に関するドキュメントを参照できます。</block>
  <block id="245ffbb9d9e1af7e4e1bfde85cc60e07" category="doc">以前のバージョンの ONTAP Select ドキュメント</block>
  <block id="8a088d567fa6e887a32f49c59fcc4049" category="paragraph">最新バージョンを実行していない場合は、以前のリリースの ONTAP Select に関するドキュメントを参照できます。以前のサポート対象リリースで KVM ハイパーバイザーを使用する場合に必要なドキュメントにアクセスすることもできます。</block>
  <block id="fa748407272b92f3705a6294bcb1b272" category="summary">HA を使用して 2 ノードクラスタを導入する場合は、他のクラスタノード構成と同じ計画と構成を使用します。ただし、 2 ノードクラスタを作成する場合に注意しなければならない相違点がいくつかあります。</block>
  <block id="53a40851af0b9784d82acc5102b9a119" category="doc">HA 構成の ONTAP Select 2 ノードクラスタ</block>
  <block id="82832646cc7df221178fe8916e5a23e9" category="paragraph">2 ノードクラスタは 1 つの HA ペアで構成されており、リモートオフィス / ブランチオフィス環境向けに設計されています。</block>
  <block id="54aaa6ee7399230a91d2a15c45452cf9" category="admonition">主にリモートオフィス / ブランチオフィス環境向けに設計されていますが、必要に応じてデータセンターに 2 ノードクラスタを導入することもできます。</block>
  <block id="a9382dea8ff78f3e42708768d8374fed" category="paragraph">任意の VMware vSphere ライセンスを使用して、 2 ノードクラスタを導入できます。ただし、 VMware ROBO Standard と Advanced のライセンスはリモートオフィス / ブランチオフィス環境に適しています。</block>
  <block id="629de471ebcc58755321b61a566eef22" category="paragraph">クラスタが 2 つのノードで構成されている場合は、ノードに障害が発生したり、通信が失われたりすると、必要なクォーラムを確保できません。このようなスプリットブレイン状態を解決するために、 ONTAP Select Deploy ユーティリティの各インスタンスにはメディエーターサービスが用意されています。このサービスは、アクティブな 2 ノードクラスタ内の各ノードに接続して HA ペアを監視し、障害の管理を支援します。メディエーターサービスは、各 2 ノードクラスタに関連付けられている専用の iSCSI ターゲットで HA の状態情報を管理します。</block>
  <block id="c1ad136623477bdf7e9903f4d2cd10b1" category="admonition">アクティブな 2 ノードクラスタが 1 つ以上ある場合は、クラスタを管理する ONTAP Select Deploy 仮想マシンが常時稼働している必要があります。Deploy 仮想マシンが停止するか、障害が発生すると、メディエーターサービスが使用できなくなり、 2 ノードクラスタの HA 機能が失われます。</block>
  <block id="38da2c2103ef987f4862381c4a4c2339" category="paragraph">通常、 2 ノードクラスタはリモートオフィスまたはブランチオフィスに導入されるため、企業データセンターおよび管理サポートを提供する Deploy ユーティリティから離れた場所に配置できます。この構成では、 Deploy ユーティリティとクラスタの間の管理トラフィックは WAN を経由します。制限事項と制限事項の詳細については、リリースノートを参照してください。</block>
  <block id="f2b1b246e8c1326b576cc904e17de1bb" category="paragraph">Deploy の設定データは、クラスタの作成後も含めて定期的にバックアップすることを推奨します。バックアップにはメディエーターの設定データが含まれるため、 2 ノードクラスタではバックアップが特に重要です。</block>
  <block id="e5b41f4225b398db953f0053c56d6542" category="summary">ONTAP Select の調査と導入の計画を開始するにあたって、まず用語や主な概念を理解しておくと役立ちます。</block>
  <block id="c2bc0ae1706759fd80fd4a8f16903a8d" category="doc">用語と主要な概念</block>
  <block id="391a56271aac0c7272e3e9bc2a840da1" category="list-text">ONTAP Select Deploy は、 ONTAP Select クラスタの導入に使用する管理ユーティリティです。Deploy ユーティリティは、専用の Linux 仮想マシンで実行されます。Deploy ユーティリティには、 Web ユーザインターフェイス、 CLI 管理シェル、および REST API を使用してアクセスできます。</block>
  <block id="153e118152db4eb4b3aaf5802efa8cfa" category="list-text">a_hypervisor host_ は、 ONTAP Select 仮想マシンをホストするコアハードウェアプラットフォームです。ハイパーバイザーホストに導入されてアクティブになった ONTAP Select 仮想マシンは、 _ ONTAP Select Node_. とみなされます。</block>
  <block id="016402ba882e183fec09aa422afcb53e" category="list-text">ONTAP Select クラスタ</block>
  <block id="91881c8fd4a4fec4ec8625e86028b1b0" category="list-text">作成する ONTAP Select cluster_は 、 1 ノード、 2 ノード、 4 ノード、 6 ノード、または 8 ノードで構成できます。マルチノードクラスタには、必ず 1 つ以上の HA ペアが含まれます。たとえば、 4 ノードクラスタは 2 つの HA ペアで構成されます。シングルノードクラスタには HA 機能はありません。</block>
  <block id="85b0e2165794c108ba013b7cf182db29" category="list-text">ハイパーバイザーホスト環境の準備</block>
  <block id="6fad2c05f92dba415c7e46f30eb18bfb" category="list-text">Deploy 管理ユーティリティを使用して ONTAP Select クラスタを導入する前に、ストレージ環境とネットワーク環境を含む、 ONTAP Select を実行するハイパーバイザーホストを準備する必要があります。このホストの事前設定は、現在の要件と制限事項に基づいて、 ONTAP Select 製品の外部で実行されます。</block>
  <block id="a4a70d8adb3d58d565cfe32be8f1006c" category="list-text">評価および本番環境への導入</block>
  <block id="65fdbd15cf008e0ee4b19686040fe08d" category="list-text">すべての ONTAP Select ノードは、 _evaluation license_or_purchased license_で 実行されます。評価用ライセンスを使用すると、本番環境に導入する前に ONTAP Select を評価できます。評価用ライセンスが自動的に生成されて適用されます。本番環境にクラスタを導入する場合は、次のいずれかを選択してライセンスを購入する必要があります。</block>
  <block id="1e738b21b4088a71993efbdd8baca955" category="list-text">ライセンスモデル</block>
  <block id="83f73443b8e5ae5f7dc3654ef7bffac3" category="list-text">ストレージ容量</block>
  <block id="2d97b8a3010b7d7eb0dc173f2d9af444" category="list-text">プラットフォームライセンスの提供</block>
  <block id="dd2cce5aedf6d2f673323b5aa2546e29" category="list-text">容量階層のライセンスモデルは、 ONTAP Select 環境のストレージをライセンスする場合の最初のオプションです。この値は、 NetApp AFF および FAS で使用される ONTAP モデルに基づいています。ノードごとに個別のライセンスが必要です。ストレージ容量はノードにロックされ、永続的に更新されることはありません。</block>
  <block id="54f1ce370f3764196052d27fb5bc23bd" category="list-text">容量プールのライセンスモデルは、 Deploy 2.10 を使用して ONTAP Select 9.5 で導入されました。ストレージ容量プールごとに個別のライセンスが必要です。容量プールライセンスは、ライセンスマネージャインスタンス（ Deploy インスタンス）にロックされており、購入条件に基づいて更新する必要があります。組織内の任意の数の容量プールにライセンスを付与して使用できます。ただし、容量プールは ONTAP Select ノードで共有されるため、一般に、容量階層のライセンスよりも少ない数のライセンスが必要になります。</block>
  <block id="da2d544df7edf3f50bd8cae1e601264a" category="list-text">License Manager の略</block>
  <block id="e77002bd32b8903c6909b75ca9d0986b" category="list-text">License Manager は、容量プールのライセンスをサポートするソフトウェアコンポーネントです。現時点では、 Deploy 管理ユーティリティに含まれています。LM は、管理対象の共有プールから ONTAP Select ノードにストレージをリースします。_License Lock ID_ は、各 LM インスタンスを一意に識別する数値文字列であるため、各 Deploy インスタンスを識別します。容量プールライセンスのシリアル番号と LLID の両方を使用してライセンスファイルを生成する必要があります。</block>
  <block id="6ce3d683f11be5f1e22f253158d4c047" category="list-text">プラットフォームライセンスの提供</block>
  <block id="3cfbc322e3cddd57d170712cdb477d47" category="list-text">ライセンスの購入時に ONTAP Select 仮想マシンのサイズ機能を決定するライセンスサービスは 3 種類あります。</block>
  <block id="b23921d037d566b4c86b49c1a7df885c" category="paragraph">詳細については、 2 つのセクション _Plan_and _License_. を参照してください。</block>
  <block id="0bc2f0b52f71747c660272aed0ae049b" category="list-text">ストレージプールとデータストアの比較</block>
  <block id="88f2b69e46c782f548718ec1e46e374d" category="list-text">ONTAP Select ストレージプールは、基盤となる物理ストレージを抽象化して見えなくすることを目的として設計された論理データコンテナです。ストレージプールはハイパーバイザーに依存しません。ESXi ハイパーバイザーホストに導入した ONTAP Select ストレージプールは、 vmware_datastore__ と同義です。</block>
  <block id="b29945d8f2baa1d8d6f0173c13e17127" category="list-text">クラスタ MTU は、 ONTAP Select マルチノードクラスタで使用される内部ネットワークで使用される MTU サイズを設定できる機能です。Deploy 管理ユーティリティは、ネットワーク環境に合わせて HA ペアを設定する際に MTU サイズを調整します。値は手動で設定することもできます。</block>
  <block id="8146798c3a58748cf36a3686cf1080c1" category="list-text">ONTAP Select vNAS</block>
  <block id="ceadd042106e2e6e38c086059f6d92ed" category="list-text">ONTAP Select vNAS 解決策 を使用すると、 ONTAP Select ノードから外付けストレージ上の VMware データストアにアクセスできます。ONTAP Select vNAS では、ローカルの RAID コントローラが必要ありません。 RAID 機能はリモートストレージが提供します。ONTAP Select vNAS の設定方法は次のとおりです。</block>
  <block id="500c7e4a0b475daf983a1d345400eab1" category="paragraph">どちらの場合も、 ONTAP Select クラスタの作成前または既存のノードのストレージ容量の拡張前に、外付けストレージを設定する必要があります。</block>
  <block id="fde0c0297b9a602c524bc90fa4046c15" category="list-text">ノードを再ホストしています</block>
  <block id="82166e37834867840aa4138c1d0fc9a2" category="list-text">ONTAP Select vNAS 解決策 （ VMware vSAN または汎用の外付けストレージアレイ）を介して利用可能な外付けストレージを使用するクラスタを導入すると、 ONTAP Select ノードをホストする ESXi 仮想マシンを、次の VMware の機能を利用して移動できます。</block>
  <block id="6c1a84b789b54fd42511ce582be94d21" category="list-text">vMotion</block>
  <block id="91382f342b0426a94cda249d98215456" category="paragraph">ONTAP Select Deploy ユーティリティは、クラスタで実行される次のような処理の一環として、仮想マシンの移動を検出します。</block>
  <block id="f233a4495de11c850f2f950fdcf04f43" category="list-text">クラスタがオンラインです</block>
  <block id="80a4efc6a0539a2b0ec5182e3e552b8a" category="list-text">クラスタがオフラインです</block>
  <block id="8f640a3c65205453464e1cf24cc47039" category="list-text">ストレージの追加</block>
  <block id="3c0e5ec8c56207121b85850c28697f1b" category="paragraph">仮想マシンが移動されると、 Deploy ユーティリティはその内部データベースを更新して、新しい ESXi ホストを設定します。ONTAP Select ノードで実行されるすべての操作は、仮想マシンの移動と Deploy による更新が完了するまでブロックされます。</block>
  <block id="430715a64a3d17a55636a8254ceda4b3" category="list-text">ONTAP Select Deploy ユーティリティには、アクティブな 2 ノードクラスタ内のノードに接続するメディエーターサービスが含まれています。このサービスは各 HA ペアを監視し、障害の管理を支援します。</block>
  <block id="0c84667a56b6c4af08d4d19104f54079" category="admonition">アクティブな 2 ノードクラスタが 1 つ以上ある場合は、クラスタを管理する ONTAP Select Deploy 仮想マシンが常時稼働している必要があります。Deploy 仮想マシンが停止すると、メディエーターサービスが使用できなくなり、 2 ノードクラスタの HA 機能が失われます。</block>
  <block id="0ffe501fe086c67c3769d18d093b040d" category="list-text">MetroCluster SDS</block>
  <block id="3413c9ff161800be72d32031c8ce680a" category="list-text">MetroCluster SDS は、 2 ノード ONTAP Select クラスタを導入する際に追加の設定オプションを提供する機能です。通常の 2 ノード ROBO 環境とは異なり、 MetroCluster SDS ノードはより長い距離で分離できます。この物理的な分離により、ディザスタリカバリなど、さらに多くのユースケースに対応できます。MetroCluster SDS を使用するには、 Premium ライセンス以上が必要です。また、ノード間のネットワークで最小レイテンシ要件がサポートされている必要があります。</block>
  <block id="a2a3387842d1c8945343b658a1f0ebe5" category="list-text">クレデンシャルストア</block>
  <block id="2712763e1eece71f32b2b5ac2b407fc5" category="list-text">Deploy クレデンシャルストアは、セキュアなデータベース保持アカウントのクレデンシャルです。主に、新しいクラスタの作成時にハイパーバイザーホストを登録するために使用されます。詳細については、 _Plan_Section を参照してください。</block>
  <block id="fd18465573ec21a6218982055981f6b1" category="list-text">ストレージ効率</block>
  <block id="423954cad6922467121a80645e239eab" category="list-text">ONTAP Select では、 FAS アレイや AFF アレイとほぼ同じ Storage Efficiency オプションが提供されます。概念的には、直接接続型ストレージ（ DAS ） SSD を搭載した ONTAP Select （プレミアムライセンスを使用）は、 AFF アレイに似ています。HDD を搭載した DAS と vNAS 構成をすべて FAS アレイと同様に検討してください。この 2 つの構成の主な違いは、 DAS SSD を搭載した ONTAP Select では、インラインアグリゲートレベルの重複排除とアグリゲートレベルのバックグラウンド重複排除がサポートされる点です。残りの Storage Efficiency オプションは、両方の構成で使用できます。</block>
  <block id="08ce1ccebecba2c0d7882cbaf516df52" category="paragraph">vNAS のデフォルト構成では、 Single Instance Data Logging （ SIDL ）と呼ばれる書き込み最適化機能が有効になります。ONTAP Select 9.6 以降のリリースでは、バックグラウンドの ONTAP の Storage Efficiency 機能は SIDL を有効にして認定されます。詳細については、「 _Deep Dive 」セクションを参照してください。</block>
  <block id="b23e7417b5586a4f61be9e35dc573c79" category="list-text">クラスタの更新</block>
  <block id="fdd4493009c6ff1abb79748d95baf6a5" category="list-text">クラスタの作成後、 ONTAP またはハイパーバイザー管理ツールを使用して、 Deploy ユーティリティ以外でクラスタまたは仮想マシンの設定を変更できます。また、構成を変更する仮想マシンを移行することもできます。この変更が行われた場合、 Deploy ユーティリティは自動的には更新されず、クラスタの状態と同期していない可能性があります。クラスタの更新機能を使用して、 Deploy 構成データベースを更新できます。クラスタの更新は、 Deploy の Web ユーザインターフェイス、 CLI 管理シェル、 REST API を使用して実行できます。</block>
  <block id="cb7eb9d776ea3a35e4332b008a0d3f33" category="list-text">ソフトウェア RAID</block>
  <block id="a74754f3e0ef6a5ec48499da6d42fe6a" category="list-text">DAS （直接接続型ストレージ）を使用する場合、 RAID 機能は従来、ローカルのハードウェア RAID コントローラを通じて提供されていました。ONTAP Select ノードが RAID 機能を提供する _software raid_ を使用するようにノードを設定することもできます。ソフトウェア RAID を使用する場合、ハードウェア RAID コントローラは不要になります。</block>
  <block id="37820bb98a74e718dcb62cbc8e1295e8" category="list-text">ONTAP Select イメージのインストール</block>
  <block id="c861565e46192ae0f20f00e3a3b602be" category="inline-link-macro">詳細については、 ONTAP Select イメージを追加してください</block>
  <block id="9c13102dc44cca374c5d0285b9e39e99" category="list-text">ONTAP Select Deploy 2.8 以降では、 Deploy 管理ユーティリティに含まれる ONTAP Select のバージョンは 1 つだけです。含まれているバージョンは、リリース時に最新のバージョンです。たとえば、 Deploy 2.8 には ONTAP Select 9.4 が含まれています。ONTAP Select イメージのインストール機能を使用すると、以前のバージョンの ONTAP Select を Deploy ユーティリティのインスタンスに追加できます。このユーティリティは、 ONTAP Select クラスタの導入時に使用できます。を参照してください <block ref="9252191d0d6c29910ebabc98ee426eb0" category="inline-link-macro-rx"></block>。</block>
  <block id="d61023e353390dbf815ce45ad3d78411" category="admonition">ONTAP Select イメージは、 Deploy のインスタンスに含まれている元のバージョンよりも前のバージョンでのみ追加してください。新しいバージョンの ONTAP Select がリリースされたときに、そのバージョンを追加することはできません。</block>
  <block id="b6916597ca4fb596035c95675806adc4" category="list-text">ONTAP Select クラスタの導入後の管理</block>
  <block id="5552d2e42187f5ce0bb8b3e93af40a15" category="list-text">ONTAP Select クラスタを導入したら、ハードウェアベースの ONTAP クラスタの場合と同様にクラスタを設定できます。たとえば、 System Manager または標準の ONTAP コマンドラインインターフェイスを使用して、 ONTAP Select クラスタを設定できます。</block>
  <block id="b1d42ed6470398387d373e3f35d8d69e" category="paragraph"><block ref="b1d42ed6470398387d373e3f35d8d69e" category="inline-link-macro-rx"></block></block>
  <block id="c17dae9b9d3b729444b86ade708fe369" category="summary">ワークフロープロセスを確認して使用するための準備をしておく必要があります。</block>
  <block id="356a4d5d9ecf4143d145e008bc71423d" category="doc">API ワークフローを使用する前に</block>
  <block id="4e9340308dca4d4fa10ce0a1c9d5c96a" category="section-title">ワークフローで使用する API 呼び出しについて</block>
  <block id="0224e614246b594584218c9734c56792" category="paragraph">ONTAP Select のオンラインドキュメントページに、すべての REST API 呼び出しの詳細が記載されています。ここでは、それらの詳細を繰り返すのではなく、ワークフローのサンプルで使用している各 API 呼び出しについて、その呼び出しをドキュメントページで見つけるために必要な情報だけを示しています。特定の API 呼び出しを検索すると、入力パラメータ、出力形式、 HTTP ステータスコード、要求処理タイプなど、呼び出しのすべての詳細を確認できます。</block>
  <block id="457726be17407daf1c955d43ea661695" category="paragraph">ワークフロー内の各 API 呼び出しについて、ドキュメントページで検索するのに役立つ次の情報が含まれています。</block>
  <block id="a0e175c4a86ddae0d96d9c1eb3e4191e" category="list-text">カテゴリ：ドキュメントページでは、機能的な関連領域またはカテゴリ別に API 呼び出しが分類されています。特定の API 呼び出しを検索するには、ページの一番下までスクロールして、該当する API カテゴリをクリックします。</block>
  <block id="aa543e5a2132aa3a020b15fdc1da2fd7" category="list-text">HTTP 動詞 HTTP 動詞は、リソースに対して実行する操作を示します。各 API 呼び出しは、単一の HTTP 動詞を使用して実行されます。</block>
  <block id="0ff9c4f7adefaa9e8a4168484857c91b" category="list-text">パス：このパスは、呼び出しの実行中に環境 が処理する特定のリソースを指定します。パス文字列がコア URL に追加され、リソースを識別する完全な URL が形成されます。</block>
  <block id="3af7790bee98254ae139d4927f1bb354" category="section-title">REST API に直接アクセスするための URL の作成</block>
  <block id="87bd6f8ac1592b651399711e8b152c36" category="paragraph">ONTAP Select のドキュメントページに加え、 Python などのプログラミング言語を使用して、 Deploy REST API に直接アクセスすることもできます。この場合のコア URL は、オンラインドキュメントページにアクセスするときに使用する URL とは少し異なります。API に直接アクセスする場合は、ドメインとポートの文字列に /api を追加する必要があります。たとえば、「 ¥ http://deploy.mycompany.com/api` 」と入力します</block>
  <block id="05ffc17c3e8a6fdd92e24a989e42e18a" category="summary">Deploy API 呼び出しはすべて、 Deploy 仮想マシンへの HTTP 要求として実行され、クライアントへの関連する応答が生成されます。この要求と応答のペアで API トランザクションが構成されます。Deploy API を使用する前に、要求の制御に使用できる入力変数と応答出力の内容を理解しておく必要があります。</block>
  <block id="fc068ae597c9019f5d61b19badc39991" category="doc">要求と応答の API トランザクション</block>
  <block id="ee083ff11ffc430b7230624e8985e88c" category="section-title">API 要求を制御する入力変数</block>
  <block id="869e6dc728e38d775facad14a0c9efd3" category="paragraph">API 呼び出しの処理方法は、 HTTP 要求で設定されたパラメータを使用して制御できます。</block>
  <block id="736943e80c16e2be98d8595e6376e4ee" category="section-title">要求ヘッダー</block>
  <block id="a7111a714c720c29d0d2a8932d4424ea" category="paragraph">HTTP 要求には、次のようなヘッダーを含める必要があります。</block>
  <block id="132fe99a23ca6a1ca4d88d32e525b864" category="list-text">content-type 要求の本文に JSON が含まれている場合は、このヘッダーを application/json に設定する必要があります。</block>
  <block id="f2c960eda4860fcdaddd129b9175c5e4" category="list-text">応答の本文に JSON が含まれる場合は受け入れます。このヘッダーを application/json に設定する必要があります。</block>
  <block id="8291e43bd5d9f3562e7a031fa85be497" category="list-text">認証基本認証は、 base64 文字列でエンコードされたユーザ名とパスワードを使用して設定する必要があります。</block>
  <block id="a3ba8461439f7d0176ef3944696ea2ac" category="section-title">本文を要求します</block>
  <block id="973ab3cad185dec8eac7662330e49f1c" category="paragraph">要求の本文の内容は、それぞれの呼び出しに応じて異なります。HTTP 要求の本文は、次のいずれかで構成されます。</block>
  <block id="653ae722fb090e3a9fc063611abef183" category="list-text">JSON オブジェクトと入力変数（新しいクラスタの名前など）</block>
  <block id="ce2c8aed9c2fa0cfbed56cbda4d8bf07" category="list-text">空です</block>
  <block id="ac860c2e604ebd01436860da72828954" category="section-title">オブジェクトのフィルタリング</block>
  <block id="0438b035fcfcfd3b3c333dd8d993e532" category="paragraph">GET を使用する API 呼び出しを発行する際、返されるオブジェクトを任意の属性に基づいて制限またはフィルタできます。たとえば、一致する正確な値を指定できます。</block>
  <block id="1fc998fba92eac6c354078a63d749232" category="paragraph">`&lt; フィールド &gt;=&lt; クエリ値 &gt;`</block>
  <block id="25041bc69b63937cf425ec83e2bd9c14" category="paragraph">完全一致に加えて、他の演算子を使用して、一連のオブジェクトを一定範囲の値で返すことができます。ONTAP Select では、次のフィルタ演算子がサポートされています。</block>
  <block id="e1b3ec89ead7f83a9245ed5c9cacfdbf" category="cell">演算子</block>
  <block id="43ec3e5dee6e706af7766fffea512721" category="cell">=</block>
  <block id="495c04002891bebf41bc3b56507f6d6b" category="cell">等しい</block>
  <block id="524a50782178998021a88b8cd4c8dcd8" category="cell">&lt;</block>
  <block id="ad647e4ae904c7ed54ee93040d8298c7" category="cell">より小さい</block>
  <block id="cedf8da05466bb54708268b3c694a78f" category="cell">&gt;</block>
  <block id="05824b7be006782aaefd1fdb97c71e06" category="cell">が次の値より大きい</block>
  <block id="a7eeaea90b4e8312b88abcd178019929" category="cell">&lt;=</block>
  <block id="28d1141142e2cbb29e657b69a044ddf4" category="cell">が次の値以下です</block>
  <block id="3a1e9b87c94b54dec1202b5ca6539806" category="cell">&gt;=</block>
  <block id="798fe01fcb2754a295b6937ed885a69a" category="cell">が次の値以上である必要があります</block>
  <block id="3a2d5fe857d8f9541136a124c2edec6c" category="cell">または</block>
  <block id="9033e0e305f247c0c3c80d0c7848c8b3" category="cell">！</block>
  <block id="9bc7de899cf1c0d3ada046cd81f96aff" category="cell">と等しくない</block>
  <block id="3389dae361af79b04c9c8e7057f60cc6" category="cell">*</block>
  <block id="05a8a074dcf1a74c3e6c55d4f730a475" category="cell">すべてに一致するワイルドカード</block>
  <block id="6e8c6564a4434e306c195dff039e81cc" category="paragraph">また、 null キーワードまたはその否定 (!null) をクエリの一部として使用して、特定のフィールドが設定されているかどうかに基づいてオブジェクトのセットを返すこともできます。</block>
  <block id="2f08bcc57922733e1370eca22c555f9e" category="section-title">オブジェクトフィールドの選択</block>
  <block id="3cad18b6aa836c66d68e06a2f74677cd" category="paragraph">デフォルトでは、 GET を使用する API 呼び出しを発行すると、オブジェクトを一意に識別する属性のみが返されます。この最小のフィールドセットは、各オブジェクトのキーとして機能し、オブジェクトタイプによって異なります。fields query パラメータを使用すると、次の方法で追加のオブジェクトプロパティを選択できます。</block>
  <block id="6fba3dd33e922ac3871f240d3ba6bc87" category="list-text">安価なフィールドは 'fields=*' を指定して ' ローカル・サーバ・メモリに保持されているオブジェクト・フィールドを取得するか ' アクセスするためにほとんど処理を必要としません</block>
  <block id="2ea32ad6f111d9391ec1be239697c33a" category="list-text">高価なフィールドでは 'fields=**' を指定して ' 追加のサーバ処理を必要とするオブジェクトフィールドも含め ' すべてのオブジェクトフィールドを取得します</block>
  <block id="91363c226b1c43abdcb31d241132f816" category="list-text">カスタムフィールドの選択では、「 fieldName=fieldName 」を使用して、目的のフィールドを指定します。複数のフィールドを要求する場合は、スペースを入れずにカンマで区切る必要があります。</block>
  <block id="77d0745501f75f80a53928f88ec4aaff" category="admonition">ベストプラクティスとして、必要なフィールドを常に個別に指定することを推奨します。安価なフィールドや高コストのフィールドは、必要な場合にのみ取得してください。低コストでコストな分類は、ネットアップが社内パフォーマンス分析に基づいて決定します。特定のフィールドの分類は、いつでも変更できます。</block>
  <block id="8b9514b4e7a0d660f91152d4a5baf424" category="section-title">出力セット内のオブジェクトのソート</block>
  <block id="a74fa78fa859c77326c1e4acbd897b57" category="paragraph">リソースコレクション内のレコードは、オブジェクトによって定義されたデフォルトの順序で返されます。ORDER BY クエリ・パラメータを使用して ' フィールド名とソート方向を次のように指定して順序を変更できます 'ORDER BY = &lt; フィールド名 &gt; asc | desc</block>
  <block id="9185beac915530f3841823a3d621deb7" category="paragraph">たとえば、タイプフィールドを降順にソートし、 id を昇順にソートできます。「 order_by= type desc 、 id asc 」</block>
  <block id="35f47ff7e3cab9069eae76509c43183a" category="paragraph">複数のパラメータを指定する場合は、各フィールドをカンマで区切る必要があります。</block>
  <block id="cbb81506a7fe3ef03f7a89c76c52131a" category="section-title">ページ付け</block>
  <block id="45b8101a1b578c6c6ace9843e70f6e41" category="paragraph">GET を使用する API 呼び出しを発行して同じタイプのオブジェクトのコレクションにアクセスする場合、一致するすべてのオブジェクトがデフォルトで返されます。必要に応じて、 max_records クエリパラメータを要求とともに使用して返されるレコード数を制限することもできます。たとえば 'max_crecords =20` です</block>
  <block id="bbd48ecef7bc095e289fa3887a784ba6" category="paragraph">必要に応じて、このパラメータを他のクエリパラメータと組み合わせて、結果セットを絞り込むことができます。たとえば、「 time=&gt; 2019-04-04T15 ： 41 ： 29.140265Z &amp; max_records = 10 」という指定時間を経過すると、最大 10 件のシステムイベントが生成されます</block>
  <block id="2e4c258cfe4bdac63ba4e642619023b8" category="paragraph">複数の要求を問題 で送信して、各イベント（または任意のオブジェクトタイプ）をページングできます。以降の API 呼び出しでは、前回の結果セットの最新イベントに基づいて新しい時間の値を使用する必要があります。</block>
  <block id="32bab1cda6687d8af3648df1b3e2f763" category="section-title">API 応答の解釈</block>
  <block id="c04ff1c19980b77153566e90c10e7b38" category="paragraph">各 API 要求でクライアントへの応答が生成されます。応答を調べて成功したかどうかを確認し、必要に応じて追加データを取得できます。</block>
  <block id="0a289f551402f1b0bba7f13be5d7fdc4" category="section-title">HTTP ステータスコード</block>
  <block id="c986189f350bc6b648267a3d1738bb1a" category="paragraph">Deploy REST API で使用される HTTP ステータスコードを次に示します。</block>
  <block id="ca0dbad92a874b2f69b549293387925e" category="cell">コード</block>
  <block id="7277de5f2ed6f17c61f1f25594591a82" category="cell">意味</block>
  <block id="3644a684f98ea8fe223c713b77189a77" category="cell">200</block>
  <block id="e0aa021e21dddbd6d8cecec71e9cf564" category="cell">わかりました</block>
  <block id="22dde4592ecf1a0346899f4796ac6a71" category="cell">新しいオブジェクトを作成しない呼び出しが成功したことを示します。</block>
  <block id="757b505cfd34c64c85ca5b5690ee5293" category="cell">201</block>
  <block id="0eceeb45861f9585dd7a97a3e36f85c6" category="cell">作成済み</block>
  <block id="22cf6ddb7569dd6b1aedabb24f53ebf0" category="cell">オブジェクトが作成されました。場所の応答ヘッダーにはオブジェクトの一意の識別子が含まれています。</block>
  <block id="854d6fae5ee42911677c739ee1734486" category="cell">202.</block>
  <block id="382ab522931673c11e398ead1b7b1678" category="cell">承認済み</block>
  <block id="1707e087999bd73c7cc0f80daeacecd4" category="cell">長時間のバックグラウンドジョブで要求の実行が開始されましたが、処理はまだ完了していません。</block>
  <block id="18d8042386b79e2c279fd162df0205c8" category="cell">400</block>
  <block id="0fc30646d5cf22910283967bf24ebf66" category="cell">無効な要求です</block>
  <block id="d61713af1a9c56d51f7fb3873bed7e92" category="cell">要求の入力が認識されないか不適切です。</block>
  <block id="bbf94b34eb32268ada57a3be5062fe7d" category="cell">403</block>
  <block id="722969577a96ca3953e84e3d949dee81" category="cell">禁止されている</block>
  <block id="8df9e8f24b204c91ad0a9031f9c09a16" category="cell">認証エラーによりアクセスが拒否されました。</block>
  <block id="4f4adcbf8c6f66dcfc8a3282ac2bf10a" category="cell">404</block>
  <block id="9e076f5885f5cc16a4b5aeb8de4adff5" category="cell">が見つかりません</block>
  <block id="24ff0a9484d837d82e7f8f8218e196b6" category="cell">要求で参照されているリソースが存在しません。</block>
  <block id="bbcbff5c1f1ded46c25d28119a85c6c2" category="cell">405</block>
  <block id="e84e55d186de7883e285e32fc32bfa7c" category="cell">メソッドを使用できません</block>
  <block id="b31830c86b1c157b55a508a7787e8dd3" category="cell">要求内の HTTP 動詞はリソースでサポートされていません。</block>
  <block id="a96b65a721e561e1e3de768ac819ffbb" category="cell">409</block>
  <block id="f1d4ac54357cc0932f385d56814ba7e4" category="cell">競合しています</block>
  <block id="47a99fc0005eeb289896eda4eb4b708a" category="cell">オブジェクトがすでに存在するため、オブジェクトの作成に失敗しました。</block>
  <block id="cee631121c2ec9232f3a2f028ad5c89b" category="cell">500</block>
  <block id="8f8913c1f755436db84ae169e37c61f9" category="cell">内部エラー</block>
  <block id="03f0e0f686ebd5f796ca9febd1723676" category="cell">サーバで一般的な内部エラーが発生しました。</block>
  <block id="5b69b9cb83065d403869739ae7f0995e" category="cell">501</block>
  <block id="d0d695099e39173eb72601dce2dbb05f" category="cell">実装されていません</block>
  <block id="6a295a8fedbd45bcd4578f6278e0ca0a" category="cell">URI は既知ですが、要求を実行できません。</block>
  <block id="56ecb97c626815b7f982c04e736f624b" category="section-title">応答ヘッダー</block>
  <block id="0d5569a5ac8ad2fffd1b14234e9d4ab5" category="paragraph">Deploy サーバによって生成される HTTP 応答には、次のようなヘッダーが含まれています。</block>
  <block id="b6b57c2dc02ed649b52c9031ec1455a1" category="list-text">request-id 成功したすべての API 要求には、一意の要求 ID が割り当てられます。</block>
  <block id="a30d2718f0fdcfe5c23f48539586f85a" category="list-text">Location ：オブジェクトが作成されると、一意のオブジェクト識別子を含む新しいオブジェクトへの完全な URL が格納されます。</block>
  <block id="38eee230c1573327fd210b5c3dda7e19" category="section-title">応答の本文</block>
  <block id="f47f49acab3f73b825eb8c116a3b0524" category="paragraph">API 要求に関連する応答の内容は、オブジェクト、処理タイプ、および要求の成功または失敗によって異なります。応答の本文は JSON 形式になります。</block>
  <block id="7793dcdc6b915e44942006b3b84299be" category="list-text">単一のオブジェクト単一のオブジェクトを要求に基づいて一連のフィールドとともに返すことができます。たとえば、 GET では、一意の識別子を使用してクラスタの選択したプロパティを取得できます。</block>
  <block id="5222675c6ab5c8ba90791142c42ebcd8" category="list-text">リソースコレクションから複数のオブジェクトを返すことができます。いずれの場合も ' 一貫性のある形式が使用されており 'num_records にはオブジェクト・インスタンスの配列を含むレコードおよびレコードの数が示されますたとえば、特定のクラスタに定義されているすべてのノードを取得できます。</block>
  <block id="c9f1da6b5b7409c7da04761eb6ab5d17" category="list-text">ジョブオブジェクト API 呼び出しが非同期で処理されると、バックグラウンドタスクのアンカーを設定するジョブオブジェクトが返されます。たとえば、クラスタの導入に使用された POST 要求は非同期で処理され、ジョブオブジェクトが返されます。</block>
  <block id="31a4cdc7a3905f0beb41dd7bd892b1dc" category="list-text">エラーオブジェクトエラーが発生した場合は、常にエラーオブジェクトが返されます。たとえば、既存の名前を使用してクラスタを作成しようとするとエラーが表示されます。</block>
  <block id="8e45a3791461b3e6303e1b50c8f3b4b8" category="list-text">空の場合もあります。データが返されず、応答の本文が空になっていることもあります。たとえば、 DELETE を使用して既存のホストを削除したあとは、応答の本文が空になります。</block>
  <block id="57435ff6365b47bc940de014278612a6" category="summary">ONTAP Select は、シングルノードとマルチノードの両方のネットワーク構成をサポートします。</block>
  <block id="9c89b5b400ebea57f7d064e4d4b5bcf0" category="doc">シングルノードおよびマルチノードのネットワーク構成</block>
  <block id="08b30ce2561ab391962cd16fab9f7ade" category="section-title">シングルノードネットワーク構成</block>
  <block id="0e84a49a4fa7dc25dea7bec248d98176" category="paragraph">シングルノード ONTAP Select 構成では、クラスタトラフィック、 HA トラフィック、ミラートラフィックが発生しないため、 ONTAP 内部ネットワークは必要ありません。</block>
  <block id="8d03bc67b26ae98c7d860161278a65cf" category="paragraph">マルチノードバージョンの ONTAP Select 製品とは異なり、各 ONTAP Select VM は 3 つの仮想ネットワークアダプタを搭載し、それぞれのアダプタを ONTAP ネットワークポート e0a 、 e0b 、 e0c に提供します。</block>
  <block id="eaca7a100ef09adc7602264897b66c6e" category="paragraph">これらのポートを使用して、管理 LIF 、データ LIF 、クラスタ間 LIF のサービスが提供されます。</block>
  <block id="42047a4e9b219b1d373da6cb2b59b533" category="paragraph">次の図に、これらのポートと基盤の物理アダプタとの関係を示します。この図は、 ESX ハイパーバイザー上にある 1 つの ONTAP Select クラスタノードを表しています。</block>
  <block id="5093c9208eea7ff9289430a1c3e95151" category="paragraph">* シングルノード ONTAP Select クラスタのネットワーク構成 *</block>
  <block id="8fd6b7f3bf166ee61a80086ed9caab0a" category="inline-image-macro">シングルノード ONTAP Select クラスタのネットワーク構成</block>
  <block id="47b702e0f5298b3d7148ac8640c0ab50" category="paragraph"><block ref="47b702e0f5298b3d7148ac8640c0ab50" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0b5053f67d0f3e8e15bd2cc1dbfc7cbe" category="admonition">シングルノードクラスタには 2 つのアダプタで十分ですが、 NIC チーミングは必要です。</block>
  <block id="7e8c1a3116d52d369ebe6fe6cbce4305" category="section-title">LIF の割り当て</block>
  <block id="99d497ac7973b32210589ab94dd7b344" category="paragraph">マルチノードの LIF の割り当てに関するセクションで説明したように、 ONTAP Select では、クラスタネットワークトラフィックをデータトラフィックと管理トラフィックから分離するために IPspace が使用されます。このプラットフォームのシングルノードバージョンにはクラスタネットワークが含まれません。したがって、クラスタ IPspace にはポートがありません。</block>
  <block id="8c34916d9238532d727c25a0ff5907d0" category="admonition">クラスタとノードの管理 LIF は、 ONTAP Select クラスタのセットアップ時に自動的に作成されます。残りの LIF は導入後に作成できます。</block>
  <block id="e30578590721340d217d9513bd91b429" category="section-title">管理 LIF とデータ LIF （ e0a 、 e0b 、 e0c ）</block>
  <block id="05b579364220b62d8168c11e95af7cf9" category="paragraph">ONTAP ポート e0a 、 e0b 、 e0c は、次のタイプのトラフィックを処理する LIF の候補ポートとして委譲されました。</block>
  <block id="de99fa4d6cb6a0abfa9782bff4917556" category="list-text">SAN / NAS プロトコルのトラフィック（ CIFS 、 NFS 、 iSCSI ）</block>
  <block id="e9e5c5ad36a830578197a08b4eae00a2" category="list-text">クラスタ、ノード、および SVM の管理トラフィック</block>
  <block id="ba6a74b58e40bc800064a14bc6da40fb" category="list-text">クラスタ間トラフィック（ SnapMirror 、 SnapVault ）</block>
  <block id="36e8927cc94b5812c317966274770785" category="section-title">マルチノードネットワーク構成</block>
  <block id="1ee591758cd33f1794a210d72aa96988" category="paragraph">マルチノードの ONTAP Select ネットワーク構成は、 2 つのネットワークで構成されます。</block>
  <block id="d2529d252133c09f1894e648b4ad0b06" category="paragraph">これらは、クラスタおよび内部レプリケーションサービスを提供する内部ネットワークと、データアクセスおよび管理サービスを提供する外部ネットワークです。この 2 つのネットワークを経由するトラフィックがエンドツーエンドで分離されていることは、クラスタの耐障害性を高める環境を構築できる点できわめて重要です。</block>
  <block id="7cb10733239aafdf1dec4b6fe3551ff7" category="paragraph">次の図は、 VMware vSphere プラットフォームで稼働する 4 ノードの ONTAP Select クラスタにおけるこの 2 つのネットワークを示しています。6 ノードクラスタと 8 ノードクラスタのネットワークレイアウトは似ています。</block>
  <block id="a26bb398479258470974859a18564418" category="admonition">各 ONTAP Select インスタンスは、別々の物理サーバに存在します。内部トラフィックと外部トラフィックは別々のネットワークポートグループを使用して分離されます。ネットワークポートグループは各仮想ネットワークインターフェイスに割り当てられ、クラスタノードは同じ物理スイッチインフラを共有できます。</block>
  <block id="a12d8dfe451f0b8f185a6eeda853cd32" category="paragraph">* ONTAP Select のマルチノードクラスタネットワーク構成の概要 *</block>
  <block id="e527595cf4df9c666be31f4431052de9" category="inline-image-macro">ONTAP Select のマルチノードクラスタネットワーク構成の概要</block>
  <block id="22c7c567a13870d1f1dba2a7991b1611" category="paragraph"><block ref="22c7c567a13870d1f1dba2a7991b1611" category="inline-image-macro-rx" type="image"></block></block>
  <block id="042fa335b33617e0504613410d951cee" category="paragraph">各 ONTAP Select VM には、 7 つのネットワークポート、 e0a~e0g のセットとして ONTAP に提示される 7 つの仮想ネットワークアダプタが含まれています。ONTAP はこれらのアダプタを物理 NIC として扱いますが、実際には仮想 NIC であり、仮想化されたネットワークレイヤを通じて一連の物理インターフェイスにマッピングされます。このため、各ホスティングサーバに 6 つの物理ネットワークポートを用意する必要はありません。</block>
  <block id="716214f4df800bad0b64b9864eb6df0c" category="admonition">ONTAP Select VM に仮想ネットワークアダプタを追加することはできません。</block>
  <block id="227b7c2d95b59ac04f9ae643de9418de" category="paragraph">これらのポートは、次のサービスを提供するように事前設定されています。</block>
  <block id="dfed40203870251ac83de34819d9a84c" category="list-text">e0a 、 e0b 、および e0g ：管理 LIF とデータ LIF</block>
  <block id="1ae30b6d1f1790644bc9193ae4ba3387" category="list-text">e0c 、 e0d 。クラスタネットワーク LIF</block>
  <block id="aee4d212b71eb85cbbab9e93b7d4510e" category="list-text">e0e 、RSM （ RSM ）</block>
  <block id="1fee3623af06debb4aca2bdfcd5e99c6" category="list-text">e0f ：HA インターコネクト</block>
  <block id="003c677f40ca2add849b2ce44c393bd2" category="paragraph">ポート e0a 、 e0b 、 e0g は外部ネットワークにあります。ポート e0c~e0f はそれぞれに異なる機能を実行しますが、全体として内部 Select ネットワークを構成します。ネットワーク設計を決める際には、これらのポートを同じ 1 つのレイヤ 2 ネットワークに配置する必要があります。これらの仮想アダプタを別々のネットワークに分ける必要はありません。</block>
  <block id="17d46a7d7bb7ff8130bb6c92c1c39a9b" category="paragraph">次の図は、これらのポートと基盤の物理アダプタとの関係を示しています。この図は、 ESX ハイパーバイザー上にある 1 つの ONTAP Select クラスタノードを表しています。</block>
  <block id="5de32627e07bc44e02b5b7a72873c8f4" category="paragraph">* マルチノード ONTAP Select クラスタ * の一部であるシングルノードのネットワーク構成</block>
  <block id="25f8da61e59ceaf2c1d505bc18eb66d1" category="inline-image-macro">マルチノード ONTAP Select クラスタの一部であるシングルノードのネットワーク構成</block>
  <block id="7b2a8e3c54109970829b900e2ced4f8a" category="paragraph"><block ref="7b2a8e3c54109970829b900e2ced4f8a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="98378fa18da3c0645d435b5226d60000" category="paragraph">内部と外部のトラフィックを異なる物理 NIC に分離することで、ネットワークリソースへの不十分なアクセスが原因でシステムに遅延が発生することを防止できます。NIC チーミングを使用したアグリゲーションによって、 1 つのネットワークアダプタで障害が発生しても、 ONTAP Select クラスタノードが対応するネットワークにアクセスできなくなることもありません。</block>
  <block id="d7bbd3d74f58b4b54a709ffe91973a83" category="paragraph">外部ネットワークポートグループと内部ネットワークポートグループの両方に、 4 つの NIC アダプタが対称的に含まれていることに注意してください。外部ネットワークポートグループのアクティブポートは、内部ネットワークのスタンバイポートです。逆に、内部ネットワークポートグループのアクティブポートは、外部ネットワークポートグループのスタンバイポートです。</block>
  <block id="a9e3193e927d53bf78d38869c944122d" category="paragraph">IPspace の導入に伴い、 ONTAP ポートロールは廃止されました。FAS アレイと同様に、 ONTAP Select クラスタにはデフォルト IPspace とクラスタ IPspace の両方が含まれます。ネットワークポート e0a 、 e0b 、 e0g をデフォルト IPspace に配置し、ポート e0c と e0d をクラスタ IPspace に配置することで、これらのポートが所属外の LIF をホストすることはなくなりました。ONTAP Select クラスタ内の残りのポートは、インターフェイスの自動割り当てを通じて使用されて内部サービスを提供します。RSM インターフェイスや HA インターコネクトインターフェイスと同様に、これらのポートに ONTAP シェルを通じてアクセスすることはできません。</block>
  <block id="3eebd1b3b1b48f64b34f4ec9f69c88aa" category="admonition">すべての LIF に ONTAP コマンドシェルからアクセスできるわけではありません。HA インターコネクトインターフェイスと RSM インターフェイスは ONTAP からは認識されず、内部で使用されてそれぞれのサービスを提供します。</block>
  <block id="789b6c546f7e8c469ee330dc82f89f9d" category="paragraph">ネットワークポートと LIF については、このあとのセクションで詳しく説明します。</block>
  <block id="63f0f087f13c0163420cdf331600d7da" category="section-title">管理 LIF とデータ LIF （ e0a 、 e0b 、 e0g ）</block>
  <block id="2749808c43a540c3bb429ba10f00f494" category="paragraph">ONTAP ポート e0a 、 e0b 、 e0g は、次のタイプのトラフィックを処理する LIF の候補ポートとして委譲されました。</block>
  <block id="e1279727a3e288e83709ff4d8d87a0bc" category="section-title">クラスタネットワーク LIF （ e0c 、 e0d ）</block>
  <block id="c4e1348cd1cb2b94fa73f9f1024e7fdb" category="paragraph">ONTAP のポート e0c と e0d は、クラスタインターフェイスのホームポートとして委譲されました。各 ONTAP Select クラスタノード内では、 ONTAP のセットアップ時にリンクローカルの IP アドレス（ 169.254.x.x ）を使用して自動的に 2 つのクラスタインターフェイスが生成されます。</block>
  <block id="4818cf4fe2c6f6879cfbca778f3edd50" category="admonition">これらのインターフェイスには静的 IP アドレスを割り当てることができず、クラスタインターフェイスを追加で作成することはできません。</block>
  <block id="f30678c36ec577758e47a558db374927" category="paragraph">クラスタネットワークトラフィックは、低レイテンシのルーティングされないレイヤ 2 ネットワークで処理される必要があります。クラスタのスループットとレイテンシの要件を満たすためには、 ONTAP Select クラスタを物理的に近い距離に配置する必要があります（たとえば複数のユニットからなる単一のデータセンターなど）。WAN 内または長距離に HA ノードを分離して、 4 ノード、 6 ノード、または 8 ノードのストレッチクラスタ構成を構築することはできません。メディエーターを使用した 2 ノードのストレッチ構成はサポートされています。</block>
  <block id="838ad6f06b85f4e42b1bb8d5e586f9ca" category="paragraph">詳細については、を参照してください <block ref="3a9138e6cecc138f508a809e03f2cd7a" category="inline-link-macro-rx"></block>。</block>
  <block id="8e1717d402d473f63acfe5730635acde" category="admonition">クラスタネットワークトラフィックのスループットを最大限にするため、このネットワークポートはジャンボフレーム（ 7 、 500~9 、 000MTU ）を使用するように設定されます。クラスタを適切に動作させるために、 ONTAP Select クラスタノードに内部ネットワークサービスを提供するアップストリームのすべての仮想スイッチと物理スイッチでジャンボフレームが有効になっていることを確認してください。</block>
  <block id="55e59e9fe203f6cf841ad620c7d26c2c" category="section-title">RAID SyncMirror トラフィック（ e0e ）</block>
  <block id="197d3477c3d32265ce3160a042044da5" category="paragraph">HA パートナーノード間でのブロックの同期レプリケーションは、ネットワークポート e0e 上の内部ネットワークインターフェイスを使用して実行されます。この処理は、クラスタセットアップ時に ONTAP で設定されたネットワークインターフェイスを使用して自動的に実行され、管理者による設定を必要としません。</block>
  <block id="8f4391a9d404587c00e0ed5981fd20ba" category="admonition">ポート e0e は、 ONTAP によって内部レプリケーショントラフィック用に予約されています。そのため、ポートもホストされている LIF も、 ONTAP の CLI や System Manager では認識されません。このインターフェイスは、自動生成されるリンクローカルの IP アドレスを使用するように設定され、別の IP アドレスに変更することはできません。このネットワークポートでは、ジャンボフレーム（ 7 、 500~9 、 000MTU ）を使用する必要があります。</block>
  <block id="0ab59d222687d551307eca66496d32d1" category="section-title">HA インターコネクト（ e0f ）</block>
  <block id="63ede206911936b3b35d229492df55a9" category="paragraph">NetApp FAS アレイは、専用のハードウェアを使用して ONTAP クラスタの HA ペア間で情報をやり取りします。ただし、 Software-Defined 環境ではこの種の機器（ InfiniBand デバイスや iWARP デバイスなど）が使用されないことが多いため、別の解決策 が必要となります。いくつかのオプションが検討されましたが、インターコネクトの転送に関する ONTAP の要件を満たすためには、この機能をソフトウェアでエミュレートする必要がありました。このため、 ONTAP Select クラスタ内では、 HA インターコネクトの機能（従来はハードウェアが提供）が OS に組み込まれ、イーサネットが転送メカニズムとして使用されます。</block>
  <block id="edce4bd15ff6c254afa285eb43dc9465" category="paragraph">各 ONTAP Select ノードに HA インターコネクトポート e0f が設定されます。このポートは、 HA インターコネクトのネットワークインターフェイスをホストし、次の 2 つの主要機能を提供します。</block>
  <block id="dfcf33eb6d98fc3d48778e85c7fdfa57" category="list-text">HA ペア間で NVRAM の内容をミラーリングします</block>
  <block id="65954c31156d8de51476aa38c5ae8752" category="list-text">HA ペア間で HA ステータス情報とネットワークハートビートメッセージを送受信する</block>
  <block id="0da7190be1a9e3798540fce60b98cf54" category="paragraph">イーサネットパケット内に Remote Direct Memory Access （ RDMA ）フレームをレイヤ化することで、 HA インターコネクトトラフィックは、単一のネットワークインターフェイスを使用してこのネットワークポートを経由します。</block>
  <block id="6369a606085b8e0293e126372a6fa3a5" category="admonition">RSM ポート（ e0e ）の場合と同様に、この物理ポートもホストされているネットワークインターフェイスも、 ONTAP CLI や System Manager では認識されません。このため、このインターフェイスの IP アドレスは変更できず、ポートの状態も変更できません。このネットワークポートでは、ジャンボフレーム（ 7 、 500~9 、 000MTU ）を使用する必要があります。</block>
  <block id="aa2fcb2cdb811557a9850bad1ec5d893" category="summary">Deploy 管理ユーティリティを VMware 環境にインストールする前に、基本的な要件を確認し、導入を成功させるための準備をしておきます。</block>
  <block id="2f82cc35d2ad5d25ae152e29eeb2e413" category="doc">Deploy ユーティリティのインストールに必要な情報</block>
  <block id="f58e71909f5da80382dae64f374dc79c" category="paragraph">Deploy 管理ユーティリティを VMware 環境にインストールする前に、必要な設定情報とオプションのネットワーク設定情報を確認して、導入を成功させるための準備をしてください。</block>
  <block id="afb48a56af012ba490b6f0c683ca069d" category="section-title">必要な設定情報</block>
  <block id="d9185ee4415c568b0cdb77e572a7390e" category="paragraph">導入計画の一環として、 ONTAP Select Deploy 管理ユーティリティをインストールする前に、必要な設定情報を特定しておく必要があります。</block>
  <block id="0b570abbf74d00b0ddac40b3df73bc38" category="cell">Deploy 仮想マシンの名前</block>
  <block id="cd27c0db3afcfe11031bba370c52b44c" category="cell">仮想マシンに使用する ID 。</block>
  <block id="f9d88c9f637be8c8b5e6b7e2e3c260b6" category="cell">ESXi ホストの名前</block>
  <block id="917fb117e2cda4349f05fa2b6eb4b44c" category="cell">Deploy ユーティリティをインストールする VMware ESXi ホストの識別子。</block>
  <block id="36f80feece86859ae3061e946ecbd5d2" category="cell">データストアの名前</block>
  <block id="f1268526c8bc8c0f963c359f74559874" category="cell">仮想マシンファイルを格納する VMware データストアの識別子（約 40GB が必要）。</block>
  <block id="e4e89d14bd02fe7b90bab4cb494078c8" category="cell">仮想マシンのネットワーク</block>
  <block id="8f6eb425fe672a82f3f3d94604e78f26" category="cell">Deploy 仮想マシンが接続されているネットワークの識別子。</block>
  <block id="d68b443bd8d19cbd04e6ac11a9c4e5c1" category="section-title">オプションのネットワーク構成情報</block>
  <block id="dc0dbca06687940c14e147cd5f17d675" category="paragraph">Deploy 仮想マシンは、デフォルトでは DHCP を使用して設定されます。ただし、必要に応じて、仮想マシンのネットワークインターフェイスを手動で設定できます。</block>
  <block id="0a355c4393c1a56055370fb4b9058ac5" category="cell">ネットワーク情報</block>
  <block id="7e479bcd42ddcf9cdd3981a2aaf316f6" category="cell">ホスト・マシンの識別子</block>
  <block id="8c8fd7ca4837547552e390579a444bbe" category="cell">ホストの IP アドレス</block>
  <block id="747ee4e24febca30ac019112ccf4eddd" category="cell">ホストマシンの静的 IPv4 アドレス。</block>
  <block id="3dccf72fe610d6922e392e93335fdb6d" category="cell">サブネットマスク</block>
  <block id="85aeb305b9f4971d93793bc84782eb14" category="cell">仮想マシンが属するネットワークに基づくサブネットワークマスク。</block>
  <block id="926dec9494209cb088b4962509df1a91" category="cell">ゲートウェイ</block>
  <block id="e4054bde6dc67a6507361aeb9df916ba" category="cell">デフォルトゲートウェイまたはルータ。</block>
  <block id="68eeeed01bf11dc7edb656408cbfd0b6" category="cell">プライマリ DNS サーバ</block>
  <block id="8b621ed6ecab40b87834ba280b2bae20" category="cell">プライマリドメインネームサーバ。</block>
  <block id="9fab0542abb763e3e75e782994d85d07" category="cell">セカンダリ DNS サーバ</block>
  <block id="f9af681ffe76058731402326b2c3b21c" category="cell">セカンダリドメインネームサーバ。</block>
  <block id="8eece195bddb7ef51bf3e3aaa23e7345" category="cell">検索ドメイン</block>
  <block id="b07c79f371126a8737e35942d21d74c3" category="cell">使用する検索ドメインのリスト。</block>
  <block id="18aa9ffac97cd2cbd587821ddbc3445c" category="summary">vCenter Server から Deploy プラグインを手動で削除できます。</block>
  <block id="5cfb4dff29c0b11cb7beaa787fb98170" category="doc">vCenter から Deploy プラグインを手動で削除します</block>
  <block id="3912fef7f331c409e32b2982edbfcd27" category="paragraph">最初に、 VMware Managed Object Browser （ MOB ）を使用してプラグインを削除してから、 vCenter サーバ内の vSphere ディレクトリからプラグインを削除します。</block>
  <block id="7d57c21298ef371568fea59ae4b9f9e7" category="paragraph">プラグインを手動で削除する必要があるインスタンスは複数あります。</block>
  <block id="3da89ed5c69da70870db02878b368c68" category="list-text">Deploy ユーティリティの標準のユーザインターフェイスを使用してプラグインを削除しましたが、 vCenter サーバをリブートできませんでした。</block>
  <block id="6162c1d59c5c1bf33938ca6b323f6845" category="list-text">プラグインを削除せずに Deploy ユーティリティを運用停止した。</block>
  <block id="605dd9dce7d0e56e46782bbbf2a6b95c" category="section-title">VMware MOB を使用したプラグインの削除</block>
  <block id="49ea1b524543ae0be3593f00a845cd53" category="paragraph">MOB は、 VMware vCenter サーバ上のオブジェクトの表示と管理を可能にする VMware アプリケーションです。MOB を使用して Deploy vCenter プラグインを削除できます。</block>
  <block id="ec0d3843231c3642993657b3d5d3f92a" category="list-text">ブラウザを使用して vCenter Server で MOB にアクセスし、サインインします。</block>
  <block id="59e6b68409220ab103f1e88e7608cbb4" category="paragraph">https://&lt;FQDN_or_IP-address&gt;/mob` にアクセスします</block>
  <block id="9ad6121cc15dcec627b98452841a6bdf" category="list-text">[*content*] をクリックし、 [*ExtensionManager*] をクリックします。</block>
  <block id="c8bffff78e68289139eec0abed0a35d5" category="list-text">削除する拡張子がフルネームであることを確認します。</block>
  <block id="8c1c2a8d74ad57abf40ffc51666657a5" category="paragraph">com.netapp.selectdeploy`</block>
  <block id="005d8cff3194b8567ae931dd1576fc32" category="list-text">[UnregisterExtension] をクリックします。</block>
  <block id="a5c8ff95d15aec61c80728034e8bcd9d" category="list-text">拡張子の名前を入力し、 *InvokeMethod* をクリックします。</block>
  <block id="11b9d763fbe0a6fb5fefb7237440d4b9" category="paragraph">拡張子のリストからプラグインが削除されます。</block>
  <block id="ca5af9bf1e80b0912f09c14fa91d60ef" category="section-title">vSphere UI フォルダからプラグインを削除しています</block>
  <block id="dec373b6d6a8ad00e4c233bb9c9ffb17" category="paragraph">vCenter サーバで vSphere UI ディレクトリを調べて、 Deploy プラグインが見つかった場合は削除します。</block>
  <block id="8fc7a8f158b5477e9507e54cb89bbb80" category="paragraph">vCenter Server での root アカウントのパスワードが必要です。vSphere MOB を使用してプラグインを削除する必要があります。</block>
  <block id="3252069ec740168a8f433292c7563f84" category="list-text">SSH を使用して vCenter Server にアクセスし、サインインします。</block>
  <block id="6f8b2f60af097c1c5add8269a3590afa" category="paragraph">ssh root@&lt;fqdn_or_IP-address&gt;</block>
  <block id="a5de3ffc1a0c1c6987e99310d1d35f94" category="list-text">「 * shell * 」と入力し、 Enter キーを押して Bash シェルを起動します。</block>
  <block id="73db451150aa3618131840676cb02830" category="list-text">vsphere-client-serenity ディレクトリに移動します。</block>
  <block id="be168880c40db9395103d9bfa164c632" category="paragraph">「 cd /etc/vmware/vsphere-clientui/vc-packages/vsphere-client-serenity 」と入力します</block>
  <block id="49c5e0f0dedad1c17619cc76235b2f20" category="list-text">削除する必要があるディレクトリが com.netapp.selectdeploy` の形式になっているかどうかを確認します</block>
  <block id="5986932f37571fe0047734a9249ddcf6" category="paragraph">「 ls -al 」と入力します</block>
  <block id="f1c6badf281fddd18411f49794e9980e" category="list-text">HTML5 vSphere UI Web クライアントを停止します。</block>
  <block id="fe179a5e6c3cce08786099d7d4f4c814" category="paragraph">「 service-control 」 -- 「 vsphere-ui 」を停止します</block>
  <block id="6f4ae5201e133da4618bc614db4b3e32" category="list-text">UI 拡張機能が含まれているディレクトリを削除します。</block>
  <block id="4f0a94adaa4298a4aa20764b16a97704" category="paragraph">rm -rf com.netapp.selectdeploy-1.0.0`</block>
  <block id="c1e2cb31649e74d4631cccc89d3eb05d" category="list-text">HTML5 vSphere UI Web Client を再起動します。</block>
  <block id="6b76a32b7668e5fed9b8e910943fdee7" category="paragraph">「 service-control -- start vsphere-ui 」を参照してください</block>
  <block id="1b36c4eb9469a55d472b8382b4bc50f6" category="paragraph">Deploy プラグインが再起動して使用可能になるまでに数分かかることがあります。</block>
  <block id="37834ff13998baa19a7c9a2ab18f95df" category="section-title">vSphere Client フォルダからプラグインを削除します</block>
  <block id="b4772c108736dc337bde78d98e2935c4" category="paragraph">vCenter Server の vSphere Client ディレクトリを調べて、見つかった場合は Deploy プラグインを削除します。Deploy プラグインは Flash を使用しませんが、プラグインの削除手順 の一部としてこのディレクトリを検証することを推奨します。</block>
  <block id="8381a868d5edb4b4ebcc0bb0af1bac20" category="paragraph">vCenter Server での root アカウントのパスワードが必要です。vSphere MOB を使用してプラグインを削除し、 vSphere UI ディレクトリからプラグインを削除する必要があります。</block>
  <block id="2785d0abe2f6c8e95fb3a29029b2eaef" category="list-text">vsphere-client-serenity ディレクトリに移動します。</block>
  <block id="aa0e2b46fe5e4b69f5175f6a3b3e02fc" category="paragraph">cd /etc/vmware/vsphere-client/vc-packages/vsphere-client-serenity</block>
  <block id="9f9e04939c9a7d18749a887e8003dd47" category="paragraph">「 service-control -- vsphere-stop vsphere-client 」と入力します</block>
  <block id="20874271d84839badcd9c3ae5390b0db" category="list-text">クライアント拡張機能が含まれているディレクトリを削除します。</block>
  <block id="fb1dff3ec52367cdb90456fabf48600c" category="paragraph">「 service-control -- start-vsphere-client 」と入力します</block>
  <block id="acd7d62c9b810f0d5861712e738fb732" category="summary">ソフトウェア RAID を使用してドライブに障害が発生した場合、 ONTAP Select はスペアドライブを使用し（使用可能な場合）、リビルドプロセスを自動的に開始します。これは、 FAS および AFF での ONTAP の動作と似ています。ただし、使用可能なスペアドライブがない場合は、 ONTAP Select ノードにスペアドライブを追加する必要があります。</block>
  <block id="aeb7169d045185953deed3c0de3865f8" category="doc">SW RAID 使用時の障害が発生したドライブの交換</block>
  <block id="d790a7cfad60ef9c4cf133fdbf5d8644" category="section-title">障害ドライブを特定します</block>
  <block id="307bdb5a979a863911e3c77799901dec" category="section-title">障害ドライブを取り外します</block>
  <block id="0ab4ad97846d3de95e1f2d091028d9ed" category="paragraph">障害が発生したドライブを特定したら、ディスクを取り外します。</block>
  <block id="eecedba88893e3e14bfd8006f68186d1" category="list-text">管理者アカウントを使用して、 Deploy Web ユーザインターフェイスにサインインします。</block>
  <block id="1d88fb2ec2792c4c9aaff05d6b9a9a61" category="list-text">[* Clusters] タブをクリックし、該当するクラスタを選択します。</block>
  <block id="2e0b8d072e1de4ee478380363f57b355" category="inline-image-macro">ノードの詳細</block>
  <block id="64c11884e097170a6e72247eea320bf1" category="paragraph"><block ref="64c11884e097170a6e72247eea320bf1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="75e8dc72b93c7f7ee01e2cb36bbc333c" category="list-text">[*+*] をクリックして、ストレージビューを展開します。</block>
  <block id="17f617f8d2c58af65d22060e5912def9" category="inline-image-macro">ノードストレージを編集します</block>
  <block id="ca81b5a57f9f45b8f5a5ed614247d449" category="paragraph"><block ref="ca81b5a57f9f45b8f5a5ed614247d449" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1e3819bb6533a4bcfa4aaee3e1845ba5" category="list-text">接続されているディスクに変更を加えるには、 * Edit * をクリックし、障害が発生したドライブのチェックを外します。</block>
  <block id="b9836614b20a631b5de199acc283120b" category="inline-image-macro">ストレージディスクの詳細</block>
  <block id="07062ec1d80e0bd6688e62b3065900e8" category="paragraph"><block ref="07062ec1d80e0bd6688e62b3065900e8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d569951343cc5b079fd32efb141a52b4" category="list-text">クラスタのクレデンシャルを入力し、 * Edit Storage * をクリックします。</block>
  <block id="823a6e1d7fe661be55dd3af05f972b11" category="inline-image-macro">ONTAP クレデンシャル</block>
  <block id="8d2ec8c7da544782f8948614fa29802a" category="paragraph"><block ref="8d2ec8c7da544782f8948614fa29802a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0d1008fb06b7595c8715c6fbdbf7f070" category="list-text">操作を確定します。</block>
  <block id="0eaadb4fcb48a0a0ed7bc9868be9fbaa" category="inline-image-macro">警告</block>
  <block id="11d0a0ba335cf3536f32765e00a89b91" category="paragraph"><block ref="11d0a0ba335cf3536f32765e00a89b91" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5b90396c69e41d536ea7c0b04e5adc76" category="section-title">新しいスペアドライブを追加します</block>
  <block id="47009daf3904e43d001448ff9e7709f6" category="paragraph">障害が発生したドライブを取り外したあと、スペアディスクを追加してください。</block>
  <block id="556696d309aaf81ce29c6a76f8f8a503" category="inline-image-macro">HA ペア</block>
  <block id="45b1406771c6783ad996c5f900649d3e" category="paragraph"><block ref="45b1406771c6783ad996c5f900649d3e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4fb7c9bf851323f24c0709d95818f7b1" category="paragraph"><block ref="4fb7c9bf851323f24c0709d95818f7b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c87cde8fc0704674ac7eebc5aeb05acb" category="list-text">[ * 編集 ] をクリックし、新しいドライブが使用可能であることを確認して選択します。</block>
  <block id="c23dd0988ced74624b54dfe472669701" category="paragraph"><block ref="c23dd0988ced74624b54dfe472669701" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5745af152ecc8b464559f811aa23d6fa" category="paragraph"><block ref="5745af152ecc8b464559f811aa23d6fa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="33627b673d322256698561b99c348e04" category="paragraph"><block ref="33627b673d322256698561b99c348e04" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1fa376cad2ffe76e02ea9d82c3eb6d9c" category="summary">容量プールのライセンスモデルは容量階層モデルと異なります。ストレージ容量は個々のノードに専用で割り当てるのではなく、プールに割り当てられて複数のノードで共有されます。容量プールモデルをサポートするために、追加のコンポーネントとプロセスが作成されています。</block>
  <block id="1a2858c08187c4c1503bdd84f6814aa7" category="doc">運用の詳細</block>
  <block id="bc2c6fe313e9f161e32c4c47e28ef5b4" category="paragraph">ライセンスマネージャは、 ONTAP Select Deploy 2.10 を使用して ONTAP Select 9.5 で導入されたソフトウェアコンポーネントです。LM は、 Deploy 管理ユーティリティの各インスタンス内で別々のプロセスとして実行されます。LM で提供される機能には、次のものがあります。</block>
  <block id="f80fce6ffa62c519c91dbe6256373e6e" category="list-text">容量プールのライセンスのシリアル番号に基づいて、各ノードの一意の 20 桁のシリアル番号を生成します</block>
  <block id="2b2888d3189fe96ab747317d559c34f6" category="list-text">ONTAP Select ノードからの要求に基づいて、共有容量プールから容量のリースを作成します</block>
  <block id="18267b7796271fa458d6c8f635e9cebb" category="list-text">Deploy ユーザインターフェイスを使用してプールの使用状況をレポートします</block>
  <block id="52e472917eedf9e8a785e7c56e92d749" category="section-title">リース特性</block>
  <block id="54e5aaa838921f915019ec44b1e43fa3" category="paragraph">容量プールライセンスを使用するノードで各データアグリゲート用に割り当てられるストレージには、関連付けられたリースが必要です。ノードはストレージリースを要求し、容量が使用可能な場合、 License Manager はリースで応答します。各リースには、次の明示的または暗黙的な属性があります。</block>
  <block id="5fe818f94cd9173f284c2cb187775708" category="list-text">ONTAP Select ノードごとに 1 つの License Manager インスタンスに関連づけられている License Manager</block>
  <block id="26151cc6bc3f2e8bac3b52e9a8cad859" category="list-text">容量プール：各 ONTAP Select ノードは 1 つの容量プールに関連付けられます</block>
  <block id="d671bee3ba61f48b2736b6e6d38fbf16" category="list-text">ストレージ割り当てリースでは、特定の容量値が割り当てられます</block>
  <block id="8a41c43a78c273b7090dd972cb11c8fa" category="list-text">有効期限日時リースの期間は、ユーザの設定に応じて 1 時間から 7 日間です。</block>
  <block id="8ddd4ae6565aad8e0220721a3b0b115f" category="paragraph">License Manager の各インスタンス、つまり、対応する Deploy ユーティリティのインスタンスは、一意の 128 ビット番号で識別されます。この番号は、プールを特定の License Manager インスタンス（実質的には Deploy インスタンス）にロックするために、 9 桁の容量プールライセンスシリアル番号と結合されます。ネットアップサポートサイトで NetApp License File （ NLF ）の生成の一環として両方の値を指定する必要があります。</block>
  <block id="c35b911ba82c4e39b4517e38d1a88551" category="paragraph">次の方法で Web ユーザインターフェイスを使用して、 Deploy インスタンスのライセンスロック ID を確認できます。</block>
  <block id="93147ad40002fa287e2077d09284c452" category="list-text">[ はじめに ] ページこのページは、 Deploy に初めてサインインすると表示されます。ページの右上にあるドロップダウンボックスをクリックして、 [ はじめに ] を選択して、ページを表示することもできます。LLID は [ ライセンスの追加 ] セクションに表示されます。</block>
  <block id="f51e8d01c52b31dc2ac35fcbc93eca28" category="list-text">管理ページ上部の * 管理 * タブをクリックし、 * システム * および * 設定 * をクリックします。</block>
  <block id="bc165811908b5de0b53e3fb455b59f7d" category="section-title">基本的なリース操作</block>
  <block id="e02846e806da1a115348e9fee40e2ff8" category="paragraph">ONTAP Select ノードは、データアグリゲートが作成、拡張、または変更されるたびに、有効な容量リースを特定または要求する必要があります。以前の要求から取得したリースがまだ有効である場合は、リースを使用するか、必要に応じて新しいリースを要求できます。ONTAP Select ノードで容量プールのリースを検索するには、次の手順を実行します。</block>
  <block id="7d9520f0fa2db8b35655f9495b62e220" category="list-text">既存のリースがノードに存在する場合は、次の条件をすべて満たしていれば使用されます。</block>
  <block id="841155ef8ec7759dbe94406233eb27b5" category="list-text">リースの期限が切れていません</block>
  <block id="25784b4e2979db42de075e5e9dd10079" category="list-text">アグリゲートのストレージ要求がリース容量を超えていません</block>
  <block id="e854418dddc00af07fa6200a4ede9a50" category="list-text">既存のリースが見つからない場合、ノードは License Manager から新しいリースを要求します。</block>
  <block id="ddcdefa0dff3b7a0ab88c4bba1193c73" category="section-title">ストレージ容量を容量プールに戻します</block>
  <block id="4834df5eda0b47ccabbdf06e24c846dd" category="paragraph">ストレージ容量は必要に応じて容量プールから割り当てられ、新しい要求が発生するたびにプール内の使用可能なストレージ容量が少なくなることがあります。ストレージ容量は、次のようないくつかの状況でプールに返されます。</block>
  <block id="25e8c3dfe0fc86ab114fd57ec6ff2450" category="list-text">データアグリゲートのリースは期限切れになり、ノードでは更新されません</block>
  <block id="c368765dd32d8b7199f9250b99a8087b" category="list-text">データアグリゲートが削除されました</block>
  <block id="afcc04ba59c0e5b7c23adba80994022a" category="admonition">ONTAP Select 仮想マシンが削除された場合、アクティブなリースは有効期限が切れるまで有効です。この場合、容量はプールに返されます。</block>
  <block id="62c2ae9d858d747f01fc9f0c73fe1973" category="doc">ONTAP Select ノード間のネットワーク接続を確認する</block>
  <block id="c22f5328485b16ad5528583107191857" category="list-text">ネットワーク接続チェッカーの現在の実行を表示し、アクティブな実行がないことを確認します。</block>
  <block id="0b540229e0d5850cb4e1461eb0676deb" category="paragraph">「 network connectivity-check show 」を参照してください</block>
  <block id="eb48c11291c1a096951730bc8dd8f105" category="list-text">ネットワーク接続チェッカーを起動し、コマンド出力の実行識別子を確認します。</block>
  <block id="7c5416bd8aa6ae58e61fc64a83d5447c" category="paragraph">「 network connectivitycheck start-host-names hostnames hostnames -hosts-type vswitch _type-mode 」のように設定します</block>
  <block id="a60a5b053599b3da5eb77753a973a890" category="list-text">実行識別子に基づいて、ネットワーク接続チェッカーの進捗状況を監視します。</block>
  <block id="3842d148baafa9d0cd90e332a675ccf1" category="paragraph">「 network connectivity-check show-run-id run_ID 」</block>
  <block id="bb0d3f01eaa0543a790584ab1cda0f70" category="paragraph">通常、ネットワーク接続チェッカーは、 ONTAP 内部ポートグループに追加された一時ポートと IP アドレスを削除することによってクリーンアップされます。ただし、接続チェッカーが一時ポートの削除に失敗した場合は、 CLI コマンドを「 -mode cleanup 」オプションで再実行して、手動でクリーンアップ処理を実行する必要があります。ONTAP 内部ポートグループから一時ポートを削除しないと、 ONTAP Select 仮想マシンが正常に作成されないことがあります。</block>
  <block id="2d744b02557a3bd4bf2edfb9bf969f47" category="summary">Deploy プラグインは、 vCenter Server と緊密に統合されています。この統合により、 Deploy ユーティリティと vCenter サーバで管理されるリソース間を簡単に移動できます。この統合の例をいくつか次に示します。</block>
  <block id="18b22b7aca159e720ccdef66e00e812e" category="doc">プラグインと vCenter の統合を導入</block>
  <block id="178bde609c6494cd967858786defa86f" category="section-title">ONTAP Select クラスタに割り当てられた VMware リソース</block>
  <block id="0429491a5d83450ad1ef114da5e5b0ea" category="paragraph">ONTAP Select クラスタは、 VMware 上で 1 つ以上のノードのセットとして実行されます。各ノードは、異なる ESXi ホスト上の専用の仮想マシンです。ONTAP Select クラスタには、次の VMware リソースが関連付けられます。</block>
  <block id="7f49666aea8a3e2702aeeb21c55bbe19" category="list-text">ONTAP VM</block>
  <block id="eff845e03ea7f765e5646b3de0aa3188" category="list-text">データストア</block>
  <block id="9139ec6f0890e320c49fb778a7a2e3b5" category="list-text">ネットワーク</block>
  <block id="eca9c0c9dd7cc79207ee9070831df0c1" category="paragraph">特定の ONTAP Select クラスタで使用されている VMware リソースを表示するには、いくつかの方法があります。</block>
  <block id="d6028a8641da6922e4705db323c01309" category="section-title">プラグインを使用したクラスタの VMware リソースの表示</block>
  <block id="2e49cb419e7a29fec30eb1f5e587eeb7" category="paragraph">ONTAP Select クラスタに割り当てられている VMware リソースは、 Deploy プラグインを使用して表示できます。</block>
  <block id="007859d13eeccd39b09588770828907d" category="list-text">右側のリストで目的のクラスタをクリックします。</block>
  <block id="104d520ff5d7a1f440db460dd42b417e" category="list-text">[ * その他のオブジェクト * ] タブをクリックし、ページの上部で目的のリソースカテゴリを選択します。</block>
  <block id="51695c51711f8be253c98f234d6cfe9b" category="list-text">追加情報 を表示する特定の VMware リソースを選択します。</block>
  <block id="3df94a1adf58b72f50f4af15baf835b0" category="section-title">ESXi 仮想マシンを介した ONTAP Select クラスタの表示</block>
  <block id="124042714a0594996b437ef8d77eaf6b" category="paragraph">ONTAP Select 仮想マシンにアクセスすると、クラスタおよび関連するクラスタリソースを表示できます。</block>
  <block id="c24893e3e67c8d74d5d71c6a7876d4a6" category="list-text">上部の * メニュー * をクリックし、 * VMS and Templates * をクリックします。</block>
  <block id="d0b38196f513c52167ae52da2d5ef833" category="list-text">左側のリストから目的の仮想マシンを選択します。</block>
  <block id="613d94ec0abe747072c13a629a9179d3" category="list-text">[More Objects*] タブをクリックして、 VM で実行されている ONTAP Select クラスタを表示します。</block>
  <block id="1f6036f5bea6c009c355d5d4cb7c2548" category="list-text">クラスタに関連付けられている VMware リソースの集合全体を表示するには、 ONTAP Select クラスタをクリックし、 [ その他のオブジェクト *] タブをクリックします。</block>
  <block id="c0d79a05bf7277dafa28e399edc6086b" category="section-title">ESXi ホストにシングルノードクラスタを作成する</block>
  <block id="7657e0709b46e4f9b6878c1795bb5f69" category="paragraph">vSphere インターフェイスから ESXi ハイパーバイザーホストを選択し、 ONTAP Select シングルノードクラスタを導入できます。</block>
  <block id="d64a5d2624da1d41515e8a50d12742e0" category="list-text">上部の * メニュー * をクリックし、 * ホストとクラスタ * をクリックします。</block>
  <block id="8a3d36430f90bf9bd2d45e8155f21b1f" category="list-text">左側で目的のハイパーバイザーホストを右クリックし、 * ONTAP Select * を選択して、 * New ONTAP Select * をクリックします。</block>
  <block id="1dc4810d63caead5a2408ff9c6585aee" category="list-text">の手順に従って、導入プロセスを完了します <block ref="8960a42bb3966948f7d3da21fe228cd9" category="inline-link-macro-rx"></block>。</block>
  <block id="cb16e4169a6cbd9a9f3a8db2dbd3c515" category="summary">内部および外部の ONTAP Select ネットワークの特性。</block>
  <block id="f8052d4042fcf2ccedd965352e0708f9" category="doc">ONTAP Select の内部および外部ネットワーク</block>
  <block id="0aaccaa465e5456cbf8bc83d5fb5620a" category="paragraph">ONTAP Select の内部ネットワークと外部ネットワークの特性。</block>
  <block id="506c7123ecf1cbba165386abd36670a3" category="section-title">ONTAP Select の内部ネットワーク</block>
  <block id="4f78507e0706b59fbf5476fd0c1e5e8a" category="paragraph">マルチノードバージョンの製品にのみ存在する内部 ONTAP Select ネットワークは、クラスタ通信、 HA インターコネクト、同期レプリケーションの各サービスを ONTAP Select クラスタに提供します。このネットワークには、次のポートとインターフェイスが含まれています。</block>
  <block id="7828132dad1428b934b0293e9f55060a" category="list-text">* e0c 、 e0d 。 * クラスタネットワーク LIF をホストしています</block>
  <block id="8e185966d81f0a997dfe4b4426958544" category="list-text">* e0e 。 * RSM LIF をホストしています</block>
  <block id="c4a0b8ad500687bd713fafbc3b12345a" category="list-text">* e0f 。 * HA インターコネクト LIF をホストします</block>
  <block id="13b209c17ac721e42059952cbd2cc0de" category="paragraph">このネットワークのスループットとレイテンシは、 ONTAP Select クラスタのパフォーマンスと耐障害性を決定する上で非常に重要です。クラスタのセキュリティを確保し、システムインターフェイスを他のネットワークトラフィックから分離するには、ネットワークの分離が必要です。そのため、このネットワークは ONTAP Select クラスタ専用にする必要があります。</block>
  <block id="8cf81372a045cee3c99253a022c0537a" category="admonition">Select の内部ネットワークは、アプリケーショントラフィックや管理トラフィックなど、 Select のクラスタトラフィック以外のトラフィックに使用することはできません。ONTAP の内部 VLAN には、他の VM やホストを配置できません。</block>
  <block id="2e20a3e44f4cfb66f7911532ab9031e0" category="paragraph">内部ネットワークを経由するネットワークパケットは、専用の VLAN タグ付きレイヤ 2 ネットワークで処理される必要があります。そのためには、次のいずれかの作業を行います。</block>
  <block id="197ca5ffa0760acbd61c31d62a05727a" category="list-text">VLAN タグ付きポートグループを内部仮想 NIC （ e0c~e0f ）（ VST モード）に割り当てる</block>
  <block id="7237980e33084af93c84d7c8f28a5410" category="list-text">アップストリームのスイッチが提供する、他のどのトラフィックにも使用されないネイティブ VLAN を使用する（ VLAN ID なしのポートグループ、つまり EST モードを割り当て）</block>
  <block id="b94aba06fef9275105a811a9294a71a4" category="paragraph">いずれの場合も、内部ネットワークトラフィックに対する VLAN タギングは ONTAP Select VM の外部で実行されます。</block>
  <block id="c915fa70e2bcea503f2392db36d95920" category="admonition">ESX Standard および分散 vSwitch のみがサポートされます。他の仮想スイッチや ESX ホスト間の直接接続はサポートされていません。内部ネットワークは完全に開いている必要があります。 NAT やファイアウォールはサポートされていません。</block>
  <block id="be0b780dddb345678e56e3a577602164" category="paragraph">ONTAP Select クラスタ内では、内部トラフィックと外部トラフィックが、ポートグループと呼ばれる仮想レイヤ 2 ネットワークオブジェクトを使用して分離されます。これらのポートグループに vSwitch を適切に割り当てることが、特にクラスタ、 HA インターコネクト、ミラーレプリケーションの各サービスを提供する内部ネットワークでは非常に重要です。これらのネットワークポートへのネットワーク帯域幅が不十分な場合、原因 のパフォーマンスが低下し、クラスタノードの安定性にも影響する可能性があります。したがって、 4 ノード、 6 ノード、および 8 ノードのクラスタでは、内部 ONTAP Select ネットワークに 10Gb 接続が必要で、 1Gb NIC はサポートされません。ただし外部ネットワークについては、 ONTAP Select クラスタへのデータのフローを制限しても動作の信頼性には影響しないため、帯域幅が低くても問題はありません。</block>
  <block id="20d8c400c91f244c437959b1015faf77" category="paragraph">2 ノードクラスタでは、 4 ノードクラスタに必要な 2 つの 10Gb ポートの代わりに、 4 つの 1Gb ポートまたは 1 つの 10Gb ポートを使用できます。サーバに 4 つの 10Gb NIC カードを装着できない環境では、内部ネットワーク用に 10Gb NIC カードを 2 つ、外部 ONTAP ネットワーク用に 1Gb NIC を 2 つ使用できます。</block>
  <block id="2ce84fe48597ac937066a2883f19084f" category="section-title">内部ネットワークの検証とトラブルシューティング</block>
  <block id="a3de182062915588646145ace36c3e22" category="paragraph">マルチノードクラスタの内部ネットワークは、ネットワーク接続チェッカー機能を使用して検証できます。この機能は、「 network connectivity-check start 」コマンドを実行している Deploy CLI から呼び出すことができます。</block>
  <block id="48d34abcc024a4f782dd82b39ba8903e" category="paragraph">次のコマンドを実行してテストの出力を表示します。</block>
  <block id="20d413e9a1ee99efe0d4db895abdbc51" category="paragraph">このツールは、マルチノード Select クラスタでの内部ネットワークのトラブルシューティングにのみ使用します。このツールは、シングルノードクラスタ（ vNAS 構成を含む）のトラブルシューティング、 ONTAP Deploy から ONTAP Select への接続、クライアント側の接続の問題のトラブルシューティングには使用しないでください。</block>
  <block id="723585e97ef1695bd9e2ba9e636d1970" category="paragraph">クラスタ作成ウィザード（ ONTAP Deploy GUI に付属）には、マルチノードクラスタの作成時に使用できるオプションの手順として、内部ネットワークチェッカーが含まれています。マルチノードクラスタでは内部ネットワークが果たす役割が大きいため、クラスタ作成ワークフローでこのステップを実行すると、クラスタ作成処理の成功率が向上します。</block>
  <block id="16992ee8f8caed0bb049b0e9dd94317f" category="paragraph">ONTAP Deploy 2.10 以降では、内部ネットワークで使用される MTU サイズを 7 、 500~9 、 000 に設定できます。また、ネットワーク接続チェッカーを使用して、 MTU サイズを 7 、 500~9 、 000 の範囲でテストすることもできます。デフォルトの MTU 値は、仮想ネットワークスイッチの値に設定されます。VXLAN などのネットワークオーバーレイが環境に存在する場合は、このデフォルト値をより小さい値に置き換える必要があります。</block>
  <block id="31de76b28cce5b959eace72203221efb" category="section-title">ONTAP Select 外部ネットワーク</block>
  <block id="ec44df3839cd96996dd8f5244ea696eb" category="paragraph">ONTAP Select 外部ネットワークは、クラスタによるすべてのアウトバウンド通信を処理するため、シングルノードとマルチノードの両方の構成に存在します。このネットワークには、内部ネットワークのような厳しいスループット要件はありませんが、パフォーマンスの問題が ONTAP Select の問題と誤解される可能性があるため、管理者はクライアントと ONTAP VM の間にネットワークボトルネックが発生しないように注意する必要があります。</block>
  <block id="9423f04effd72d0ce85a81acaaf77704" category="admonition">内部トラフィックと同様に、外部トラフィックは vSwitch レイヤ（ VST ）および外部スイッチレイヤ（ EST ）でタグ付けできます。また、 VGT と呼ばれるプロセスで、 ONTAP Select VM 自体が外部トラフィックにタグ付けすることもできます。を参照してください <block ref="98e3fa71382bb5722f3b56573b163217" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="48bf680004e59a7ee0fdd464f7b9eec5" category="paragraph">次の表に、 ONTAP Select の内部ネットワークと外部ネットワークの主な違いを示します。</block>
  <block id="c56287834ec31f321469fa7bf5643275" category="paragraph">* 内部ネットワークと外部ネットワークのクイックリファレンス *</block>
  <block id="3645a2af1e926e131b2719b37866dec1" category="cell">内部ネットワーク</block>
  <block id="9c1fe896bd63d0fe2716ddc243e1c572" category="cell">外部ネットワーク</block>
  <block id="378399257d9b46118f57423a62950b0f" category="cell">ネットワークサービス</block>
  <block id="7d639796a125e0e439c7f95fe9b71bc4" category="cell">クラスタ HA / IC RAID SyncMirror （ RSM ）</block>
  <block id="f78752144e29344ad09b9e9c686f6b99" category="cell">データ管理クラスタ間（ SnapMirror と SnapVault ）</block>
  <block id="35bb14e68538b42b0338d36bd489fcdb" category="cell">ネットワークの分離</block>
  <block id="b651efdb98a5d6bd2b3935d0c3f4a5e2" category="cell">必須</block>
  <block id="ebb061953c0454b2c8ee7b0ac615ebcd" category="cell">任意。</block>
  <block id="5439c5c6e14cbedec94d62c5620b4191" category="cell">フレームサイズ（ MTU ）</block>
  <block id="f82f835e9bcb7c4e5493f3aaf325c4d3" category="cell">7 、 500~9 、 000</block>
  <block id="0d8d4b9f76b5ccf943cd0d925efd740e" category="cell">1 、 500 （デフォルト） 9 、 000 （サポート対象）</block>
  <block id="b471923c256ece69b5cd4c34a08fe1e0" category="cell">IP アドレスの割り当て</block>
  <block id="022f4d7d8685a244578e13b3b5c5121f" category="cell">自動で生成</block>
  <block id="67dc4ccf1e1fa1625e61002ef91bccd7" category="cell">ユーザ定義</block>
  <block id="c49097d5f841ad47da1df0a2acda69e5" category="cell">DHCP サポート</block>
  <block id="435374a50b983b107143c4ddc4072c1e" category="section-title">NIC チーミング</block>
  <block id="e74faf0ea080edc6ab3a9051022924e0" category="paragraph">高いパフォーマンスとフォールトトレランスに必要な帯域幅と耐障害性を内部ネットワークと外部ネットワークに確保するために、物理ネットワークアダプタのチーミングを推奨します。単一の 10Gb リンクを使用する 2 ノードクラスタ構成がサポートされます。ただし、ネットアップでは、 ONTAP Select クラスタの内部ネットワークと外部ネットワークの両方で NIC チーミングを使用することをベストプラクティスとして推奨しています。</block>
  <block id="493eafc0cc0b21e8010845dec6e8f37b" category="section-title">MAC アドレスの生成</block>
  <block id="ce1b0fc992e2d8e0e68ad93e1af99070" category="paragraph">すべての ONTAP Select ネットワークポートに割り当てられた MAC アドレスは、付属の導入ユーティリティによって自動的に生成されます。このユーティリティは、ネットアップ固有のプラットフォーム専用 OUI （ Organizationally Unique Identifier ）を使用して、 FAS システムとの競合がないことを確認します。その後のノードの導入時に同じアドレスが誤って割り当てられないように、このアドレスのコピーが ONTAP Select インストール VM （ ONTAP Deploy ）の内部データベースに保存されます。ネットワークポートに割り当てられた MAC アドレスを管理者が変更することはできません。</block>
  <block id="6f2a7474733f440420956cb9bed6f944" category="summary">VMware 環境に ONTAP Select を導入する場合は、 Deploy 管理ユーティリティの代わりに VMware vCenter プラグインを使用できます。</block>
  <block id="4d12405e390df7e0d9e7fdf553b29fa1" category="doc">VMware vCenter プラグイン</block>
  <block id="c4bf12e90f9591d837b0f3b5db7992c6" category="paragraph">VMware vCenter プラグインは、 Deploy 管理ユーティリティに付属しています。プラグインを使用するには、 Deploy ユーティリティをインストールし、 Deploy ユーザインターフェイスを使用してプラグインを vCenter Server にインストールする必要があります。プラグインのインストール後、 vSphere Web ユーザインターフェイスを使用して ONTAP Select クラスタを導入および管理できます。プラグイン自体の管理（インストール、削除、更新）を除き、プラグインに付属する機能は Deploy ユーティリティのユーザインターフェイスと同じです。</block>
  <block id="18230d381cb1d9a0ed6cd3d21f83633a" category="inline-link-macro">vCenter と統合</block>
  <block id="d2120cf4b10e7473e22640b5ff375c65" category="paragraph">を参照してください <block ref="9e748eeec5d1cd232a2ec2b6c2426509" category="inline-link-macro-rx"></block> セクションでは、要件と制限事項、およびプラグインのインストールと使用方法について説明します。</block>
  <block id="5105302096dd720ab813764e8580a00d" category="summary">VMware 環境に固有の要件と制限事項がいくつかあります。これらは、 VMware 環境に ONTAP Select Deploy ユーティリティをインストールする前に検討する必要があります。</block>
  <block id="8b93cc40161cdbd01ab9e18838bcb683" category="doc">VMware ハイパーバイザー環境です</block>
  <block id="080eeefb865f5c5b09e0ddbf462e23ba" category="section-title">ESXi ホストサーバハードウェアの要件</block>
  <block id="5e9e7152a56ac74f6432d3a1d1e9844a" category="paragraph">ESXi ハイパーバイザーホストがいくつかのリソースの最小要件を満たしている必要があります。ONTAP Select を導入するホストが次の基本的な要件を満たしていることを確認してください。</block>
  <block id="4832f452ca99a142c0e0db2c856d79e2" category="list-text">ESXi サーバ：</block>
  <block id="683c2567130f6a4546bb443f353cff0d" category="list-text">ハードウェアとソフトウェアは 64 ビットである必要があります</block>
  <block id="501ecbf501c47a3b1460cba563bd3cb2" category="list-text">ONTAP Select ノードに対して定義されたものと同じ、サポート対象のバージョンを使用している必要があります</block>
  <block id="f4fde6e81ed5f551541e5e43f2da3276" category="list-text">仮想 CPU （ 2 ）</block>
  <block id="665f528a615917daa6e68c9858e8973e" category="list-text">仮想メモリ（ 4GB ）</block>
  <block id="2460c4c672fe5aa97bccda9a2c15381a" category="list-text">ストレージ（ 40GB ）</block>
  <block id="6571206ea0d72e18ca7e523cdfac9bf3" category="list-text">DHCP が有効（静的 IP アドレスを割り当てることも可能）</block>
  <block id="66a0461d2d8cd670baf00d1c2bb16adb" category="section-title">ネットワーク接続</block>
  <block id="1db683534b98bd41ba839804b8e68460" category="paragraph">ONTAP Select Deploy 仮想マシンのネットワークインターフェイスが設定されていること、および単一の管理 IP アドレスが割り当てられていることを確認してください。DHCP を使用すると、 IP アドレスを動的に割り当てることも、静的 IP アドレスを手動で設定することもできます。</block>
  <block id="a8f60467940bda53d9db3f4b1f47ca5a" category="paragraph">導入する決定に応じて、 Deploy VM が管理する vCenter サーバ、 ESXi ハイパーバイザーホスト、および ONTAP Select ノードに接続できる必要があります。必要なトラフィックを許可するようにファイアウォールを設定する必要があります。</block>
  <block id="ff263ddaf336b6dad768fdf733aba4d6" category="paragraph">Deploy は、 VMware VIX API を使用して vCenter サーバおよび ESXi ホストと通信します。最初に、 TCP ポート 443 上で SSL 経由の SOAP を使用して接続を確立します。その後、ポート 902 で SSL を使用して接続が開かれます。さらに、 Deploy は ping コマンドを発行して、指定した IP アドレスに ESXi ホストがあることを確認します。</block>
  <block id="0322e46fade696f2e31f29923f0e13e7" category="paragraph">Deploy は、次のプロトコルを使用して、 ONTAP Select ノードおよびクラスタ管理 IP アドレスと通信できる必要もあります。</block>
  <block id="62a5303a3a11fbd7213daedd9ed6e5b5" category="list-text">ping コマンド（ ICMP ）</block>
  <block id="4d73f908f3df233953e0c67052f26665" category="section-title">IP バージョン 4 のサポート</block>
  <block id="db88ef4d05292b05026992fe3ca193af" category="paragraph">ONTAP Select Deploy は、 IP バージョン 4 （ IPv4 ）のみをサポートします。IP バージョン 6 （ IPv6 ）はサポートされません。この制限は、次の点で ONTAP Select に影響します。</block>
  <block id="a808fd43c31372cb5ef7ac1ac9224c52" category="list-text">Deploy 仮想マシンの管理 LIF に IPv4 アドレスを割り当てる必要があります。</block>
  <block id="b3a288a6973caafe5e4ff191758f8b98" category="list-text">ONTAP LIF で IPv6 を使用するように設定された ONTAP Select ノードを Deploy で作成することはできません。</block>
  <block id="8d0030231ca098991021200ebed892e9" category="section-title">VMware vCenter の言語制限</block>
  <block id="f3723501df4dfade0c26ca5e04290d9e" category="paragraph">ONTAP Select Deploy を使用して、 ESXi で実行されるクラスタを Windows サーバ上の vCenter で作成する場合は、英語版を使用する必要があります。ONTAP Select Deploy は、英語以外のバージョンの Windows での vCenter をサポートしていません。</block>
  <block id="d2114dbf95b3729bc75e4ce7d2bd3c5e" category="summary">Deploy vCenter プラグインは、 ONTAP Select Deploy および VMware vCenter と緊密に統合されています。vSphere インターフェイスを使用してプラグイン経由で Deploy 管理ユーティリティにアクセスするには、 2 つのパスがあります。</block>
  <block id="dede2353954e5a7a1fca11a7ffd6602d" category="doc">プラグインアーキテクチャ</block>
  <block id="1898c1bbe72b36afa690745afc7feda0" category="inline-image-macro">は、 Deploy vCenter プラグインのアーキテクチャを示しています。</block>
  <block id="5d1e0760fb0e94c0d843c87c5276ac19" category="paragraph"><block ref="5d1e0760fb0e94c0d843c87c5276ac19" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8249cf77b8d8e1a887c3064234f33f64" category="summary">ONTAP Select の大容量階層ライセンスまたは大容量プールライセンスは、 3 つのプラットフォーム容量レベルのいずれかで購入できます。これらのライセンスサービスによって、 ONTAP Select を導入するホストの機能が決まります。</block>
  <block id="d8ab7c9c78c21b4a22cdfba499be0102" category="section-title">プラットフォームライセンス製品の機能</block>
  <block id="bf2bf32468663aa60c17572fd96be228" category="paragraph">特定のライセンス製品は、ハイパーバイザーホストの機能を次の 2 つの領域で定義および制限します。</block>
  <block id="3c1861aaa9fcf5a348da316345ccfdb6" category="list-text">インスタンスタイプ（ CPU 、メモリ）</block>
  <block id="09bf8b227659727142783e5535a49102" category="list-text">その他の機能</block>
  <block id="640b087d140d4a80f7e7d94ebcced847" category="paragraph">ライセンスサービスは、 Standard XL から Premium XL まで、機能の昇順で提供されます。一般的に、選択したライセンスオプションは、そのレベルおよび下位レベルすべての機能を付与します。たとえば、 Premium レベルは Premium と Standard の両方の機能を提供します。</block>
  <block id="373055e0ae3156ab05f7c74e8911b813" category="paragraph">標準の機能は次のとおりです。</block>
  <block id="401d57e79da43d69ef9c292495012c87" category="list-text">スモールインスタンスタイプのみ</block>
  <block id="f2fbd69cc5d8fb2d7cd6ca4c2d87c82b" category="list-text">ハードディスクドライブ（ HDD ）のみ</block>
  <block id="b20bd74bfcce971bd87d4a82ac239e47" category="list-text">ローカルハードウェア RAID コントローラのみ</block>
  <block id="9f0890b87339c093ced753d756bc24fa" category="list-text">vNAS</block>
  <block id="9796a14555a2c8bf2cbefd825c3168c8" category="paragraph">Premium サービスには次の機能があります。</block>
  <block id="dcf1bea6142acd68dc8ee180fa525686" category="list-text">小規模または中規模のインスタンスタイプ</block>
  <block id="d598b7c596887c12a7901f81a1798bd3" category="list-text">ハードディスクドライブ（ HDD ）またはソリッドステートドライブ（ SSD ）</block>
  <block id="242993ddd5be1ee9c2b34ac3d6e16525" category="list-text">ローカルハードウェア RAID コントローラまたはソフトウェア RAID</block>
  <block id="3df6de2a26f1404ca45737431d2a4afb" category="paragraph">プレミアム XL は、次の機能を提供します。</block>
  <block id="5e1e35787d312440de294099e5a73814" category="list-text">小規模、中規模、または大規模のインスタンスタイプ。</block>
  <block id="d72f431c4274d31e60a80915e200ced0" category="list-text">ローカルハードウェア RAID コントローラまたはソフトウェア RAID 。</block>
  <block id="4f703efee023ff2512f17bb22941efa8" category="admonition">大規模なインスタンスタイプ（ Premium XL ライセンスを使用）は、 VMware ESXi でのみサポートされます。</block>
  <block id="5dd03e8d039863e563e049be198c3fd3" category="sidebar">リリースノート</block>
  <block id="0460583622f03a52d7693094d6fa2452" category="sidebar">概念</block>
  <block id="4b983fff716674f120176e09551dd445" category="sidebar">製品の概要</block>
  <block id="5f42eee1bf54c8d4553c2d542932b451" category="sidebar">ビジネスユースケース</block>
  <block id="e182a8a3f2adf774fb1c959df71b8600" category="sidebar">用語集</block>
  <block id="0b6cbdf7ad2928078f1600a3e8979485" category="sidebar">計画</block>
  <block id="ab3ccb0be518e752d20f706d36d252c9" category="sidebar">導入のワークフロー</block>
  <block id="3a3a5cd068731551120f43f37950768b" category="sidebar">ONTAP Select の場合</block>
  <block id="c1b060c144785f27389c5e134af018e1" category="sidebar">ハイパーバイザーとハードウェア</block>
  <block id="392ef7332861d17c4a3770570a1a87a4" category="sidebar">2 ノードクラスタ</block>
  <block id="40762683748106b1d1e0792d0c278678" category="sidebar">リモートオフィス、ブランチオフィス</block>
  <block id="43e02e05b2879c1406a010bf6a28f8f7" category="sidebar">VMware vCenter</block>
  <block id="6e000ad3ab759a6cf44e1c9a970752c4" category="sidebar">VMware 環境</block>
  <block id="794df3791a8c800841516007427a2aa3" category="sidebar">使用許諾</block>
  <block id="187e115b0c10602baa476f64acc86a80" category="sidebar">本番環境用ライセンス</block>
  <block id="e3e16bb73c0250a6a229fb457b4f957e" category="sidebar">制限事項</block>
  <block id="b2fa85b6d75024ce8b7618eccad51ef7" category="sidebar">容量プールと大容量階層の比較</block>
  <block id="76b6a47a02685d51794b9fdb095512e5" category="sidebar">購入</block>
  <block id="d707dd0578f8287a0a8a84e71f612e87" category="sidebar">ライセンス関連のワークフロー</block>
  <block id="f33b49f74fc8933d903baf71e893888b" category="sidebar">ONTAP の機能</block>
  <block id="d6544042acadc7763dd58bb5217f1729" category="sidebar">インストール前のチェックリスト</block>
  <block id="dcec005a37ef7cc68de469fae5abeaef" category="sidebar">ホスト準備チェックリスト</block>
  <block id="2b41af72f8057e875fd45af38750e9cb" category="sidebar">Deploy ユーティリティの必要な情報</block>
  <block id="e23dde371a6478f735978a9eac39593d" category="sidebar">ONTAP Select に必要な情報</block>
  <block id="7ddffd89174198c0f36d593ccde207f8" category="sidebar">NVMe ホストの設定</block>
  <block id="6bf206aa142c608ffc9dfde649825ec0" category="sidebar">ONTAP Select Deploy をインストールする</block>
  <block id="20efb743243f1d67fd76eb25fbf2024f" category="sidebar">クラスタを導入</block>
  <block id="4600201a9747257f7c0a61cab77f2664" category="sidebar">クラスタの初期状態</block>
  <block id="10a6be92e43e8ae9229f893030d4ea66" category="sidebar">管理</block>
  <block id="d50d859ff252ad32f47de6b350e22874" category="sidebar">ノードをアップグレードする</block>
  <block id="2e97b5e5f53687c2edc46f6cfe0a5451" category="sidebar">メディエーター</block>
  <block id="9b99bf7d2bfd4b09363304c166832734" category="sidebar">クラスタ</block>
  <block id="7e3d719bcb3cf1e6efaf87b0f0178a1c" category="sidebar">ノードとホスト</block>
  <block id="8e0eac20b9bb9c269b705f9e82fe448c" category="sidebar">VM ビデオコンソール</block>
  <block id="895a413011abbe86e6a014ccb143d553" category="sidebar">クラスタノードのサイズを変更しています</block>
  <block id="e309e790bf68d78d02df7e8b1e817c40" category="sidebar">障害が発生した SW RAID ドライブの交換</block>
  <block id="f08131f55296a68c7755bbc36ba4db58" category="sidebar">VMFS6 にアップグレードしています</block>
  <block id="f6aca2dcfee051b254bbcb878dc70d09" category="sidebar">ライセンス</block>
  <block id="ab1dbd991ec3af1b1aef9ee96144657a" category="sidebar">詳細</block>
  <block id="37abdde639d495af54acf1d9128ed4b5" category="sidebar">一般的な概念と特徴</block>
  <block id="029512cdc2b1f0fa16e4fc28ea554124" category="sidebar">シングルノード構成とマルチノード構成</block>
  <block id="bab8e5962588e40db65a36db5d916d05" category="sidebar">内部ネットワークと外部ネットワーク</block>
  <block id="1f0b82560627b660c6c6958a1df834b8" category="sidebar">サポートされている構成</block>
  <block id="5bb5c0519a3ead3dfe6030831305e46c" category="sidebar">VMware vSphere vSwitch の設定</block>
  <block id="52b9048ce13dbc3e7feb51e89c16b2e3" category="sidebar">データと管理の分離</block>
  <block id="fb3d59ef8abb86b2989e3e7dcc13a94e" category="sidebar">高可用性アーキテクチャ</block>
  <block id="2ae32cce8d9e1bdcb0478c5f14d4be9c" category="sidebar">HA の設定</block>
  <block id="7590e9173880f1e9732bf635a6fdd451" category="sidebar">同期レプリケーションとミラーアグリゲート</block>
  <block id="4ad4ca6d00f55818bc64af3e5a3ec6fb" category="sidebar">その他のハイアベイラビリティ機能</block>
  <block id="9446a98ad14416153cc4d45ab8b531bf" category="sidebar">パフォーマンス</block>
  <block id="3516c8ba7b35045de92853ce609c11f7" category="sidebar">一般的な考慮事項</block>
  <block id="51816119234063b73e5a0a75806755ce" category="sidebar">9.4 Premium HA 直接接続 SSD ストレージ</block>
  <block id="1bbc5edfb65abbd74567c968131d62b8" category="sidebar">9.5 Premium HA 直接接続 SSD ストレージ</block>
  <block id="121abb38eefc2bbdbd5ecfe650e612c1" category="sidebar">9.6 Premium HA 直接接続 SSD ストレージ</block>
  <block id="cb59b87e00d11222bfd9159d0d23836f" category="sidebar">はじめに</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="sidebar">概要</block>
  <block id="2d242bb36ec91b32005f9296ff03a912" category="sidebar">アーキテクチャ</block>
  <block id="21d28aa03f67eb242b1c95a6a0594ff5" category="sidebar">計画</block>
  <block id="3815821eb3d36a81e31de73c5f277d4d" category="sidebar">プラグインを管理します</block>
  <block id="786a727fdfc348457a222a80b2bcb59e" category="sidebar">をアップグレードして削除します</block>
  <block id="30fde2cf224f8a09b2183cda2d2b3bcb" category="sidebar">プラグインを手動で削除します</block>
  <block id="5a6dce939f45314a948e35758a357877" category="sidebar">vCenter との統合</block>
  <block id="d60c463bb4096f3ed4bd1618626dfe10" category="sidebar">トラブルシューティングを行う</block>
  <block id="c06d0f2a681f188a39ff836da376742f" category="sidebar">REST による自動化</block>
  <block id="c0471368cdc5da09455ecd80f16c96c7" category="sidebar">REST Web サービス</block>
  <block id="17f920baf3e4cbfe41aa6bba8f5012df" category="sidebar">Deploy API にアクセスします</block>
  <block id="014b66e6ebf1720946f038c17adc2ca8" category="sidebar">基本操作</block>
  <block id="78ac0da0b7cc09659869c78b3d55a456" category="sidebar">リクエストおよびレスポンストランザクション</block>
  <block id="97fc3d9385e39e5a8a5a53f93c073517" category="sidebar">非同期処理</block>
  <block id="7817c36939b49926da83468bd5efde47" category="sidebar">ブラウザを使用してにアクセスします</block>
  <block id="9241d6ee7773435b0bdedc0c021c2e9f" category="sidebar">ドキュメントページにアクセスします</block>
  <block id="c05a9a6392df2be77eeffdb1bc9b8df5" category="sidebar">API 呼び出しについて</block>
  <block id="04bff76b57babc7298f6780f4f20901e" category="sidebar">ワークフロープロセス</block>
  <block id="d906f5fe10aaddf0251e66fa023fe8ef" category="sidebar">ワークフロー 1 ：クラスタの作成</block>
  <block id="a59d586f7f3515760f8fe6b8475f1f4c" category="sidebar">Python を使用してアクセスします</block>
  <block id="a39a1cb10dd33a416baa8c7053a050d8" category="sidebar">スクリプトの理解</block>
  <block id="bd4d64691f933fac8c76e72632b62944" category="sidebar">Python コードサンプル</block>
  <block id="d7d5441f14743f0457740d73bd580cfa" category="sidebar">JSON を使用してクラスタを作成します</block>
  <block id="eff97b5f2d2c83f1ed5631ba2caad4b3" category="sidebar">ノードライセンスを追加</block>
  <block id="17a06a80e87a37d4e1892e8c0528b857" category="sidebar">クラスタを削除します</block>
  <block id="1ca48c398b8c739a9815d44011185388" category="sidebar">クラスタノードのサイズを変更</block>
  <block id="46fc1cf655dd8158b6b58910cf88e653" category="sidebar">Ansible で自動化</block>
  <block id="8a9e0f8224695e94f0988f444488877b" category="sidebar">CLI を使用します</block>
  <block id="89c5ba6f9355d2da97bb00bdf0ec66e5" category="sidebar">SSH を使用してサインインします</block>
  <block id="b4196422f4798acbaffd27a9839f9143" category="sidebar">ESXi を 6.5 以降にアップグレードしています</block>
  <block id="8c45b8a7e3dd4094586773bc09fc8842" category="sidebar">Deploy ユーティリティ</block>
  <block id="ed0d6cef6167136ce6b40a94165209fa" category="sidebar">Deploy インスタンスをアップグレードする</block>
  <block id="e7729142d65683c0eba63c471ec57c8f" category="sidebar">Deploy インスタンスを移行する</block>
  <block id="1c5ffa58ac07641f5cec5616c07b2ba2" category="sidebar">ONTAP Select イメージを追加します</block>
  <block id="0a15f7ba73868a32304fdf52855463c9" category="sidebar">ONTAP Select イメージを削除します</block>
  <block id="afc9d68a1be701598b5ef94dc0be2844" category="sidebar">2 ノードクラスタの Deploy をリカバリします</block>
  <block id="1fe917b01f9a3f87fa2d7d3b7643fac1" category="sidebar">よく寄せられる質問</block>
  <block id="bf07f432276ee2fe7e55f9ea12c2ba5a" category="sidebar">詳細はこちらをご覧ください</block>
  <block id="93168a8084b3e838d2932c4734bd234e" category="sidebar">以前のバージョン</block>
  <block id="71d4b54f0c3f31371ccbff3189f7515e" category="inline-link-macro">ONTAP Select 9.11.1の新機能</block>
  <block id="9c714c0377048955032a0d4ac05768a9" category="list-text"><block ref="9c714c0377048955032a0d4ac05768a9" category="inline-link-macro-rx"></block></block>
  <block id="eb1d813ea715b64863d0af3529b1d443" category="admonition">ONTAP Select 9.10.1 以降、 KVM ハイパーバイザーに新しいクラスタを導入することはできなくなりました。ONTAP Select 9.11.1以降では、既存のKVMクラスタおよびホストですべての管理機能を使用できなくなります。ただし、Take offline機能とdelete機能は除きます。</block>
  <block id="8db26cba39c72c35a0f54f9a465fa3a2" category="paragraph">ONTAP Select 9.11.1は、VMware ESXiに導入できます。このサイトには、VMware ESXiで実行されているONTAP Select 9.11.1、9.10.1、9.6.1、9.8、9.7およびハイパーバイザーに依存しないドキュメント（REST APIなど）が含まれています。</block>
  <block id="33b6370e1de46bd324564163dfaf48a9" category="list-text">VMware ESXi 7.0 GA（ビルド15849807以降）：7.0 U1、U2、U3Cを含む</block>
  <block id="1ff0d4093fc891e95ebf937fc719f313" category="inline-link-macro">ONTAP Select 9.11.1の通知です</block>
  <block id="b21133b863e352c7e380ae8974198a75" category="list-text"><block ref="b21133b863e352c7e380ae8974198a75" category="inline-link-macro-rx"></block></block>
  <block id="d36f4205c301fa0311580c2426a17881" category="list-text">KVMハイパーバイザーは、VMware ESXiの代わりに使用されます（ONTAP Select 9.10.1以降で新しいクラスタを作成する際にKVMはサポートされなくなりました）。</block>
  <block id="91f528f33d4be79010000f66d8e7792c" category="inline-link">ONTAP Select 9.11.1リリースノート</block>
  <block id="b25679a7bebb3b9795d3926792d8c9a9" category="paragraph">MetroCluster SDS は、 ROBO 環境内の 2 ノードクラスタでのサポートに応じて、同じ VMware ESXi ハイパーバイザーと KVM ハイパーバイザーに導入できます。KVMはONTAP Select 9.10.1以降のリリースではサポートされなくなりました。</block>
  <block id="0ec7f2d003cb42f9464107b0ad854843" category="admonition">ONTAP Select 9.10.1以降では、新しいONTAP Select クラスタの導入時にKVMハイパーバイザーがサポートされなくなりました。以前にサポートされていたリリースでも KVM を使用できます。</block>
  <block id="9230331b34c3673c82d4b22760bb266d" category="list-text">ハイパーバイザーESXiまたはKVMに導入できます（Deployリリースによって異なります）。ESXi に導入する際、ハイパーバイザーは vCenter で管理することも、スタンドアロンホストにすることもできます。</block>
  <block id="aacb1ad8ec74092a13074108a4e20c02" category="section-title">VMware ESXiのサポートを強化</block>
  <block id="aa46a81eb495f6cb92e19c98c6d7383a" category="paragraph">ONTAP Select 9.11.1では、VMware ESXi 7.0 U3Cがサポートされています。</block>
  <block id="f25b903f1c04994aeb9659893008d29f" category="paragraph">ONTAP Select 9.10.1 は VMware NSX -T バージョン 3.1.2 に対応しています。OVA ファイルと ONTAP Select Deploy 管理ユーティリティを使用して導入された ONTAP Select シングルノードクラスタで NSX と T を使用しても、機能の問題や不具合は発生しません。</block>
  <block id="2274fb2127a3a8f7f5aa9544b4f66acd" category="paragraph">ただし、ONTAP Select マルチノードクラスタでNSXとTを使用する場合は、ONTAP Select 9.11.1の次の要件および制限事項に注意してください。</block>
  <block id="cd89fb70ae3399d9a889b581a0f642f8" category="paragraph">KVMハイパーバイザーはサポートされなくなりました。</block>
  <block id="ac55843b389d08df5493481d397627ff" category="paragraph">ONTAP Select 9.10.1以降のリリースでは、新しいKVMベースのクラスタを作成したり、Deployユーティリティを使用してKVMベースのホストを追加したりすることができなくなりました。また、9.10.1は、既存のKVMクラスタとホストを含む、オンライン化などの管理機能をサポートする最後のリリースとなりました。</block>
  <block id="903c9574703487544d2aede2d7c2ccfd" category="paragraph">その後、ONTAP Select 9.11.1以降のリリースでは、既存のKVMクラスタおよびホストですべての管理機能を使用できなくなりました。ただし、Take offline機能とdelete機能は除きます。</block>
  <block id="4a2f121824a056475165660b79eefb58" category="admonition">ONTAP Select 9.10.1以降では、新しいクラスタの作成時にKVMハイパーバイザーがサポートされなくなりました。以下の例は、 KVM をサポートする以前のリリースに該当します。</block>
  <block id="5f3026f83f6c32eec05d90d578a5e7ea" category="paragraph">を参照してください <block ref="6dd97e1bd4c3fafba8bd8a1033c5617c" category="inline-link-macro-rx"></block> クラスタを導入するための準備。Deploy の管理をインストールして初期設定（パスワード、 AutoSupport 、 vCenter ）する必要があります。</block>
  <block id="d0a2c35dd24f48a701484a2c0e0e4e2a" category="list-text">ESXとKVMでサポート（ONTAP Select 9.10.1より前）</block>
  <block id="089ce9e252a6b5d4200f327104cdd7f6" category="admonition">ONTAP Select 9.10.1以降では、新しいクラスタの導入時にKVMハイパーバイザーがサポートされなくなりました。以前にサポートされていたリリースでも KVM を使用できます。</block>
  <block id="34a5cab8543c50812e1e9045207ef342" category="sidebar">ONTAP Select のドキュメント</block>
  <block id="0f4660890a6410bffddf8509d2c29d15" category="paragraph">にアクセスできます<block ref="192e9fbc4335e2d8900d363693ade117" category="inline-link-rx"></block> をクリックすると、現在のバージョンの詳細が表示されます。</block>
  <block id="88d96915de77c1959098b364119959de" category="paragraph">を参照してください <block ref="20acef5038e91881d90c1f2f38d1998f" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="d0730ff14b2f6fb53d9e49978a76660e" category="summary">ONTAP Select は、ほとんどのONTAP 機能を完全にサポートしています。ONTAP の機能の多くには、クラスタの導入時に各ノードで自動的にライセンスが付与されます。ただし、一部の機能には個別のライセンスが必要です。</block>
  <block id="0deac5caf37785bb3c3ce0d80f8d8d18" category="admonition">ハードウェア固有の依存関係を持つONTAP 機能は、一般にONTAP Select ではサポートされていません。</block>
  <block id="8132b1f57834df621ea1aedaa548729e" category="section-title">ONTAP の機能はデフォルトで自動的に有効になります</block>
  <block id="d4370df695508d400d73750728248ebe" category="paragraph">ONTAP Select には次の機能が含まれており、デフォルトでライセンスが付与されています。</block>
  <block id="1716834171e243de0f898a67621b6624" category="list-text">ONTAP S3</block>
  <block id="a56a12489213d10b531398efee448f95" category="section-title">個別にライセンスされるONTAP の機能</block>
  <block id="585f4a038bba40a29999437c007446e9" category="paragraph">ONTAP 機能がデフォルトで有効になっていない場合は、次のライセンスを別途取得する必要があります。</block>
  <block id="6dec3523c85f378f79fcf83c82e21868" category="paragraph">ソフトウェアRAIDを使用しているドライブで障害が発生した場合、ONTAP Select はスペアドライブがあればそれを割り当て、リビルドプロセスを自動的に開始します。これは、FAS およびAFF でのONTAP の動作と似ています。使用可能なスペアドライブがない場合は、ONTAP Select ノードにスペアドライブを追加する必要があります。</block>
  <block id="483b2bdf1e13fa583e93f86544ae9ee4" category="admonition">障害が発生したドライブの取り外しと新しいドライブ（スペアとしてマークされている）の追加は、ONTAP Select Deployを使用して実行する必要があります。vSphere を使用した ONTAP Select VM へのドライブの接続はサポートされていません。</block>
  <block id="04985546e9771cbfe818d7c08949cb4e" category="paragraph">ドライブで障害が発生した場合は、ONTAP CLIを使用して障害ディスクを特定する必要があります。</block>
  <block id="76b45a86afe9ddfec423de5caad088a5" category="list-text">管理者アカウントを使用して、ONTAP CLIにサインインします。</block>
  <block id="56f32587956bc806f4ffe1823a1a1872" category="list-text">障害が発生したディスクドライブを特定します。</block>
  <block id="562e70611d61b3bdd5fa02c1473d7fb3" category="section-title">ONTAP Select ノードにストレージを接続しています</block>
  <block id="866ece73832a5308b812e48e59ba8a4f" category="paragraph">ONTAP Select クラスタ内の各ノードで使用するストレージを設定する必要があります。すべてのノードには、必ず少なくとも1つのストレージプールを割り当てる必要があります。ソフトウェアRAIDを使用する場合は、各ノードに少なくとも1本のディスクドライブを割り当てる必要があります。</block>
  <block id="f31242a3b10d57ca87f84e612994d57c" category="paragraph">ストレージプールはVMware vSphereを使用して作成する必要があります。ソフトウェアRAIDを使用する場合は、使用可能なディスクドライブが少なくとも1本必要です。</block>
  <block id="2976fb0a07ffd25ea274d2cc9bc187be" category="paragraph">ローカルハードウェアRAIDコントローラを使用する場合は、手順1~4を実行する必要があります。ソフトウェアRAIDを使用する場合は、手順1~6を実行する必要があります。</block>
  <block id="cc6982c020bc97509cfd68e72db0524e" category="list-text">管理者アカウントのクレデンシャルを使用して、SSHを使用してDeployユーティリティのCLIにサインインします。</block>
  <block id="1d0fd2b207143cd0cbfe1f1eca67206a" category="list-text">ソフトウェアRAIDを使用している場合は、使用可能なドライブを接続します。</block>
  <block id="477b4fc07bc021818bf99ca0a2f9a370" category="paragraph">「node storage disk attach -node-name -cluster-name clustername -disk list_of drives」のように指定します</block>
  <block id="10d4b2d6f8c74f79bcce5324cfbda150" category="list-text">ソフトウェアRAIDを使用している場合は、ノードに接続されているディスクを表示します。</block>
  <block id="f1efe358bd22df5ef0bdf73fc9e8d10b" category="paragraph">node storage disk show -node-name nodename -cluster-name clustername</block>
  <block id="1a4f0dd8a8bf6109c981c282ef6e87c9" category="paragraph">サポートされている\'83\'7dイクロプロセッサは、次のとおりです。</block>
  <block id="9adc1cc3490cf88dcf6538833825d06d" category="paragraph">クラスタのサイズに基づいて、サポートされるイーサネット構成がいくつかあります。</block>
  <block id="28f29271814291e43be7deaba751046b" category="cell">クラスタサイズ</block>
  <block id="c76e3867213cff8946148c6510af0736" category="cell">推奨事項</block>
  <block id="b57920e2838d0b8c1570a84513bd3391" category="cell">シングルノードクラスタ</block>
  <block id="84b6dad36f332d459c3cbbff61102611" category="cell">1GbE×2</block>
  <block id="76d2b682f134359232d4f4b954c5e1a3" category="cell">2ノードクラスタまたはMetroCluster SDS</block>
  <block id="0ea5b2cd33e45a6a2df81dcad2a5045d" category="cell">1GbE×4または10GbE×1</block>
  <block id="f2f0116ae4525605fa023e57cc038a7e" category="cell">4 / 6 / 8ノードクラスタ</block>
  <block id="aabad23ff55f6490dcedde7b5fc7b430" category="cell">10GbE×4、または25/40GbE×2</block>
  <block id="e329a903fac418f23c3deeab45b989ff" category="paragraph">十分なハードウェアを使用できる場合は、次の図に示すマルチスイッチ構成を推奨します。これは、物理スイッチの障害からの保護を強化するためです。</block>
  <block id="cf3d9f4201951d721713f10886d41ddb" category="list-text">SSDまたはNVMeでサポートされます</block>
  <block id="962977c7a55570a3e19ef88b744147a7" category="paragraph">プラットフォームライセンスには3種類あります。</block>
  <block id="20f809b70a876834d72604dfbfe98104" category="section-title">ONTAP Select 9.5以前</block>
  <block id="9b80340c4530b90196798dcf94e75bd0" category="list-text"><block ref="c067844a81e7c795b1a0cf80bc733e0a" category="inline-link-rx"></block></block>
  <block id="ce069f22ea6686ee5804f79668ad2604" category="paragraph">ONTAP Select では、ハードウェアRAIDコントローラなしでサーバを使用できます。この場合、RAID機能はソフトウェアで実装されます。ソフトウェアRAIDを使用する場合は、SSDとNVMeの両方のドライブがサポートされます。ONTAP Select ブートディスクおよびコアディスクは、引き続き仮想化されたパーティション（ストレージプールまたはデータストア）内に配置する必要があります。ONTAP Select は、 RD2 （ルート / データ / データパーティショニング）を使用して SSD をパーティショニングします。したがって、 ONTAP Select ルートパーティションは、データアグリゲートに使用される物理スピンドルと同じ上にあります。ただし、ルートアグリゲートおよびブートディスクとコア仮想ディスクは容量ライセンスには含まれません。</block>
  <block id="d99d1ee778dcc55cd5ef8ec7e7fbfe03" category="paragraph">を参照してください <block ref="6a6c3a35bed163956cd809e794515882" category="inline-link-macro-rx"></block> 2NICの導入の詳細については、セクションを参照してください。</block>
  <block id="11df1b38a5a2ea8b9db14b04ac764963" category="paragraph">を参照してください <block ref="6a6c3a35bed163956cd809e794515882" category="inline-link-macro-rx"></block> 4 NICの導入の詳細については、セクションを参照してください。</block>
  <block id="0b8fcc55e97d20019fb0590e6050f05a" category="paragraph">ストレージに関する次のベストプラクティスを考慮してください。</block>
  <block id="9ce9cfe85fd0812dd4c7d67877847ca2" category="section-title">RAIDグループ</block>
  <block id="815e0121226986e09eb647335b4680a9" category="paragraph">ネットワークに関する次のベストプラクティスを考慮してください。</block>
  <block id="2a82406e8e7c0600006937df3b521341" category="paragraph">高可用性を実現するために、次のベストプラクティスを考慮してください。</block>
  <block id="54fde500cc3ba8597d47cabb48a00be3" category="inline-link-macro">ストレージの詳細を見る</block>
  <block id="d00a727f4efadac7467b334f9d6e6e6f" category="admonition">ハードウェア RAID コントローラがある場合は、を参照してください <block ref="208b02e9be0b4bec1c473551cc17de06" category="inline-link-macro-rx"></block> 追加の設定要件については、セクションを参照してください</block>
  <block id="d42e8fbcf79f7de1303918aafa7d9fa7" category="list-text">シナリオ 1</block>
  <block id="f3e74248377d94409e1540a1624ce392" category="list-text">アップグレード前に、ボリュームのStorage Efficiencyポリシーが有効になっていない場合：</block>
  <block id="3d2b891e87f58587dcf56e520915afef" category="list-text">シナリオ 2</block>
  <block id="43e9194049b3d7a6c187a87ec174a587" category="list-text">アップグレード前に、ボリュームのStorage Efficiencyがすでに有効になっている場合：</block>
  <block id="5155efbcd1e27494a48f0822b79e35fa" category="list-text"><block ref="5155efbcd1e27494a48f0822b79e35fa" category="inline-link-macro-rx"></block></block>
  <block id="d7af9ae95a1e59c78282dc165f7f88f0" category="list-text"><block ref="d7af9ae95a1e59c78282dc165f7f88f0" category="inline-link-macro-rx"></block></block>
  <block id="a300be52ac6bc20637c7ea03e867e8d8" category="paragraph">過去のバージョンの製品のリリースノートにアクセスするには、次のトピックを参照してください。</block>
  <block id="02dd0a4dcd3d8502f6760ef0dfd60781" category="inline-link">ONTAP Select 製品ライブラリのアーカイブ</block>
  <block id="6eb890d444efcf0d812ec26da8b7d5a7" category="list-text"><block ref="2b4946d3110ff612e589949f26dbb8fd" category="inline-link-rx"></block></block>
  <block id="79b30390c302fda3ec5ffb50b9c49328" category="paragraph">ONTAP Select に関するよくある質問とその回答を確認できます。</block>
  <block id="fc3d5152aab5577142090d3fea55b1a1" category="admonition">ONTAP Select 9.10.1以降では、新しいクラスタの作成時にKVMハイパーバイザーがサポートされなくなりました。また、9.11.1以降では、KVM上の既存のONTAP Select クラスタを管理できなくなりました。KVMに関する質問は、KVMをサポートする以前のリリースにのみ該当します。</block>
  <block id="8d770a453153e5d358164ea9ef9bf0e8" category="paragraph">一般的な質問と回答がいくつかあります。</block>
  <block id="fd2592b5e30a41d0f087309f6ac783bb" category="section-title">ライセンス、インストール、アップグレード、およびリバート</block>
  <block id="ceccd65857e96dfe0c1b4a62cd5b480c" category="paragraph">ライセンス、インストール、アップグレード、および復元に関するいくつかの質問と回答があります。</block>
  <block id="ceed3431e832bcc4ed7abd4ee42953a3" category="paragraph">ストレージに関するいくつかの質問と回答があります。</block>
  <block id="cbab6c31b41bb188bc4ba240083ce827" category="paragraph">VMware vCenterに関するいくつかの質問と回答があります。</block>
  <block id="deefb3c18a89281e42ac55f126cd8f05" category="paragraph">HAペアとクラスタに関するいくつかの質問と回答があります。</block>
  <block id="3f83df83bd11d7f81b3c3710dcf088f6" category="paragraph">メディエーターサービスに関するいくつかの質問と回答があります。</block>
  <block id="ad09a727e87d60924d41059bc2e3512d" category="paragraph">vCenter Server アカウントを定義して、必要な管理権限を含むロールに関連付ける必要があります。</block>
  <block id="6a176bf972e6c312a20100e72c6e9221" category="admonition">また、ONTAP Select が導入されているESXiハイパーバイザーホストを管理するvCenter Serverの完全修飾ドメイン名またはIPアドレスも必要です。</block>
  <block id="3489d6dd43de51b350987805580dc94e" category="paragraph">ONTAP Select クラスタの作成と管理に必要な最小限の管理者権限を次に示します。</block>
</blocks>