---
sidebar: sidebar 
permalink: concept_stor_concepts_chars.html 
keywords: ontap select, storage concepts 
summary: 特定のストレージコンポーネントについて確認する前に、 ONTAP Select 環境に適用されるストレージの一般的な概念について説明します。 
---
= ストレージ：一般的な概念と特徴
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
特定のストレージコンポーネントについて確認する前に、 ONTAP Select 環境に適用されるストレージの一般的な概念について説明します。



== ストレージ構成のフェーズ

ONTAP Select ホストストレージの主な設定フェーズは次のとおりです。

* 導入前の前提条件
+
** 各ハイパーバイザーホストが設定済みで、 ONTAP Select 環境向けの準備ができていることを確認します。
** この構成には、物理ドライブ、 RAID コントローラとグループ、 LUN 、および関連するネットワークの準備が含まれます。
** この設定は ONTAP Select の外部で実行されます。


* ハイパーバイザー管理者ユーティリティを使用した設定
+
** ハイパーバイザー管理ユーティリティ（ VMware 環境の vSphere など）を使用して、ストレージの特定の要素を設定できます。
** この設定は ONTAP Select の外部で実行されます。


* ONTAP Select Deploy 管理ユーティリティを使用した設定
+
** Deploy 管理ユーティリティを使用して、論理ストレージのコア構成を設定できます。
** この処理は、 CLI コマンドを使用して明示的に実行するか、導入の一環としてユーティリティによって自動的に実行されます。


* 導入後の設定
+
** ONTAP Select の導入が完了したら、 ONTAP CLI または System Manager を使用してクラスタを設定できます。
** この設定は ONTAP Select Deploy の外部で実行されます。






== 管理対象のストレージと管理対象外のストレージ

ONTAP Select がアクセスして直接制御するストレージは、管理対象のストレージです。同じハイパーバイザーホスト上のそれ以外のストレージは管理対象外のストレージです。



=== 同種の物理ストレージ

ONTAP Select で管理されるストレージを構成するすべての物理ドライブは同種のドライブである必要があります。つまり、次の特性に関してすべてのハードウェアが同じである必要があります。

* タイプ（ SAS 、 NL-SAS 、 SATA 、 SSD ）
* 速度（ RPM ）




== ローカルストレージ環境の図

各ハイパーバイザーホストには、 ONTAP Select で使用可能なローカルディスクとその他の論理ストレージコンポーネントが含まれています。これらのストレージコンポーネントは、物理ディスクから階層構造に配置されます。

image:ST_01.jpg["ローカルストレージ環境"]



=== ローカルストレージコンポーネントの特性

ONTAP Select 環境で使用するローカルストレージコンポーネントに適用されるいくつかの概念があります。ONTAP Select の導入準備の前に、これらの概念を理解しておく必要があります。これらの概念は、 RAID グループと LUN 、ストレージプール、および仮想ディスクのカテゴリ別に分類されています。



==== 物理ドライブを RAID グループおよび LUN にグループ化する

1 つ以上の物理ディスクをホストサーバに対してローカルに接続し、 ONTAP Select で使用できます。物理ディスクは RAID グループに割り当てられます。 RAID グループは、ハイパーバイザーホストのオペレーティングシステムに 1 つ以上の LUN として提供されます。各 LUN は、ハイパーバイザーホストのオペレーティングシステムに物理ハードドライブとして提供されます。

ONTAP Select ホストを設定する場合は、次の点に注意してください。

* 管理対象のすべてのストレージに、単一の RAID コントローラからアクセスできる必要があります
* ベンダーによっては、 RAID グループあたりの最大数のドライブが各 RAID コントローラでサポートされます




==== 1 つ以上の RAID グループ

各 ONTAP Select ホストには単一の RAID コントローラが必要です。ONTAP Select 用に単一の RAID グループを作成する必要があります。ただし、状況によっては、複数の RAID グループの作成を検討しなければならないことがあります。を参照してください link:reference_plan_best_practices.html["ベストプラクティスのまとめ"]。



=== ストレージプールに関する考慮事項

ONTAP Select の導入準備の一環として、ストレージプールに関連するいくつかの事項を考慮する必要があります。


NOTE: VMware 環境では、ストレージプールは VMware データストアと同義です。



==== ストレージプールと LUN

各 LUN はハイパーバイザーホスト上のローカルディスクとみなされ、 1 つのストレージプールに属することができます。各ストレージプールは、ハイパーバイザーホスト OS が使用できるファイルシステムでフォーマットされます。

ONTAP Select の導入の一環として、ストレージプールが正しく作成されていることを確認する必要があります。ハイパーバイザー管理ツールを使用してストレージプールを作成できます。たとえば、 VMware の vSphere Client を使用してストレージプールを作成できます。ストレージプールは、 ONTAP Select Deploy 管理ユーティリティに渡されます。



=== 仮想ディスクの管理

ONTAP Select の導入準備の一環として、仮想ディスクに関連するいくつかの事項を考慮する必要があります。



==== 仮想ディスクとファイルシステム

ONTAP Select 仮想マシンには、複数の仮想ディスクドライブが割り当てられます。各仮想ディスクは、実際にはストレージプールに格納されるファイルであり、ハイパーバイザーによって管理されます。ONTAP Select で使用されるディスクには、主にシステムディスクとデータディスクといういくつかの種類があります。

仮想ディスクについては、次の点にも注意してください。

* 仮想ディスクを作成する前に、ストレージプールが使用可能である必要があります。
* 仮想マシンを作成する前に仮想ディスクを作成することはできません。
* すべての仮想ディスクを作成するには、 ONTAP Select Deploy 管理ユーティリティを使用する必要があります（管理者は Deploy ユーティリティ以外で仮想ディスクを作成することはできません）。




==== 仮想ディスクを設定します

仮想ディスクは ONTAP Select によって管理されます。Deploy 管理ユーティリティを使用してクラスタを作成すると、この仮想サーバが自動的に作成されます。



== 外付けストレージ環境の図

ONTAP Select vNAS 解決策 を使用すると、ハイパーバイザーホストの外部にあるストレージ上のデータストアを ONTAP Select で使用できます。データストアには、 VMware vSAN を使用してネットワーク経由でアクセスするか、外付けストレージアレイから直接アクセスできます。

ハイパーバイザーホストの外部にある、次のタイプの VMware ESXi ネットワークデータストアを使用するように ONTAP Select を設定できます。

* vSAN （仮想 SAN ）
* VMFS
* NFS




=== vSAN データストア

各 ESXi ホストでは、ローカルの VMFS データストアを 1 つ以上使用できます。通常、これらのデータストアにはローカルホストのみがアクセスできます。ただし、 VMware vSAN を使用すると、 ESXi クラスタ内の各ホストがクラスタ内のすべてのデータストアをローカルのデータストアと同じように共有できます。次の図は、 ESXi クラスタ内のホスト間で共有されるデータストアのプールを vSAN で作成する方法を示しています。

image:ST_02.jpg["ESXi クラスタ"]



=== 外付けストレージアレイ上の VMFS データストア

外付けストレージアレイ上の VMFS データストアを作成できます。このストレージにアクセスする場合は、いくつかの異なるネットワークプロトコルを使用できます。次の図は、 iSCSI プロトコルを使用してアクセスする、外付けストレージアレイ上の VMFS データストアを示しています。


NOTE: ONTAP Select は、『 VMware ストレージ /SAN 互換性ガイド』に記載されている、 iSCSI 、ファイバチャネル、および Fibre Channel over Ethernet を含むすべての外付けストレージアレイをサポートします。

image:ST_03.jpg["ESXi ハイパーバイザーホスト"]



=== 外付けストレージアレイ上の NFS データストア

外付けストレージアレイ上の NFS データストアを作成できます。このストレージにアクセスするには、 NFS ネットワークプロトコルを使用します。次の図は、 NFS サーバアプライアンスを使用してアクセスする、外付けストレージ上の NFS データストアを示しています。

image:ST_04.jpg["ESXi ハイパーバイザーホスト"]
